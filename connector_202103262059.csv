"connector_id","dep_id","name","version","target_schema_id","source_code","blockly_xml","last_modified_user","last_modified"
5,5,temp,1,1,"","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable type=""String"" id=""hwDz4i|fB22wc)d%H/Pw"">StoreAttrID</variable>
    <variable id=""9K7hRV18ZZqy0:_xIb]V"">ProID</variable>
    <variable type=""String"" id=""1gu.[g1Z25FN.zI)~Kj["">TypeId</variable>
    <variable type=""String"" id=""pAeV9yRmt~=k$1JJlPD)"">MetaCustTypeAttrDefId</variable>
    <variable type=""String"" id=""T0z7kVYQs~kWl~AkG7{r"">CatRefID</variable>
    <variable type=""String"" id=""uwF:B;,dnM0H)6n/pWpM"">CollId</variable>
    <variable id="".x]wLkcDZARtL=$Y?I+|"">productID</variable>
    <variable id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</variable>
    <variable type=""String"" id=""v7WX(^Op*`U!2c+/2-,B"">SlotID</variable>
    <variable type=""String"" id=""BG4%#=_iF)o_[v.;O}a~"">StoreID</variable>
    <variable type=""String"" id=""A=D5fOGzkaB#Jza3fr*y"">ContentID</variable>
    <variable type=""Number"" id=""HRwJ6/.EX7sq1+vUPA3b"">ValDefID</variable>
    <variable type=""String"" id=""0mp!SOxQ;AK9D76Ctk4n"">groupId</variable>
    <variable id=""3=Wztag7m[V=:RjbKy[q"">Color</variable>
    <variable id=""NOG)u%.4)5RwYGuM@m=W"">ConID</variable>
    <variable id=""GP0.:;07I9tc6z95J]}?"">ProByColorID</variable>
    <variable type=""String"" id=""}ypyml%7*ZL3oy^KwUB2"">ExtID</variable>
    <variable type=""String"" id=""*trv/?T8j0yv}*:rP[*K"">attr_Context</variable>
    <variable id=""VYoJ`ox#;PF*pD*B?U@7"">CheckPBook</variable>
    <variable id=""TTc8Ib4kMJ{r!l:pdJ.Y"">ProCustAttrId</variable>
    <variable id=""4GVu=W;;=9[{TRi5bVA="">ProAttrID</variable>
    <variable id=""AR[CrQjh{@tckDhw~6S5"">imgID</variable>
    <variable id=""P|BMnbt90oe_VNg?/dIq"">VarID</variable>
    <variable id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</variable>
  </variables>
  <block type=""procedures_defnoreturn"" id=""9r!mecG*^gZQMd0+s,h4"" x=""538"" y=""-2237"">
    <field name=""NAME"">ProductsGo</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""!d{Ldz7VT9O=yp@vgYM8"">
        <field name=""CONTEXT_SELECT"">products</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""{ei{H$?JN+D6GZJ:*9l|"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="":+a5#UZl_ZgAm2X~Ed(`"">
                <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id""&amp;#10;from &amp;#10;""Products"" p </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""usmLre%KT36e-6saGYXh"">
                <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""9[vP[I`(oyUdL8*M.8Lr"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""3n5s=wWaXq3WrP77_r0,"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Fel;ePw;4i)BMheF0B.G"">
                        <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id"",&amp;#10;p.""Ean"" as ""ean"", &amp;#10;p.""Upc"" as ""upc"",&amp;#10;p.""Unit"" as ""unit"",&amp;#10;p.""MinOrderQuantity"" as ""minOrderQuantity"",&amp;#10;p.""StepQuantity"" as ""stepQuantity"",&amp;#10;p.""OnlineFlag"" as ""onlineFlag"",&amp;#10;p.""AvailableFlag"" as ""availableFlag"",&amp;#10;p.""SearchableFlag"" as ""searchableFlag"",&amp;#10;p.""ManufacturerSKU"" as ""manufacturerSku"",&amp;#10;p.""TaxClassID"" as ""taxClassId"",&amp;#10;p.""PageURL"" as ""pageUrl""&amp;#10;from &amp;#10;""Products"" p &amp;#10;where &amp;#10;p.""ID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""~l$w=3aa`QNk#tf(i?{K""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""T06h1zp|0@a,HnU,^tAa"">
                        <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""execute_sql"" id=""}lUzHHpUj{CS0iCLZe6k"">
                        <mutation executesql=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""*t?r;Vw)#zDvnb?HeCy7"">
                            <field name=""SQL_QUERY"">select &amp;#10;pdn.""Value"" as ""name""&amp;#10;from &amp;#10;""Products"" p ,""ProductDisplayNames"" pdn &amp;#10;where&amp;#10;pdn.""Language"" = 'x-default'&amp;#10;and&amp;#10;p.""ID"" = pdn.""ProductId"" </field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""automap"" id=""NF:56rA{s,)Nb;b_s(*C""></block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""qzj}5H;2U,Fc0F_F]/Ig"">
                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                          </block>
                        </value>
                        <next>
                          <block type=""execute_sql"" id=""Yh-Nm3/smZBAhR5-ipz,"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""7`bpf#(6B}pHOD~eQlEi"">
                                <field name=""SQL_QUERY"">select&amp;#10;pcc.""CatalogID"" as ""classificationCategory""&amp;#10;from &amp;#10;""Products"" p, ""ProductClassCat"" pcc &amp;#10;where &amp;#10;pcc.""ProductID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""automap"" id=""Prs,M*5W]6b:}[2cQeIw""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""svRXP[YMyzs3Bs9:k9@8"">
                                <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id=""fQQH)bv0ruc%i*J!87V^"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""(spY[HY.j_h_WxHw5B8}"">
                                    <field name=""SQL_QUERY"">select &amp;#10;psd.""Value"" as ""shortDescription""&amp;#10;from &amp;#10;""ProductShortDescriptions"" psd &amp;#10;where&amp;#10;psd.""ProductId"" = %s&amp;#10;and &amp;#10;psd.""Language"" = 'x-default'</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""automap"" id=""ce`@1za6O1[%~w%.AV#6""></block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""M8rC)ZC!sU4Xf5xOp}gF"">
                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""set_context_array_struct"" id=""VFZ~^6mM_==/uZA5oAJ7"">
                                    <field name=""CONTEXT_SELECT"">products-shortDescriptions</field>
                                    <statement name=""DO"">
                                      <block type=""execute_sql"" id=""Xp9{e^;2.b4{VtPZdy3?"">
                                        <mutation executesql=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""h5C24_bulE)Mli~Id-0Q"">
                                            <field name=""SQL_QUERY"">select &amp;#10;psd.""Language"" as ""lang"",&amp;#10;psd.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductShortDescriptions"" psd &amp;#10;where&amp;#10;psd.""ProductId"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""append_row"" id=""wbEw$t*_:?T.]/,BEShp"">
                                            <next>
                                              <block type=""automap"" id=""gHD`0|=[):bAa1LJ):X7""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""L0Y0Y@_9Kx}*)1h-T@G["">
                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type=""execute_sql"" id=""x6)}cbOtOZ:.tk+mUv}a"">
                                        <mutation executesql=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""(laSN*E[(Emw}+X;MtNj"">
                                            <field name=""SQL_QUERY"">select &amp;#10;pld.""Value"" as longDescription&amp;#10;from &amp;#10;""ProductLongDescriptions"" pld &amp;#10;where&amp;#10;pld.""ProductId""  = %s&amp;#10;and &amp;#10;pld.""Language"" = 'x-default' </field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""automap"" id=""qK}T~sLV]C=7*?;386.O""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""#D^0Tgxoq0u-5Jz{p/)B"">
                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""set_context_array_struct"" id=""?a%}z=HUrkTlLcFVzbX}"">
                                            <field name=""CONTEXT_SELECT"">products-longDescriptions</field>
                                            <statement name=""DO"">
                                              <block type=""execute_sql"" id=""Xv-$55Nw~1J#W)-.5z7V"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""g~W3U*MdcS#yY8;*N%AX"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;pld.""Language"" as ""lang"",&amp;#10;pld.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductLongDescriptions"" pld &amp;#10;where&amp;#10;pld.""ProductId""  = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""append_row"" id=""_d!`6~(,2zmqr+DU@yA8"">
                                                    <next>
                                                      <block type=""automap"" id=""+0nn-$b_82nM7j9X7]ca""></block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""._gWyP!mE4}1k1_=8ttQ"">
                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""execute_sql"" id=""x{8]Zl/?N{=DG~eHQ,]?"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""7_Fr?{5oDjdvrR.!/J2A"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;ppt.""Value"" as ""pageTitle""&amp;#10;from &amp;#10;""ProductPageTitles"" ppt &amp;#10;where&amp;#10;ppt.""ProductId"" = %s &amp;#10;and&amp;#10;ppt.""Language"" = 'x-default'</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""automap"" id=""a9VRqv[nlFme]@9oQSP:""></block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""Fhh:xqH9}jD0z}F)EZd2"">
                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""set_context_array_struct"" id=""frg)wM8yN3.R}DZ~}azm"">
                                                    <field name=""CONTEXT_SELECT"">products-pageTitles</field>
                                                    <statement name=""DO"">
                                                      <block type=""execute_sql"" id=""vE(~_0J98CV]vR#Y(I8o"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""/@:Tq[{C8-@ijN8DrEP-"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;ppt.""Language"" as ""lang"",&amp;#10;ppt.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductPageTitles"" ppt &amp;#10;where&amp;#10;ppt.""ProductId"" = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""append_row"" id=""61+%7d:cs:r7:}4`XmyD"">
                                                            <next>
                                                              <block type=""automap"" id=""@]wp|3/lHmNw/[hY{/dH""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""U2M)]:xnk^*5rbakq%y^"">
                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""execute_sql"" id=""jDND4SN%}sCY9QGTC,r0"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""Sd~@T#@r4=)RqjXRJEo2"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;ppd.""Value"" as ""pageDesc""&amp;#10;from &amp;#10;""ProductPageDescs"" ppd &amp;#10;where&amp;#10;ppd.""ProductId""  = %s&amp;#10;and&amp;#10;ppd.""Language"" = 'x-default'</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""automap"" id=""4@UKC|bHQ-NnVQC=6,8p""></block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""miTru*@PCXWPjBn%F$a="">
                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type=""set_context_array_struct"" id=""O:M4%:=7SlFh.f}.Qphj"">
                                                            <field name=""CONTEXT_SELECT"">products-pageDescs</field>
                                                            <statement name=""DO"">
                                                              <block type=""execute_sql"" id=""Ip=po@h3:,Y#[n~df0/*"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""1KJdkx;5)!%?uw~`eAK["">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;ppd.""Language"" as ""lang"",&amp;#10;ppd.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductPageDescs"" ppd &amp;#10;where&amp;#10;ppd.""ProductId""  = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""append_row"" id=""JQT/;@)SjzYyMU05N/*B"">
                                                                    <next>
                                                                      <block type=""automap"" id=""Z!1#|IK7ps[DDXYR,6,A""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""0+FR]V07y0:@%W+.L:6?"">
                                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                            <next>
                                                              <block type=""execute_sql"" id=""[,i#5*g+np)J)|A2YXaL"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""4tv%MUTV^t**tC^g+s!*"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;ppk.""Value"" as ""pageKeyword""&amp;#10;from &amp;#10;""ProductPageKeywords"" ppk &amp;#10;where&amp;#10;ppk.""ProductId""  = %s&amp;#10;and &amp;#10;ppk.""Language"" = 'x-default'</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""automap"" id=""}YKnTon.NpMYm3[g79W_""></block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""HmpoXP*@NTRI@3Pw1VJH"">
                                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type=""set_context_array_struct"" id=""VNRkJ@[9iMBpS4hcB6D4"">
                                                                    <field name=""CONTEXT_SELECT"">products-pageKeywords</field>
                                                                    <statement name=""DO"">
                                                                      <block type=""execute_sql"" id=""g$Or[/]kgrJ*OW-D?lJX"">
                                                                        <mutation executesql=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""|_emLF8Mi04g7iA)[`Gf"">
                                                                            <field name=""SQL_QUERY"">select &amp;#10;ppk.""Language"" as ""lang"",&amp;#10;ppk.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductPageKeywords"" ppk &amp;#10;where&amp;#10;ppk.""ProductId""  = %s</field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""append_row"" id=""z[m*:A*.+^4QzV2T;Xl+"">
                                                                            <next>
                                                                              <block type=""automap"" id=""XtG|F3rNT+F@`=oKk?6c""></block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get"" id=""V`mSbqpBdRYl,0#mEX?M"">
                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </statement>
                                                                    <next>
                                                                      <block type=""save_row"" id=""I5E2mXd.NeZ1z{h9kyxF""></block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""JX=m,s_*f}wb_=%XeXvi"" disabled=""true"" x=""2063"" y=""-1862"">
    <field name=""NAME"">Products_by_color</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""7,+gmY!7ljx:,`AV-;cu"">
        <field name=""CONTEXT_SELECT"">products_by_color</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""UPq08xi]t,i`D,:RsEg9"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""FBJYd;M:}PW;7=+GIu^t"">
                <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id""&amp;#10;from &amp;#10;""Products"" p </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""~_J1JI_-uwbS/zXRq_b6"">
                <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""2C6ieoRNmkyg=C;uJf/~"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""ih(]pITXt}bK:J6Ja1V+"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""yN?naK;JjJc)kx4e/@Sc"">
                        <field name=""SQL_QUERY"">select distinct&amp;#10;pav.""Value"" as ""color""&amp;#10;from&amp;#10;""ProductAttributeValue"" pav,""ProductAttributes"" pa &amp;#10;where&amp;#10;pa.""ProductId"" = %s&amp;#10;and&amp;#10;pav.""AttributeID"" = 'color'</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""variables_set"" id="":32L,7g4h[cJ[u9,8Kf("">
                        <field name=""VAR"" id=""3=Wztag7m[V=:RjbKy[q"">Color</field>
                        <value name=""VALUE"">
                          <block type=""refer_columns"" id=""Xu-:n(TTyCqQv?/5~(si"">
                            <field name=""COLUMN"">color</field>
                          </block>
                        </value>
                        <next>
                          <block type=""execute_sql"" id=""T1Y9J[mNE]5^7+yp;Ce6"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""BCX0Xn%nWRs17$%:);I1"">
                                <field name=""SQL_QUERY"">select &amp;#10;pv.""variantID"" as ""probycolorID""&amp;#10;from &amp;#10;""ProductAttributeValue"" pav, ""ProductVariants"" pv &amp;#10;where &amp;#10;pav.""Value"" = %s&amp;#10;and &amp;#10;pv.""ProductID"" = pav.""ProductId"" &amp;#10;and &amp;#10;pav.""ProductId"" != pv.""variantID"" </field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""variables_set"" id=""qi*5cj%mc1|oC]F;56lz"">
                                <field name=""VAR"" id=""GP0.:;07I9tc6z95J]}?"">ProByColorID</field>
                                <value name=""VALUE"">
                                  <block type=""refer_columns"" id=""CJMtdd!!-6?GXKB32$@!"">
                                    <field name=""COLUMN"">probycolorID</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""execute_sql"" id=""^8cW6-[K`nJe]yP;#B*!"">
                                    <mutation executesql=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""C4]q;}20q4=QTIftE{[f"">
                                        <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id"",&amp;#10;p.""Ean"" as ""ean"", &amp;#10;p.""Upc"" as ""upc"",&amp;#10;p.""Unit"" as ""unit"",&amp;#10;p.""MinOrderQuantity"" as ""minOrderQuantity"",&amp;#10;p.""StepQuantity"" as ""stepQuantity"",&amp;#10;p.""OnlineFlag"" as ""onlineFlag"",&amp;#10;p.""AvailableFlag"" as ""availableFlag"",&amp;#10;p.""SearchableFlag"" as ""searchableFlag"",&amp;#10;p.""ManufacturerSKU"" as ""manufacturerSku"",&amp;#10;p.""TaxClassID"" as ""taxClassId"",&amp;#10;p.""PageURL"" as ""pageUrl""&amp;#10;from &amp;#10;""Products"" p &amp;#10;where &amp;#10;p.""ID"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""automap"" id=""h5pv#_.Y2XE$@0pyJ~;-""></block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""~0E!F1.=gpBbYrx_XA-["">
                                        <field name=""VAR"" id=""GP0.:;07I9tc6z95J]}?"">ProByColorID</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""save_row"" id="":%7(P[%uz%r.,Za:zvcS""></block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""m_)bR@qv^+ewXz}Ki+T~"">
                                <field name=""VAR"" id=""3=Wztag7m[V=:RjbKy[q"">Color</field>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""S3+GKpoz|VX{j+br-22O"">
                        <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""{9aH,hplLq$aF4scg[8="" disabled=""true"" x=""1288"" y=""-1637"">
    <field name=""NAME"">Products</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""execute_sql"" id=""U$U9qubp~CAm+cW?z)YY"">
        <value name=""SQL_QUERY"">
          <block type=""sql_query"" id=""#r|`E.%i!SH0phaLNiw9"">
            <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id""&amp;#10;from &amp;#10;""Products"" p </field>
          </block>
        </value>
        <statement name=""DO"">
          <block type=""variables_set"" id=""KhJU?s=Jmg]!(b=7Z4`C"">
            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
            <value name=""VALUE"">
              <block type=""refer_columns"" id=""=6CLKo3n{h+C(9i6I|Wg"">
                <field name=""COLUMN"">id</field>
              </block>
            </value>
            <next>
              <block type=""execute_sql"" id=""KjV(Kr.+AR6L$||Sqw!o"">
                <mutation executesql=""1""></mutation>
                <value name=""SQL_QUERY"">
                  <block type=""sql_query"" id=""#Xo,wt=At9oQ{46u9XaQ"">
                    <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id"",&amp;#10;p.""Ean"" as ""ean"", &amp;#10;p.""Upc"" as ""upc"",&amp;#10;p.""Unit"" as ""unit"",&amp;#10;p.""MinOrderQuantity"" as ""minOrderQuantity"",&amp;#10;p.""StepQuantity"" as ""stepQuantity"",&amp;#10;p.""OnlineFlag"" as ""onlineFlag"",&amp;#10;p.""AvailableFlag"" as ""availableFlag"",&amp;#10;p.""SearchableFlag"" as ""searchableFlag"",&amp;#10;p.""ManufacturerSKU"" as ""manufacturerSku"",&amp;#10;p.""TaxClassID"" as ""taxClassId"",&amp;#10;p.""PageURL"" as ""pageUrl""&amp;#10;from &amp;#10;""Products"" p &amp;#10;where &amp;#10;p.""ID"" = %s</field>
                  </block>
                </value>
                <statement name=""DO"">
                  <block type=""automap"" id=""ns=rF1/SNFy2677sJtht""></block>
                </statement>
                <value name=""SQLOPTION1"">
                  <block type=""variables_get"" id=""?*ji|B.[iFkwf6tiaG{#"">
                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id="";%zAv:ts$P6qUvOZi@5("">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""-/iylK4Fn878A?ps|!%:"">
                        <field name=""SQL_QUERY"">select &amp;#10;pdn.""Value"" as ""name""&amp;#10;from &amp;#10;""Products"" p ,""ProductDisplayNames"" pdn &amp;#10;where&amp;#10;pdn.""Language"" = 'x-default'&amp;#10;and&amp;#10;p.""ID"" = pdn.""ProductId"" </field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""LPmNdu!KxTLglqzfXjxy""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""Upf?XD!bHrAM+srP{b)-"">
                        <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""execute_sql"" id=""]~c4j`q9EiImO-bxhOh)"">
                        <mutation executesql=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""BW2/gxFn}9Yreth99/rM"">
                            <field name=""SQL_QUERY"">select&amp;#10;pcc.""CatalogID"" as ""classificationCategory""&amp;#10;from &amp;#10;""Products"" p, ""ProductClassCat"" pcc &amp;#10;where &amp;#10;pcc.""ProductID"" = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""automap"" id=""4{AWP*CO_}Ksu?LDP`6!""></block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""~21@qV@jVR!(,XW{9p91"">
                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                          </block>
                        </value>
                        <next>
                          <block type=""execute_sql"" id=""9kJaU*ST/4C99Un4;^e`"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""*uvVs)9Wcs.~.Ed/5OP;"">
                                <field name=""SQL_QUERY"">select&amp;#10;pcc.""CatalogID"" as ""classificationCategory""&amp;#10;from &amp;#10;""Products"" p, ""ProductClassCat"" pcc &amp;#10;where &amp;#10;pcc.""ProductID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""automap"" id=""+YOzURKV$de6aGV]]vXO""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""*.hz3_Rw9%~h#*xL(dOZ"">
                                <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id=""$-2:_9#oR`bG4wj,[q1V"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""{exo4B:PP|*y4I3b_;rE"">
                                    <field name=""SQL_QUERY"">select &amp;#10;psd.""Value"" as ""shortDescription""&amp;#10;from &amp;#10;""Products"" p ,""ProductShortDescriptions"" psd &amp;#10;where&amp;#10;psd.""ProductId"" = %s&amp;#10;and &amp;#10;psd.""Language"" = 'x-default'</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""automap"" id=""v=^zfT,B-,`Ly`1~wL%h""></block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""[Xk?Yt)Ar2f?)|GbfsTv"">
                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""set_context_array_struct"" id="":UswhcvM93qQCwO?:k8-"">
                                    <field name=""CONTEXT_SELECT"">products-shortDescriptions</field>
                                    <statement name=""DO"">
                                      <block type=""execute_sql"" id=""!,1@_x@-f,[9aBXT9(8m"">
                                        <mutation executesql=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""cCI2f@(Hde.!K#X}}Z|C"">
                                            <field name=""SQL_QUERY"">select &amp;#10;psd.""Language"" as ""lang"",&amp;#10;psd.""Value"" as ""value""&amp;#10;from &amp;#10;""Products"" p ,""ProductShortDescriptions"" psd &amp;#10;where&amp;#10;psd.""ProductId"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""append_row"" id=""y)3,ga+iX2=7plUA7Ddz"">
                                            <next>
                                              <block type=""automap"" id=""4*WPgH;vMN0e)4~8N~FR""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""~]?2%u?]mB(cY,ToQ.Jh"">
                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type=""execute_sql"" id=""dZC+G(s+v^uAZL1_HFnx"">
                                        <mutation executesql=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""Avd/ELg{9{ehK4PjG$8x"">
                                            <field name=""SQL_QUERY"">select &amp;#10;pld.""Value"" as longDescription&amp;#10;from &amp;#10;""Products"" p ,""ProductLongDescriptions"" pld &amp;#10;where&amp;#10;pld.""ProductId""  = %s&amp;#10;and &amp;#10;pld.""Language"" = 'x-default' </field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""automap"" id=""KnHm)rdNsnvB1XfyKy37""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""V[tB1Z74`_qG1OD+6rma"">
                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""set_context_array_struct"" id=""N~Z}f~15zdBRnbU|xt*F"">
                                            <field name=""CONTEXT_SELECT"">products-longDescriptions</field>
                                            <statement name=""DO"">
                                              <block type=""execute_sql"" id=""fu5Q7Ro,UI8y~UJnrwlS"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""y45_9vYRX2v(kb+)DD~+"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;pld.""Language"" as ""lang"",&amp;#10;pld.""Value"" as ""value""&amp;#10;from &amp;#10;""Products"" p ,""ProductLongDescriptions"" pld &amp;#10;where&amp;#10;pld.""ProductId""  = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""append_row"" id=""CAE:hHos$[C@]T2t@FBd"">
                                                    <next>
                                                      <block type=""automap"" id="")By?YOun]D19=!OYrzpb""></block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""o,Gt~KqIWja`6-BN^(oS"">
                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""execute_sql"" id=""v]Ua]:rPl9e/`w1ZOw:L"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""J7VCi4lTM[*F~g$3#2-B"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;ppt.""Value"" as ""pageTitle""&amp;#10;from &amp;#10;""Products"" p,""ProductPageTitles"" ppt &amp;#10;where&amp;#10;ppt.""ProductId"" = %s &amp;#10;and&amp;#10;ppt.""Language"" = 'x-default'</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""automap"" id=""4?IC!e`{+;{$2}B$Cw`z""></block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""U}X`LzF_ZG/z,g[gfxyi"">
                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""set_context_array_struct"" id=""!I[m?tsL!g~bn@w3n{/a"">
                                                    <field name=""CONTEXT_SELECT"">products-pageTitles</field>
                                                    <statement name=""DO"">
                                                      <block type=""execute_sql"" id=""}vA;PIi6@`]couh{#~.Z"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""A)=a$jba$YaoZsyN}Jo}"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;ppt.""Language"" as ""lang"",&amp;#10;ppt.""Value"" as ""value""&amp;#10;from &amp;#10;""Products"" p,""ProductPageTitles"" ppt &amp;#10;where&amp;#10;ppt.""ProductId"" = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""append_row"" id=""~WMfZ.z9utCZ9$Vjy5eF"">
                                                            <next>
                                                              <block type=""automap"" id=""i74Znd2B*?)9kr+cf@TD""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""O)fcGauK,IKa2FY_4x!t"">
                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""execute_sql"" id=""=8/!/yM~$=mmJD7j7!5^"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""FaL@*2rb%aWX=/B?dwEg"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;ppd.""Value"" as ""pageDesc""&amp;#10;from &amp;#10;""Products"" p,""ProductPageDescs"" ppd &amp;#10;where&amp;#10;ppd.""ProductId""  = %s&amp;#10;and&amp;#10;ppd.""Language"" = 'x-default'</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""automap"" id=""P+:7Axk]zdv(FvEsF.:1""></block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""=NbRW:P6:W4AvgKl=mQF"">
                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type=""set_context_array_struct"" id=""Rh+naO5fA06q/$Qu6LQ%"">
                                                            <field name=""CONTEXT_SELECT"">products-pageDescs</field>
                                                            <statement name=""DO"">
                                                              <block type=""execute_sql"" id=""3S$y,:bR|gW?%N{~OYbJ"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""T7:?aEGI7R!VZdjcAGrR"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;ppd.""Language"" as ""lang"",&amp;#10;ppd.""Value"" as ""value""&amp;#10;from &amp;#10;""Products"" p,""ProductPageDescs"" ppd &amp;#10;where&amp;#10;ppd.""ProductId""  = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""append_row"" id="".=g[saOnKcK[qT%G!=$L"">
                                                                    <next>
                                                                      <block type=""automap"" id=""fL?RzdoT4),v9Otp|*PH""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""^hM?mhbOG=nbkyhqJO@1"">
                                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                            <next>
                                                              <block type=""execute_sql"" id=""7BB;nAK@qCl4C*nvKl1;"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""al}:Ow|B#bliAalHKS#U"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;ppk.""Value"" as ""pageKeyword""&amp;#10;from &amp;#10;""Products"" p ,""ProductPageKeywords"" ppk &amp;#10;where&amp;#10;ppk.""ProductId""  = %s&amp;#10;and &amp;#10;ppk.""Language"" = 'x-default'</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""automap"" id=""5-eqx*O3xzpRP1cBvJyz""></block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""N`]v9#(?8[}fi[#DFTFN"">
                                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type=""set_context_array_struct"" id="";*=_(g?VV+]u`rwRG+W]"">
                                                                    <field name=""CONTEXT_SELECT"">products-pageKeywords</field>
                                                                    <statement name=""DO"">
                                                                      <block type=""execute_sql"" id=""TD;!rF3X=_XqY|`GkO+)"">
                                                                        <mutation executesql=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""GuYmuNJg/_AjF.dA5@,~"">
                                                                            <field name=""SQL_QUERY"">select &amp;#10;ppd.""Language"" as ""lang"",&amp;#10;ppd.""Value"" as ""value""&amp;#10;from &amp;#10;""Products"" p,""ProductPageDescs"" ppd &amp;#10;where&amp;#10;ppd.""ProductId"" = %s </field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""append_row"" id=""|=0PSp]^6r!+3dXK[?w1"">
                                                                            <next>
                                                                              <block type=""automap"" id="")~1f|GBp@KlB_nyOi5tV""></block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get"" id=""_x~B$loQ@2doauaU~;f+"">
                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </statement>
                                                                    <next>
                                                                      <block type=""execute_sql"" id=""N){U_B?|O^m*QYlb9-kg"">
                                                                        <mutation executesql=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""Jq;R-OBixqCQ`iNAG6kv"">
                                                                            <field name=""SQL_QUERY"">select &amp;#10; coalesce ((select &amp;#10;pr.""ProductID"" &amp;#10;from ""PricebookRecord"" pr &amp;#10;where pr.""ProductID"" = %s&amp;#10;),(select &amp;#10;orpr.""ProductID"" &amp;#10;from &amp;#10;""OverRidePricebookRecord"" orpr &amp;#10;left join ""PricebookRecord"" pr &amp;#10;on&amp;#10;pr.""ProductID"" = orpr.""ProductID"" &amp;#10;where&amp;#10;orpr.""ProductID"" = %s))</field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""variables_set"" id=""1?mqw;%v7Zp4-p_q$H0j"">
                                                                            <field name=""VAR"" id=""VYoJ`ox#;PF*pD*B?U@7"">CheckPBook</field>
                                                                            <next>
                                                                              <block type=""variables_set"" id=""/51sv9Y=_p5iNlb`dGqX"">
                                                                                <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                <value name=""VALUE"">
                                                                                  <block type=""refer_columns"" id=""=*C2OnwO}++KF8lD;Y^Y"">
                                                                                    <field name=""COLUMN"">prID</field>
                                                                                  </block>
                                                                                </value>
                                                                                <next>
                                                                                  <block type=""controls_if"" id=""6GHka_;|WN)VlW$|.xX:"">
                                                                                    <mutation elseif=""1""></mutation>
                                                                                    <value name=""IF0"">
                                                                                      <block type=""logic_compare"" id="":1nb-ak1A:/CM`ffxJJ:"">
                                                                                        <field name=""OP"">EQ</field>
                                                                                        <value name=""A"">
                                                                                          <block type=""variables_get"" id=""X?SaTubK%lGa0s)TB[Nx"">
                                                                                            <field name=""VAR"" id=""VYoJ`ox#;PF*pD*B?U@7"">CheckPBook</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <value name=""B"">
                                                                                          <block type=""text"" id=""SYb2}21G1y~EyBmx{mAR"">
                                                                                            <field name=""TEXT"">PriceBook</field>
                                                                                          </block>
                                                                                        </value>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO0"">
                                                                                      <block type=""execute_sql"" id=""N$X5^oSp$Ho6tJG1a:#^"">
                                                                                        <mutation executesql=""2""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""@j2T6;j7,A#19y(!-fu^"">
                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pra.""Value"" as ""price"",&amp;#10;pra.""Quantity"" as ""ats""&amp;#10;from &amp;#10;""PricebookRecord"" pr ,""PricebookRecordAmount"" pra &amp;#10;where&amp;#10;pra.""PricebookRecordID"" = %s&amp;#10;and &amp;#10;pr.""ProductID"" = %s</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""automap"" id=""~@V7aL4ONfls_Y3[wCAV""></block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get"" id=""/Hvpa6~l3jXW.O0ewzZm"">
                                                                                            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <value name=""SQLOPTION2"">
                                                                                          <block type=""variables_get"" id=""XSQB5Q5bp[Z_*HXf269d"">
                                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type=""execute_sql"" id=""nFvKk!nGb-~yq4-@0[ln"">
                                                                                            <mutation executesql=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""l=m[1(37^1Z!,6rq~KEk"">
                                                                                                <field name=""SQL_QUERY"">select&amp;#10;phx.""ID"" as ""conID""&amp;#10;from &amp;#10;""PricebookHeaderXML"" phx , ""PricebookXML"" px &amp;#10;where &amp;#10;px.""PricebookRecordID"" = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""variables_set"" id=""Er3fzLKX_;fI,%FPRSur"">
                                                                                                <field name=""VAR"" id=""NOG)u%.4)5RwYGuM@m=W"">ConID</field>
                                                                                                <value name=""VALUE"">
                                                                                                  <block type=""refer_columns"" id="",93ltH1Xd#6O7Dr88dnO"">
                                                                                                    <field name=""COLUMN"">conID</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""execute_sql"" id=""%6+P]Ni*ba53(P#$[E5M"">
                                                                                                    <value name=""SQL_QUERY"">
                                                                                                      <block type=""sql_query"" id=""p*-h*=|zv{SMow8!R.Be"">
                                                                                                        <field name=""SQL_QUERY"">select &amp;#10;phx.""Currency"" as ""currency""&amp;#10;from &amp;#10;""PricebookHeaderXML"" phx&amp;#10;where&amp;#10;phx.""ID"" = %s</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""automap"" id="".z]~D@8:6$$.MYc-ayjg""></block>
                                                                                                    </statement>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id="";|$/0)+OKdSGQ!]c(YLF"">
                                                                                                <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""IF1"">
                                                                                      <block type=""logic_compare"" id=""XXN@v}(pee%wGK+40d#4"">
                                                                                        <field name=""OP"">EQ</field>
                                                                                        <value name=""A"">
                                                                                          <block type=""variables_get"" id=""p(;#9u@RgbZ:9hQ`xphN"">
                                                                                            <field name=""VAR"" id=""VYoJ`ox#;PF*pD*B?U@7"">CheckPBook</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <value name=""B"">
                                                                                          <block type=""text"" id=""Dq:*.w,CvzK~c8{(tLxm"">
                                                                                            <field name=""TEXT"">OverPriceBook</field>
                                                                                          </block>
                                                                                        </value>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO1"">
                                                                                      <block type=""execute_sql"" id=""e1L,nXLHQ.)UI4GO11oi"">
                                                                                        <mutation executesql=""2""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""*2MrIm-.OG0d*)bnDh+q"">
                                                                                            <field name=""SQL_QUERY"">select &amp;#10;orpra.""Value"" as ""price"",&amp;#10;orpra.""Quantity"" as ""ats""&amp;#10;from &amp;#10;""OverRidePricebookRecord"" orpr ,""OverRidePricebookRecordAmount"" orpra &amp;#10;where&amp;#10;orpra.""PricebookRecordID"" = %s&amp;#10;and &amp;#10;orpr.""ProductID"" = %s</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""automap"" id=""7$k:~epR$;wR2BWec]GA""></block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get"" id=""+*f=LlsxYnA=KsyfxX.{"">
                                                                                            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <value name=""SQLOPTION2"">
                                                                                          <block type=""variables_get"" id=""Lqo*C$Bg~n]3Ijz{}~g9"">
                                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type=""execute_sql"" id=""z0m~qcG$!3W9?IwT9ewm"">
                                                                                            <mutation executesql=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""nkx8Ix$liaI--O8TSG@:"">
                                                                                                <field name=""SQL_QUERY"">select &amp;#10;orphx.""ID"" as ""conID""&amp;#10;from &amp;#10;""OverRidePricebookXML"" orpx ,""OverRidePricebookHeaderXML"" orphx &amp;#10;where &amp;#10;orpx.""PricebookRecordID"" = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""variables_set"" id=""o9axZ~8l|Y@6I]WbHLt_"">
                                                                                                <field name=""VAR"" id=""NOG)u%.4)5RwYGuM@m=W"">ConID</field>
                                                                                                <value name=""VALUE"">
                                                                                                  <block type=""refer_columns"" id=""%s4e=SV#EJ#p7+kMzb/c"">
                                                                                                    <field name=""COLUMN"">conID</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""execute_sql"" id=""}`wD2#`4d(Moy50HCr9("">
                                                                                                    <value name=""SQL_QUERY"">
                                                                                                      <block type=""sql_query"" id=""SEC!=sxb-X)}tf?O(%/*"">
                                                                                                        <field name=""SQL_QUERY"">select &amp;#10;orphx.""Currency"" as ""currency""&amp;#10;from &amp;#10;""OverRidePricebookHeaderXML"" orphx&amp;#10;where&amp;#10;orphx.""ID"" = %s</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""automap"" id="":mWQbsFYioYSNoo)Z6Xa""></block>
                                                                                                    </statement>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""4t8N`+W-eoih({{_%}Br"">
                                                                                                <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get"" id=""c52+=yEbn./xh`0e2iwR"">
                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                          </block>
                                                                        </value>
                                                                        <next>
                                                                          <block type=""set_context_array_struct"" id=""bLBjb;Q2o.5T=MY+A-}O"">
                                                                            <field name=""CONTEXT_SELECT"">products-customAttributes</field>
                                                                            <statement name=""DO"">
                                                                              <block type=""execute_sql"" id=""@d!]bw#hGS.|wK5hXQ+:"">
                                                                                <mutation executesql=""1""></mutation>
                                                                                <value name=""SQL_QUERY"">
                                                                                  <block type=""sql_query"" id=""ZHoM,O=FC+Z$5(;,ZEH#"">
                                                                                    <field name=""SQL_QUERY"">select &amp;#10;pca.""AttributeID"" as ""attributeId"",&amp;#10;pca.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca &amp;#10;where&amp;#10;pca.""ProductId"" = %s</field>
                                                                                  </block>
                                                                                </value>
                                                                                <statement name=""DO"">
                                                                                  <block type=""append_row"" id=""|Z!_QKomLC73JhQUUWLE"">
                                                                                    <next>
                                                                                      <block type=""automap"" id=""pNV]+x+A/R8@zsno?I[z"">
                                                                                        <next>
                                                                                          <block type=""variables_set"" id=""3#7a*Hv^JD$7dpREK}Ta"">
                                                                                            <field name=""VAR"" id=""TTc8Ib4kMJ{r!l:pdJ.Y"">ProCustAttrId</field>
                                                                                            <value name=""VALUE"">
                                                                                              <block type=""refer_columns"" id=""G%(lK{u=BKi=4Th_;?OL"">
                                                                                                <field name=""COLUMN"">attributeId</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <next>
                                                                                              <block type=""set_context_array"" id=""m01`*ro}I1p]o1-dy#(["">
                                                                                                <field name=""CONTEXT_SELECT"">products-values</field>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""execute_sql"" id=""ovlYQQ.JtEw}]G9eKuPf"">
                                                                                                    <mutation executesql=""2""></mutation>
                                                                                                    <value name=""SQL_QUERY"">
                                                                                                      <block type=""sql_query"" id=""gHpdR;p|LMrYw?}fZxZ@"">
                                                                                                        <field name=""SQL_QUERY"">select&amp;#10;pcav.""Value"" as ""values"",&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca ,""ProductCustomAttributesValue"" pcav &amp;#10;where &amp;#10;pcav.""AttributeID"" = %s&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""append_row"" id=""Gmq*=M7]IfV;v%Nct_wL"">
                                                                                                        <next>
                                                                                                          <block type=""automap"" id=""FFbCjRU_EcZ}M$rQRnaP""></block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                    <value name=""SQLOPTION1"">
                                                                                                      <block type=""variables_get"" id="":sqTwK(:coj5+-|yJ)~P"">
                                                                                                        <field name=""VAR"" id=""TTc8Ib4kMJ{r!l:pdJ.Y"">ProCustAttrId</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <value name=""SQLOPTION2"">
                                                                                                      <block type=""variables_get"" id=""zs.ieerQ4%GK=tl(rNG6"">
                                                                                                        <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                  </block>
                                                                                                </statement>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </statement>
                                                                                <value name=""SQLOPTION1"">
                                                                                  <block type=""variables_get"" id=""AQJ^(3mzuXahXI}FFilj"">
                                                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                  </block>
                                                                                </value>
                                                                              </block>
                                                                            </statement>
                                                                            <next>
                                                                              <block type=""set_context_array_struct"" id=""N5LD|ysKaE=nt%K@.@+#"">
                                                                                <field name=""CONTEXT_SELECT"">products-attributes</field>
                                                                                <statement name=""DO"">
                                                                                  <block type=""execute_sql"" id=""RE4zK382IvP$oW5526gd"">
                                                                                    <mutation executesql=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id=""z:@L*~|2c;=|f1X(:f:b"">
                                                                                        <field name=""SQL_QUERY"">select &amp;#10;pa.""AttributeID"" as ""attributeId"",&amp;#10;pa.""VariationAttributeID"" as ""variationAttributeId"",&amp;#10;pa.""Name"" as ""name""&amp;#10;from&amp;#10;""ProductAttributes"" pa &amp;#10;where&amp;#10;pa.""ProductId"" = %s</field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""append_row"" id=""#8$AY{kxc*xUVeeANK_A"">
                                                                                        <next>
                                                                                          <block type=""automap"" id=""w.1]K=GdAtL8xkr%S9y`"">
                                                                                            <next>
                                                                                              <block type=""variables_set"" id=""wMCWIZKBbqO79:X5yY!v"">
                                                                                                <field name=""VAR"" id=""4GVu=W;;=9[{TRi5bVA="">ProAttrID</field>
                                                                                                <value name=""VALUE"">
                                                                                                  <block type=""refer_columns"" id=""9e+D_3N|CrsdniS@72Nu"">
                                                                                                    <field name=""COLUMN"">attributeId</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""set_context_array_struct"" id=""D%.nm|eCI}Rshk;jHJ5L"">
                                                                                                    <field name=""CONTEXT_SELECT"">products-values</field>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""execute_sql"" id=""uBS|*0Y,2?pe#jf/3Hjf"">
                                                                                                        <mutation executesql=""2""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""dini_~z1AN]^X4N3]BV-"">
                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pav.""Value"" as ""value"",&amp;#10;pav.""DisplayValue"" as ""displayValue"",&amp;#10;pav.""Lang"" as ""lang""&amp;#10;from &amp;#10;""ProductAttributeValue"" pav,""ProductAttributes"" pa &amp;#10;where &amp;#10;pav.""AttributeID"" = %s&amp;#10;and&amp;#10;pa.""ProductId"" = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""append_row"" id=""@~20E1,l5ZO593c!Inat"">
                                                                                                            <next>
                                                                                                              <block type=""automap"" id=""y#VcKhH*tTm,p~_rfQXJ""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""aqM2g0eyphk!PeY%SNQ#"">
                                                                                                            <field name=""VAR"" id=""4GVu=W;;=9[{TRi5bVA="">ProAttrID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <value name=""SQLOPTION2"">
                                                                                                          <block type=""variables_get"" id=""x)~Ha[C%s:804;bl?o5D"">
                                                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get"" id=""]7#C!(2pJd=hNO$)X{ZL"">
                                                                                        <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                                <next>
                                                                                  <block type=""set_context_array_struct"" id=""t|tb@bIWiv-!#!=;Gtz7"">
                                                                                    <field name=""CONTEXT_SELECT"">products-imageGroups</field>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""execute_sql"" id=""ujz^gbM3cy^lE?uv:Wm1"">
                                                                                        <mutation executesql=""1""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""U+!GG?]u,`n[lb/p}h_k"">
                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pig.""variationValue"" as ""variationValue"",&amp;#10;pig.""viewType"" as ""viewType""&amp;#10;from &amp;#10;""ProductImageGroups"" pig &amp;#10;where&amp;#10;pig.""ProductId"" = %s</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""append_row"" id=""1R)D4j2!:SPF]2aVI[hh"">
                                                                                            <next>
                                                                                              <block type=""automap"" id=""t-6kbYFCsREJbFtne|Y#""></block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get"" id=""QvFrtNNa7Y`bob#3kMbm"">
                                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type=""execute_sql"" id=""K5r^U~O8Upa_)5@|G#,-"">
                                                                                            <mutation executesql=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""THjKYD+Rpm(u)`=N2Mem"">
                                                                                                <field name=""SQL_QUERY"">select &amp;#10;pig.""ImageGroupsId"" as ""imgId""&amp;#10;from &amp;#10;""ProductImageGroups"" pig&amp;#10;where&amp;#10;pig.""ProductId"" = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""variables_set"" id=""?t!^7nkN+SOYI{V_A])M"">
                                                                                                <field name=""VAR"" id=""AR[CrQjh{@tckDhw~6S5"">imgID</field>
                                                                                                <value name=""VALUE"">
                                                                                                  <block type=""refer_columns"" id=""@!{i1Cod9V)@85M(Zu:%"">
                                                                                                    <field name=""COLUMN"">imgId</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""set_context_array_struct"" id="")LNeV;~v|sv|g~0{^TY_"">
                                                                                                    <field name=""CONTEXT_SELECT"">products-images</field>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""execute_sql"" id=""O-Vu9LMb0*),Izz1FY#u"">
                                                                                                        <mutation executesql=""2""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""HFDS:4(vac_4dP-=g5I]"">
                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pigpi.""Path"" as ""path"",&amp;#10;pigpi.""pathID"" as ""title""&amp;#10;from &amp;#10;""ProductImageGroupsProductImage"" pigpi, ""ProductImageGroups"" pig &amp;#10;where&amp;#10;pig.""ProductId"" = %s&amp;#10;and&amp;#10;pigpi.""ImageGroupsId"" = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""append_row"" id=""@hgJOe/,oqk)tYkfp!n="">
                                                                                                            <next>
                                                                                                              <block type=""automap"" id=""[!P}q*(XeG2Uq}UxLJ=.""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""b6,g#J;MxIW0$TE]:UNI"">
                                                                                                            <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <value name=""SQLOPTION2"">
                                                                                                          <block type=""variables_get"" id=""A=f#4m4B4~djC[H:VLoC"">
                                                                                                            <field name=""VAR"" id=""AR[CrQjh{@tckDhw~6S5"">imgID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""EhVt@iWNEsb+q@Ph.[)8"">
                                                                                                <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <next>
                                                                                      <block type=""set_context_struct"" id=""JDt6XVQ*Q@,Mm@u2f!Qs"">
                                                                                        <field name=""CONTEXT_SELECT"">products-inventory</field>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""execute_sql"" id=""^3C8AzvL-+~o7NlX+PYa"">
                                                                                            <mutation executesql=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""hXN#z=y$E%?V!=Dq%;{5"">
                                                                                                <field name=""SQL_QUERY"">select &amp;#10;ir.""Allocation"" as ""allocation"",&amp;#10;ir.""AllocationTime"" as ""allocationTimestamp""&amp;#10;ir.""Ats"" as ""ats"",&amp;#10;ir.""Perpetual"" as ""perpetual"",&amp;#10;ir.""PreorderBackorderHandling"" as ""preorderBackorderHandling"",&amp;#10;ir.""OnOrder"" as ""onOrder"",&amp;#10;ir.""Turnover"" as ""turnover""&amp;#10;from &amp;#10;""InventoryRecord"" ir &amp;#10;where&amp;#10;ir.""ProductID"" = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""automap"" id=""oBX+5-|mpJ,h3(QQWxJg""></block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""S%5tn;,pYzLBteqr$xZ3"">
                                                                                                <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <next>
                                                                                          <block type=""set_context_array_struct"" id=""$%L{)IDlT)]i^OA,R}4g"">
                                                                                            <field name=""CONTEXT_SELECT"">products-variants</field>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""execute_sql"" id=""Yvush5K(GSXdG5;,)~Pw"">
                                                                                                <mutation executesql=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""YP}5c6:}z1L4`|ZfkGfB"">
                                                                                                    <field name=""SQL_QUERY"">select&amp;#10;pv.""variantID"" as ""varID""&amp;#10;from &amp;#10;""ProductVariants"" pv &amp;#10;where &amp;#10;pv.""ProductID"" = %s &amp;#10;and &amp;#10;pv.""variantID"" != %s</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""variables_set"" id=""sf8q_vW!gkP8IPZP;qLv"">
                                                                                                    <field name=""VAR"" id=""P|BMnbt90oe_VNg?/dIq"">VarID</field>
                                                                                                    <value name=""VALUE"">
                                                                                                      <block type=""refer_columns"" id=""wAH1eGPD-TJ+C;{5iEf}"">
                                                                                                        <field name=""COLUMN"">varID</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <next>
                                                                                                      <block type=""execute_sql"" id=""OulW63N#-EP7Wk2h+}Wm"">
                                                                                                        <mutation executesql=""1""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""^?EPGn5S)FU/pw5+E;lq"">
                                                                                                            <field name=""SQL_QUERY"">select&amp;#10;p2.""ID"" as ""id""&amp;#10;from&amp;#10;""Products"" p2 &amp;#10;where&amp;#10;p2.""ID"" = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""automap"" id=""0irB}o$huh0i%7h4mUD="">
                                                                                                            <next>
                                                                                                              <block type=""variables_set"" id=""ys,od(O%}l,HF!{$56=@"">
                                                                                                                <field name=""VAR"" id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</field>
                                                                                                                <value name=""VALUE"">
                                                                                                                  <block type=""refer_columns"" id=""^8-1Smbx#vH?j0{zw_3Q"">
                                                                                                                    <field name=""COLUMN"">variantID</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type=""execute_sql"" id=""MPs)AsnrZ6l|6SvW5!iY"">
                                                                                                                    <mutation executesql=""1""></mutation>
                                                                                                                    <value name=""SQL_QUERY"">
                                                                                                                      <block type=""sql_query"" id=""]Mkk}x3UL9$?Vq#+h`en"">
                                                                                                                        <field name=""SQL_QUERY"">select &amp;#10;pav.""Value"" as ""color""&amp;#10;from&amp;#10;""ProductAttributeValue"" pav &amp;#10;where&amp;#10;pav.""ProductId"" = %s&amp;#10;and&amp;#10;pav.""AttributeID"" = 'color'</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <statement name=""DO"">
                                                                                                                      <block type=""automap"" id=""E_e=U(@OXpypcssli=KX""></block>
                                                                                                                    </statement>
                                                                                                                    <value name=""SQLOPTION1"">
                                                                                                                      <block type=""variables_get"" id=""L.oN+W907e+NB]M@BW~|"">
                                                                                                                        <field name=""VAR"" id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <next>
                                                                                                                      <block type=""execute_sql"" id=""!+,e(Uo@o7#E:$#~,1yM"">
                                                                                                                        <mutation executesql=""1""></mutation>
                                                                                                                        <value name=""SQL_QUERY"">
                                                                                                                          <block type=""sql_query"" id=""s[@.deq;.BTlDw7EGBFW"">
                                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pav.""Value"" as ""size""&amp;#10;from&amp;#10;""ProductAttributeValue"" pav &amp;#10;where&amp;#10;pav.""ProductId"" = %s&amp;#10;and&amp;#10;pav.""AttributeID"" = 'size'</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                        <statement name=""DO"">
                                                                                                                          <block type=""automap"" id=""^TrFjymi5K!0-vlYMtjb""></block>
                                                                                                                        </statement>
                                                                                                                        <value name=""SQLOPTION1"">
                                                                                                                          <block type=""variables_get"" id=""TvwFw3v95}3@/5Q,h/$w"">
                                                                                                                            <field name=""VAR"" id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                        <next>
                                                                                                                          <block type=""execute_sql"" id=""y6s}fi:vE|ogYXM;ZtI|"">
                                                                                                                            <mutation executesql=""1""></mutation>
                                                                                                                            <value name=""SQL_QUERY"">
                                                                                                                              <block type=""sql_query"" id=""VA3EPQ-Z;xJoyg~X2TE}"">
                                                                                                                                <field name=""SQL_QUERY"">select &amp;#10;orpr.""PricebookRecordID"" as ""prID""&amp;#10;from &amp;#10;""OverRidePricebookRecord"" orpr &amp;#10;left join ""PricebookRecord"" pr &amp;#10;on&amp;#10;pr.""ProductID"" = orpr.""ProductID"" &amp;#10;where&amp;#10;orpr.""ProductID"" = %s</field>
                                                                                                                              </block>
                                                                                                                            </value>
                                                                                                                            <statement name=""DO"">
                                                                                                                              <block type=""variables_set"" id=""rO{rBftYQ]6fkS$LI8[q"">
                                                                                                                                <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                                                                <value name=""VALUE"">
                                                                                                                                  <block type=""refer_columns"" id=""}hZmUDHmH@gukh=adY~M"">
                                                                                                                                    <field name=""COLUMN"">prID</field>
                                                                                                                                  </block>
                                                                                                                                </value>
                                                                                                                                <next>
                                                                                                                                  <block type=""controls_if"" id=""jmu0oOK##!v[Rl:Q+%e@"">
                                                                                                                                    <mutation else=""1""></mutation>
                                                                                                                                    <value name=""IF0"">
                                                                                                                                      <block type=""logic_compare"" id=""^e;;OtDL$RC0?;{41r-}"">
                                                                                                                                        <field name=""OP"">NEQ</field>
                                                                                                                                        <value name=""A"">
                                                                                                                                          <block type=""variables_get"" id=""]Pikme{K%2YaRItYNu^y"">
                                                                                                                                            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                        <value name=""B"">
                                                                                                                                          <block type=""logic_null"" id=""fEmcPMuf=PY!v_w);1e2""></block>
                                                                                                                                        </value>
                                                                                                                                      </block>
                                                                                                                                    </value>
                                                                                                                                    <statement name=""DO0"">
                                                                                                                                      <block type=""execute_sql"" id=""de[C1UWCUW@!)M3bY!;y"">
                                                                                                                                        <mutation executesql=""2""></mutation>
                                                                                                                                        <value name=""SQL_QUERY"">
                                                                                                                                          <block type=""sql_query"" id=""OdjH=xqzp5G,CQA(0ltn"">
                                                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;orpra.""Value"" as ""price"",&amp;#10;orpra.""Quantity"" as ""ats""&amp;#10;from &amp;#10;""OverRidePricebookRecord"" orpr ,""OverRidePricebookRecordAmount"" orpra &amp;#10;where&amp;#10;orpra.""PricebookRecordID"" = %s&amp;#10;and &amp;#10;orpr.""ProductID"" = %s</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                        <statement name=""DO"">
                                                                                                                                          <block type=""automap"" id=""nwVnu~,ei~x2?LBJBqqw""></block>
                                                                                                                                        </statement>
                                                                                                                                        <value name=""SQLOPTION1"">
                                                                                                                                          <block type=""variables_get"" id=""4A9rkh4_QU:M`ZGX~)=h"">
                                                                                                                                            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                        <value name=""SQLOPTION2"">
                                                                                                                                          <block type=""variables_get"" id=""$qK|BPQ+nf0yXSBA6)=)"">
                                                                                                                                            <field name=""VAR"" id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                      </block>
                                                                                                                                    </statement>
                                                                                                                                    <statement name=""ELSE"">
                                                                                                                                      <block type=""execute_sql"" id=""t}0V!!ci6qb{X*Uz8vbx"">
                                                                                                                                        <value name=""SQL_QUERY"">
                                                                                                                                          <block type=""sql_query"" id="".0%Tc%O2rhM#te*,w4C]"">
                                                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pr.""PricebookRecordID"" as ""prID""&amp;#10;from ""PricebookRecord"" pr &amp;#10;where pr.""ProductID"" = %s</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                        <statement name=""DO"">
                                                                                                                                          <block type=""variables_set"" id=""PnbY!]NDLExMlKSX5GUm"">
                                                                                                                                            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                                                                            <value name=""VALUE"">
                                                                                                                                              <block type=""refer_columns"" id=""?39lAz6@~v|pWz].$Gx?"">
                                                                                                                                                <field name=""COLUMN"">prID</field>
                                                                                                                                              </block>
                                                                                                                                            </value>
                                                                                                                                            <next>
                                                                                                                                              <block type=""execute_sql"" id=""~_[9bUOQ}~I(6yIO#r1Z"">
                                                                                                                                                <mutation executesql=""2""></mutation>
                                                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                                                  <block type=""sql_query"" id=""XU!Jn{~$oH,Qm$%B!*Ta"">
                                                                                                                                                    <field name=""SQL_QUERY"">select &amp;#10;pra.""Value"" as ""price"",&amp;#10;pra.""Quantity"" as ""ats""&amp;#10;from &amp;#10;""PricebookRecord"" pr ,""PricebookRecordAmount"" pra &amp;#10;where&amp;#10;pra.""PricebookRecordID"" = %s&amp;#10;and &amp;#10;pr.""ProductID"" = %s</field>
                                                                                                                                                  </block>
                                                                                                                                                </value>
                                                                                                                                                <statement name=""DO"">
                                                                                                                                                  <block type=""automap"" id=""}DTNG[tDbaeUd`ll6EiJ""></block>
                                                                                                                                                </statement>
                                                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                                                  <block type=""variables_get"" id="".x5R{c@N=b76Z~B:-bPY"">
                                                                                                                                                    <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                                                                                                                                  </block>
                                                                                                                                                </value>
                                                                                                                                                <value name=""SQLOPTION2"">
                                                                                                                                                  <block type=""variables_get"" id=""b@kPYGorsgU]+rqz2$n~"">
                                                                                                                                                    <field name=""VAR"" id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</field>
                                                                                                                                                  </block>
                                                                                                                                                </value>
                                                                                                                                              </block>
                                                                                                                                            </next>
                                                                                                                                          </block>
                                                                                                                                        </statement>
                                                                                                                                      </block>
                                                                                                                                    </statement>
                                                                                                                                  </block>
                                                                                                                                </next>
                                                                                                                              </block>
                                                                                                                            </statement>
                                                                                                                            <value name=""SQLOPTION1"">
                                                                                                                              <block type=""variables_get"" id=""aG@ILp^-U3O40{Dvvh`q"">
                                                                                                                                <field name=""VAR"" id=""=TQ~NIufz#*?]9o,UnG5"">VariantID</field>
                                                                                                                              </block>
                                                                                                                            </value>
                                                                                                                          </block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""9OoZW:7LR!R}=8UT.h9."">
                                                                                                            <field name=""VAR"" id=""P|BMnbt90oe_VNg?/dIq"">VarID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id=""[5Ot495a9=nm-xBLWaF6"">
                                                                                                    <field name=""VAR"" id="".x]wLkcDZARtL=$Y?I+|"">productID</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <next>
                                                                                              <block type=""save_row"" id=""f:zfa;p+4M.5`-Rx6(CM""></block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""initialization"" id=""pgr?!?v-5~aYic=;oDqK"" x=""188"" y=""-1562"">
    <statement name=""CODE"">
      <block type=""procedures_callnoreturn"" id=""NSt5]FKhwnrmfilu6(ea"">
        <mutation name=""ProductsGo""></mutation>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""^XZm|R9Oo=;2E+_CTH-m"" disabled=""true"" x=""3463"" y=""-862"">
    <field name=""NAME"">Extensions</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""?8PHIQ!@2/w#DLr;R3fg"">
        <field name=""CONTEXT_SELECT"">extensions</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""vQBh=?}HW6dB4^IJ3Ss{"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""o~Cz5m88Qg%N$Ja|82mg"">
                <field name=""SQL_QUERY"">select&amp;#10;mct.""CustomTypeId"" as ""typeId""&amp;#10;from &amp;#10;""MetaCustomType"" mct </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""O2U=.CWItpGCzcDaMkx1"">
                <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""dwLrx{_!T2l,jSA[=GJS"">
                    <field name=""COLUMN"">typeId</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""gLT!P:8fb1HSYv!u0[:6"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""}k^R^AKjT:bIVRqPMG5z"">
                        <field name=""SQL_QUERY"">select&amp;#10;mct.""CustomTypeId"" as ""typeId""&amp;#10;from &amp;#10;""MetaCustomType"" mct &amp;#10;where &amp;#10;mct.""CustomTypeId"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""JScq;qMX7FJ~]J.px7kG""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""8Er!=:kc|P^S62m_,SWc"">
                        <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                      </block>
                    </value>
                    <next>
                      <block type=""set_context_array_struct"" id=""GFf0G)IMvaF?}0sZPvom"">
                        <field name=""CONTEXT_SELECT"">extensions-attributes</field>
                        <statement name=""DO"">
                          <block type=""execute_sql"" id=""IIhEFWNB2XEuSRhN%gTx"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""hQ_6gkj#wT1M_RaijL/0"">
                                <field name=""SQL_QUERY"">select &amp;#10;mctad.""MetaCustTypeAttrDefID"" as ""attributeId"",&amp;#10;mctad.""maxValue"" as ""maxVal"",&amp;#10;mctad.""minValue"" as ""minVal"",&amp;#10;mctad.""type"" as ""attributeType""&amp;#10;from &amp;#10;""MetaCustTypeAttrDef"" mctad &amp;#10;where&amp;#10;mctad.""CustomTypeID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""append_row"" id=""%`5tb:V~KV2kPlb,`jf#"">
                                <next>
                                  <block type=""automap"" id=""i5~aoVojkv@tR58eSl?@"">
                                    <next>
                                      <block type=""variables_set_dynamic"" id=""EFK|_SYfZ#@:*KElCaEe"">
                                        <field name=""VAR"" id=""pAeV9yRmt~=k$1JJlPD)"" variabletype=""String"">MetaCustTypeAttrDefId</field>
                                        <value name=""VALUE"">
                                          <block type=""refer_columns"" id=""k9OK.V;iUUV(-)T{X2F!"">
                                            <field name=""COLUMN"">attributeId</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""execute_sql"" id=""%5v-^WCh`Ff7lF;}mNxx"">
                                            <mutation executesql=""2""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""M[|E`H3,b|l{3e74WD]k"">
                                                <field name=""SQL_QUERY"">select &amp;#10;mctaddn.""Value"" as ""displayName""&amp;#10;from&amp;#10;""MetaCustTypeAttrDef"" mctad ,""MetaCustTypeAttrDefDispName"" mctaddn &amp;#10;where &amp;#10;mctad.""CustomTypeID"" = %s&amp;#10;and&amp;#10;mctaddn.""MetaCustTypeAttrDefAttrID"" = %s&amp;#10;and &amp;#10;mctaddn.""Language"" = 'x-default';</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""automap"" id=""*tNGqEJ*en8Bg-ef;zD#""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get_dynamic"" id=""Yk^X/4gKTXdw92,W1SD|"">
                                                <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                                              </block>
                                            </value>
                                            <value name=""SQLOPTION2"">
                                              <block type=""variables_get_dynamic"" id=""%Cv|g=6)V{Mj2f~].1gw"">
                                                <field name=""VAR"" id=""pAeV9yRmt~=k$1JJlPD)"" variabletype=""String"">MetaCustTypeAttrDefId</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get_dynamic"" id=""B-LXrG!/U(=3ZLBf:;R:"">
                                <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""save_row"" id=""ZVd5C7@KmORO5/Uap./d""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""F/[ENo*FPfWrA,?#M0)Q"" x=""-2137"" y=""-538"">
    <field name=""NAME"">Slots</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""B^+P)YO@pStZX?~}yw.B"">
        <field name=""CONTEXT_SELECT"">slots</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""D`)hbd2|9=5|*r`za,.W"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""7dyJJA;3%engE|Ac:]2@"">
                <field name=""SQL_QUERY"">select &amp;#10;s.""SlotID"" as ""slot_id""&amp;#10;from&amp;#10;""Slot"" s;</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""4!Ckiwb+e74%1nCtKwOE"">
                <field name=""VAR"" id=""v7WX(^Op*`U!2c+/2-,B"" variabletype=""String"">SlotID</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""Ux+dD{C!Qri3FmMgwkea"">
                    <field name=""COLUMN"">slot_id</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""9w5DDL,9*PNv-CA0Qb{u"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""~x$HjHgA:RR5US=56Lvx"">
                        <field name=""SQL_QUERY"">select &amp;#10;s.""SlotID"" as ""slot_id"",&amp;#10;s.""Context"" as ""context"",&amp;#10;s.""ContextID"" as ""context_id"",&amp;#10;s.""ConfigurationID"" as ""configuration_id"",&amp;#10;s.""EnabledFlag"" as ""default_flag""&amp;#10;from&amp;#10;""Slot"" s&amp;#10;where &amp;#10;s.""SlotID"" =  %s;</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""vN25d5PMYQ{8L*_y!iD!""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""#9)nOL6tp1PF-;wk}E({"">
                        <field name=""VAR"" id=""v7WX(^Op*`U!2c+/2-,B"" variabletype=""String"">SlotID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""set_context_array_struct"" id=""$B5fAP2[Ed-epVeTAXf8"">
                        <field name=""CONTEXT_SELECT"">slots-customAttributes</field>
                        <statement name=""DO"">
                          <block type=""execute_sql"" id=""1?L2VDX;y~Jd:?H00UlW"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""w5Q6-}]^^Ft(8BdnKvYC"">
                                <field name=""SQL_QUERY"">select &amp;#10;sca.""attributeId"" as ""attributeId"",&amp;#10;sca.""Value"" as ""value""&amp;#10;from &amp;#10;""SlotsCustomAttr"" sca &amp;#10;where&amp;#10;sca.""SlotID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""append_row"" id=""c[em/u1}l?19i+_*Nfw,"">
                                <next>
                                  <block type=""automap"" id=""Dz4c1X%i`5mhEQha[Foj""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get_dynamic"" id=""MI7;I*v1RVk5+*XC|BL]"">
                                <field name=""VAR"" id=""v7WX(^Op*`U!2c+/2-,B"" variabletype=""String"">SlotID</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id=""2#k4,%ox+/^Zr_lx;X{#"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""9Abm0NM2=sNPbF@{?^Hf"">
                                    <field name=""SQL_QUERY"">select &amp;#10;sca.""attributeId"" as ""attributeId"",&amp;#10;sca.""Value"" as ""value""&amp;#10;from &amp;#10;""SlotsCustomAttr"" sca &amp;#10;where&amp;#10;sca.""SlotID"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""variables_set_dynamic"" id=""xt.(CRdp?ZvFo-*jeC#G"">
                                    <field name=""VAR"" id=""}ypyml%7*ZL3oy^KwUB2"" variabletype=""String"">ExtID</field>
                                    <value name=""VALUE"">
                                      <block type=""refer_columns"" id="")7Cmd{x-Q7pg%T=V,6^x"">
                                        <field name=""COLUMN"">attributeId</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""set_context_array"" id=""*V{UW.zFvyrkVO)l:MQ,"">
                                        <field name=""CONTEXT_SELECT"">slots-values</field>
                                        <statement name=""DO"">
                                          <block type=""execute_sql"" id=""HyA+AiX8`z7$X^{gVROm"">
                                            <mutation executesql=""2""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""4pnkzU=Q~NN.RyOHJ^kM"">
                                                <field name=""SQL_QUERY"">select &amp;#10;scav.""Values"" as ""values""&amp;#10;from &amp;#10;""SlotsCustomAttr"" sca ,""SlotsCustomAttrVal"" scav &amp;#10;where &amp;#10;sca.""SlotID"" = %s&amp;#10;and&amp;#10;scav.""attributeId"" = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""append_row"" id=""a(n}Dp|+u(.N;;x`%|t3"">
                                                <next>
                                                  <block type=""automap"" id=""^0yc?N^T?QN=C@-ow6x9""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get_dynamic"" id=""(31_r[4#S2{^DW^I=k!B"">
                                                <field name=""VAR"" id=""v7WX(^Op*`U!2c+/2-,B"" variabletype=""String"">SlotID</field>
                                              </block>
                                            </value>
                                            <value name=""SQLOPTION2"">
                                              <block type=""variables_get_dynamic"" id=""xyk20.}@q(l;C{WSdlR{"">
                                                <field name=""VAR"" id=""}ypyml%7*ZL3oy^KwUB2"" variabletype=""String"">ExtID</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get_dynamic"" id=""![tW-F3.6TloK+tBPDxI"">
                                    <field name=""VAR"" id=""v7WX(^Op*`U!2c+/2-,B"" variabletype=""String"">SlotID</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <next>
                          <block type=""save_row"" id=""%b2RQ!JJtFfK3y+Fzq9T""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""J}322y@360a{o*#+?kb8"" disabled=""true"" x=""-1087"" y=""-587"">
    <field name=""NAME"">Stores2</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""OHU|GdR}-rKi4]uDTM$3"">
        <field name=""CONTEXT_SELECT"">stores</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""CAEF+w}y8[2T9t{*[28e"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="",Aub.vL2SOr98Y85|[F-"">
                <field name=""SQL_QUERY"">select &amp;#10;s.""Id"" as ""id""&amp;#10;from ""Stores"" s</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""E*CI(2!/|~8+]:3v[eN/"">
                <field name=""VAR"" id=""BG4%#=_iF)o_[v.;O}a~"" variabletype=""String"">StoreID</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""_R7xcM0QIqb^`VUP1Eex"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""-vLTY.TBWeI|1j+a3jgF"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""vlDzKr[gxRQ]2:}(q@@E"">
                        <field name=""SQL_QUERY"">select &amp;#10;s.""Id"" as ""id"",&amp;#10;s.""Name"" as ""name"", &amp;#10;s.""Address1"" as ""address1"",&amp;#10;s.""Address2"" as ""address2"",&amp;#10;s.""City"" as ""city"",&amp;#10;s.""PostalCode"" as ""postalCode"",&amp;#10;s.""StateCode"" as ""stateCode"",&amp;#10;s.""CountryCode"" as ""countryCode"",&amp;#10;s.""Phone"" as phone,&amp;#10;s.""Fax"" as ""fax"",&amp;#10;s.""Email"" as ""email""&amp;#10;from ""Stores"" s &amp;#10;where&amp;#10;s.""Id""= %s;</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""S3)]fKz/J[.!09,0[#J+""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""CDTtM8:4*pG/^(yZ[hza"">
                        <field name=""VAR"" id=""BG4%#=_iF)o_[v.;O}a~"" variabletype=""String"">StoreID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""set_context_array_struct"" id=""Q|wGcy:fRMtZ4Gh+sU#s"">
                        <field name=""CONTEXT_SELECT"">stores-storeEvents</field>
                        <statement name=""DO"">
                          <block type=""execute_sql"" id=""{z{6bk~Tiu82MJ1PHV[w"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""LLW2?jmJ!1([HPBnpBtx"">
                                <field name=""SQL_QUERY"">select &amp;#10;se.""Lang"" as ""lang"",&amp;#10;se.""Value"" as ""value""&amp;#10;from &amp;#10;""StoreEvents"" se&amp;#10;where&amp;#10;se.""StoreID"" = %s;</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""append_row"" id=""65odGrqi0Ru{~;PlmlF|"">
                                <next>
                                  <block type=""automap"" id=""!JXCWq}p$E{:C1wd9F}.""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get_dynamic"" id=""oKXG.E8U5T{G%F(H9Nog"">
                                <field name=""VAR"" id=""BG4%#=_iF)o_[v.;O}a~"" variabletype=""String"">StoreID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""set_context_array_struct"" id=""3aHu8i7s1[$@}4bbUfku"">
                            <field name=""CONTEXT_SELECT"">stores-storeHours</field>
                            <statement name=""DO"">
                              <block type=""execute_sql"" id=""X/cP6tX?VX+#r?,V_Swx"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""U8cr}eq|#_o9K;uzcR#y"">
                                    <field name=""SQL_QUERY"">select &amp;#10;sh.""Lang"" as ""lang"",&amp;#10;sh.""Value"" as ""value""&amp;#10;from &amp;#10;""StoreHours"" sh &amp;#10;where&amp;#10;sh.""StoreID = %s"" </field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""append_row"" id=""087G(,,C@hLr5CNU=.yS"">
                                    <next>
                                      <block type=""automap"" id=""3:P66$W`O0FzZ(A+|mx4""></block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get_dynamic"" id=""h}M,CUKhEVE:wLxm$W=l"">
                                    <field name=""VAR"" id=""BG4%#=_iF)o_[v.;O}a~"" variabletype=""String"">StoreID</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""set_context_array_struct"" id=""AzOt[a]8?B!LHKYCpD2Y"">
                                <field name=""CONTEXT_SELECT"">stores-customAttributes</field>
                                <statement name=""DO"">
                                  <block type=""execute_sql"" id=""jsvlKOSHrW*uf{E@cY_z"">
                                    <mutation executesql=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""IVV02C_FB;/d`]R?heJ3"">
                                        <field name=""SQL_QUERY"">select&amp;#10;sca.""attributeId"" as ""attributeId"",&amp;#10;sca.""Value"" as ""value""&amp;#10;from ""StoresCustomAttr"" sca &amp;#10;where &amp;#10;sca.""StoreID"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""append_row"" id=""Vov5@JIqC/GoPPPkJA@="">
                                        <next>
                                          <block type=""automap"" id=""wZ4Yk]CoqJ;JPzCZ+BxT"">
                                            <next>
                                              <block type=""variables_set_dynamic"" id=""V)YfWLU6=O=*a@X+*U2i"">
                                                <field name=""VAR"" id=""*trv/?T8j0yv}*:rP[*K"" variabletype=""String"">attr_Context</field>
                                                <value name=""VALUE"">
                                                  <block type=""refer_columns"" id=""P+a3jf7J9TrUWtSmJ!rt"">
                                                    <field name=""COLUMN"">attributeId</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""set_context_array"" id=""M3[;:3tD_,JvXi0},.vK"">
                                                    <field name=""CONTEXT_SELECT"">stores-values</field>
                                                    <statement name=""DO"">
                                                      <block type=""execute_sql"" id="".P5;OO_4r`/0-Z^/8[i!"">
                                                        <mutation executesql=""2""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""LY;V^hZmZ4r7]_Sm~=6G"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;scav.""Values"" as ""values""&amp;#10;from &amp;#10;""StoresCustomAttrVal"" scav  &amp;#10;where &amp;#10;scav.""attributeId"" = %s </field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""append_row"" id=""UFWfuV^e(F@TyMY3VA2C"">
                                                            <next>
                                                              <block type=""automap"" id=""?a{HT^0-ZNo,bQc5m#hi""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get_dynamic"" id=""m(DlHbliCWOtMpa3vWb@"">
                                                            <field name=""VAR"" id=""*trv/?T8j0yv}*:rP[*K"" variabletype=""String"">attr_Context</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get_dynamic"" id=""~@KEpK^%ie2HS_76fc#t"">
                                        <field name=""VAR"" id=""BG4%#=_iF)o_[v.;O}a~"" variabletype=""String"">StoreID</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type=""save_row"" id=""J:A-U|a[meD%UF)eD0U$""></block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""7+0{H/=orN#zCdUnQ2A|"" disabled=""true"" x=""2912"" y=""-787"">
    <field name=""NAME"">Redirect</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""4kLz6_LE1?}k~kA,1^H."">
        <field name=""CONTEXT_SELECT"">redirects</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""z`+S9S1bU,yh*01DXJEI"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="",T7^Ep#Ws)w^LUj6,=2J"">
                <field name=""SQL_QUERY"">select &amp;#10;r.id as ""id"",&amp;#10;r.""redirectType"" as ""redirectType"",&amp;#10;r.value as ""value"",&amp;#10;r.keywords as ""keywords""&amp;#10;from &amp;#10;""Redirect"" r</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""automap"" id=""NIZ$`0nkLDL%SR=wG53J""></block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""Mb@tfm.kz16Ti26*J!e3"" disabled=""true"" x=""-387"" y=""-612"">
    <field name=""NAME"">Conteents</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""[=5ix*q+4BF_rK%R^*od"" disabled=""true"">
        <field name=""CONTEXT_SELECT"">contents</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""aiA#JIDAus~VQezJIHRM"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""DPODA[m:[#y?R3Ly|*,}"">
                <field name=""SQL_QUERY"">select &amp;#10;lc.""ContentId"" as ""id""&amp;#10;from &amp;#10;""LibraryContent"" lc </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""vB@]Ww;sKx:TBS0zU8bU"">
                <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""rzijWAF~EC!x+~d7nEO^"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""o+:)li722zZ1bs3241:}"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""MO)X(ERbZJ}H1).)gAB%"">
                        <field name=""SQL_QUERY"">select &amp;#10;lc.""ContentId"" as ""id""&amp;#10;from &amp;#10;""LibraryContent"" lc &amp;#10;where&amp;#10;lc.""ContentId"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""u!ap]TMbxfiv)dov*qrC""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""#[p?s%p*_+(g{~f.1@=p"">
                        <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""execute_sql"" id=""TirIj+fC_~8J12E(:5O1"">
                        <mutation executesql=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""S4-:YZYYivm[6HH7%ubV"">
                            <field name=""SQL_QUERY"">select&amp;#10;lcdn.""Value"" as ""name""&amp;#10;from &amp;#10;""LibraryContentDisplayName"" lcdn&amp;#10;where&amp;#10;lcdn.""Language"" = 'x-default'&amp;#10;and &amp;#10;lcdn.""contentId"" = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""automap"" id=""UddJP,]-HFc_2(c5Y-%]""></block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get_dynamic"" id=""ihay9V[;rZ#)[.kR;NjT"">
                            <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                          </block>
                        </value>
                        <next>
                          <block type=""execute_sql"" id=""CovW4wVxuEp,{z+yrraY"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""KLB{m^AdFn_1Y|4exDQU"">
                                <field name=""SQL_QUERY"">select&amp;#10;lcd.""Value"" as ""description""&amp;#10;from &amp;#10;""LibraryContentDescription"" lcd &amp;#10;where &amp;#10;lcd.""Language"" = 'x-default'&amp;#10;and &amp;#10;lcd.""contentId"" = %s </field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""automap"" id=""X}CJOXgrpCSdobXVg}E+""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get_dynamic"" id=""Hc7({m;k7y3VRro/2Dj!"">
                                <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id="":=x^S]o$TPX64KLO)Leh"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""(k?#+/x6C+FQzlH2WCRD"">
                                    <field name=""SQL_QUERY"">select &amp;#10;lcpapt.""Value"" as ""pageTitle""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageTitle"" lcpapt &amp;#10;where &amp;#10;lcpapt.""Language"" = 'x-default'&amp;#10;and &amp;#10;lcpapt.""ContentID"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""automap"" id=""e2Zl2AIshFF?X+|jG$xd""></block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get_dynamic"" id=""3oo(0F#.+BS)bJQdmTzF"">
                                    <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""execute_sql"" id=""QJXsQ78]20Zmdam;G1Rv"">
                                    <mutation executesql=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id="":g][+1P[E]t,{6?iFC%f"">
                                        <field name=""SQL_QUERY"">select &amp;#10;lcpapd.""Value"" as ""pageDesc""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageDesctiption"" lcpapd &amp;#10;where &amp;#10;lcpapd.""Language"" = 'x-default'&amp;#10;and &amp;#10;lcpapd.""ContentID"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""automap"" id=""@ah`R`iDZh5%?[Heaxs%""></block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get_dynamic"" id=""0MaS7itXcn@u~2f$RCfC"">
                                        <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""execute_sql"" id=""oW8ruBZnNTs|VreYG~QD"">
                                        <mutation executesql=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""v:fxdEZ0};4[1lkrpx^#"">
                                            <field name=""SQL_QUERY"">select &amp;#10;lcpapu.""Value"" as ""pageUrl""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageURL"" lcpapu &amp;#10;where &amp;#10;lcpapu.""Language"" = 'x-default'&amp;#10;and &amp;#10;lcpapu.""ContentID"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""automap"" id=""}|T#!S0W#AwewKNvLagK""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get_dynamic"" id=""j`AZUk;cBHJ1LN/%/I@s"">
                                            <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""set_context_array_struct"" id=""xnO,a{42rRe:Q{QNa|,3"">
                                            <field name=""CONTEXT_SELECT"">contents-localeName</field>
                                            <statement name=""DO"">
                                              <block type=""execute_sql"" id=""A(Sr_FYHXsROXzL;3`=e"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""kK2jhK7JooiJ#=f3%@YJ"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;lcdn.""Language"" as ""lang"",&amp;#10;lcdn.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentDisplayName"" lcdn &amp;#10;where &amp;#10;lcdn.""contentId"" = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""append_row"" id="":3IaUT$N(ULiD0!|p^:1"">
                                                    <next>
                                                      <block type=""automap"" id=""`GX.mGMy_h/T2y$htG(u""></block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get_dynamic"" id=""AN?g%`0i;ez3UwnSmfSe"">
                                                    <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""set_context_array_struct"" id=""Dx~Kco;gB#l[p_V{v]n4"">
                                                <field name=""CONTEXT_SELECT"">contents-localeDesc</field>
                                                <statement name=""DO"">
                                                  <block type=""execute_sql"" id=""Uh/.r[WGP/C9qD=J=jDs"">
                                                    <mutation executesql=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""zdHVq*GVJ7A6KqJ?)x/l"">
                                                        <field name=""SQL_QUERY"">select &amp;#10;lcd.""Language"" as ""lang"",&amp;#10;lcd.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentDescription"" lcd &amp;#10;where &amp;#10;lcd.""contentId"" = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""append_row"" id=""FfsRZ[cQ]h0n[N]W/Tb7"">
                                                        <next>
                                                          <block type=""automap"" id=""A*sM$:7a^{3.:^@N.j@G""></block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get_dynamic"" id=""[+C^nb,$gzaBslf0_w?P"">
                                                        <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </statement>
                                                <next>
                                                  <block type=""set_context_array_struct"" id=""0YsWA*LUhi]:x88(;Eq."">
                                                    <field name=""CONTEXT_SELECT"">contents-localePageTitle</field>
                                                    <statement name=""DO"">
                                                      <block type=""execute_sql"" id=""@DK3)y=ZK27~4xe}1b/f"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id="":ixvy9rd[h1#SyFoVlz}"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;lcpapt.""Language"" as ""lang"",&amp;#10;lcpapt.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageTitle"" lcpapt &amp;#10;where &amp;#10;lcpapt.""ContentID"" = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""append_row"" id=""+A14rjDwKCO+;xd2br~-"">
                                                            <next>
                                                              <block type=""automap"" id=""/bu{-f~zB}:kH=.?^[~Y""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get_dynamic"" id=""=?#hHqTyC$c(Hq*72?6i"">
                                                            <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""set_context_array_struct"" id=""C:$xLq)v8t0q/-N$y,J,"">
                                                        <field name=""CONTEXT_SELECT"">contents-localePageDesc</field>
                                                        <statement name=""DO"">
                                                          <block type=""execute_sql"" id=""UUQa0nlzV7bXk0:2|}Aq"">
                                                            <mutation executesql=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id=""fZ]T/}^8|4:YBU]f_6CY"">
                                                                <field name=""SQL_QUERY"">select &amp;#10;lcpapd.""Language"" as ""lang"",&amp;#10;lcpapd.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageDesctiption"" lcpapd &amp;#10;where &amp;#10;lcpapd.""ContentID"" = %s</field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""append_row"" id=""OEpPV}/u8h^WT!dlAtZ]"">
                                                                <next>
                                                                  <block type=""automap"" id=""8QwOl`nu;~av{A3^*1g1""></block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get_dynamic"" id=""?pxbOMp?aogSv;#cdwOm"">
                                                                <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </statement>
                                                        <next>
                                                          <block type=""set_context_array_struct"" id=""BN0|YCscz%dDk4+U:pS,"">
                                                            <field name=""CONTEXT_SELECT"">contents-localePageUrl</field>
                                                            <statement name=""DO"">
                                                              <block type=""execute_sql"" id=""Q.wzZ3m$6Vn6dv0?xhr~"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""Q@Gw^D=3IkGn)#6sjTb,"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;lcpapu.""Language"" as ""lang"",&amp;#10;lcpapu.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageURL"" lcpapu&amp;#10;where &amp;#10;lcpapu.""ContentID"" = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""append_row"" id=""/G3%qOc_{6|)vGMV*63n"">
                                                                    <next>
                                                                      <block type=""automap"" id=""D@b`dkBM_|?cIw)lM/Ft""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get_dynamic"" id=""o=MT|_fSR/PY3FyQG{IT"">
                                                                    <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                            <next>
                                                              <block type=""set_context_array_struct"" id=""LqX,N#Buh9R~JH;RK?b?"">
                                                                <field name=""CONTEXT_SELECT"">contents-customAttributes</field>
                                                                <statement name=""DO"">
                                                                  <block type=""execute_sql"" id=""=.N-3TCrkL)JOo*HY]]a"">
                                                                    <mutation executesql=""1""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""phivfsCbcA_#*$qQjTPy"">
                                                                        <field name=""SQL_QUERY"">select &amp;#10;lca.""AttributeID"" as ""attributeId"",&amp;#10;lca.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryCustomAttributes"" lca &amp;#10;where &amp;#10;lca.""contentId"" =%s</field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""append_row"" id=""?@;1zpL9IbcE{I/J^otT"">
                                                                        <next>
                                                                          <block type=""automap"" id=""MX:el)+@}HIbhzf[9=Wg""></block>
                                                                        </next>
                                                                      </block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get_dynamic"" id=""PK,nTNDO{8NI8Ty$f3^$"">
                                                                        <field name=""VAR"" id=""A=D5fOGzkaB#Jza3fr*y"" variabletype=""String"">ContentID</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </statement>
                                                                <next>
                                                                  <block type=""save_row"" id=""t*UG~%{{fPz4n4~)KPm-""></block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""mQn]AeJsuEI~g.fxp^)R"" disabled=""true"" x=""2224"" y=""-516"">
    <field name=""NAME"">Categories</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""set_context_table"" id=""=7i,5`W{8h(Q02wt#jWi"">
        <field name=""CONTEXT_SELECT"">categories</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""v889CDGO`(8y(^|m-!s;"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""C-$GhM5Uy=5{VuiFnqXK"">
                <field name=""SQL_QUERY"">select &amp;#10;c.""ID"" as ""id"",&amp;#10;c.""Parent"" as ""parentCategoryId"",&amp;#10;c.""OnlineFlag"" as ""onlineFlag"",&amp;#10;c.""Position"" as ""position""&amp;#10;from &amp;#10;""Category"" c </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""c4d~3_QfJH4wr-?@c]h."">
                <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""T)Q}/4FeF9%UZolT;k2d"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""B{TP!W.uj/@00)P2CSm]"">
                    <mutation executesql=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""s_I2#*)3WX`PmH8nD;(a"">
                        <field name=""SQL_QUERY"">select &amp;#10;c.""ID"" as ""id"",&amp;#10;c.""Parent"" as ""parentCategoryId"",&amp;#10;c.""OnlineFlag"" as ""onlineFlag"",&amp;#10;c.""Position"" as ""position""&amp;#10;from &amp;#10;""Category"" c &amp;#10;where &amp;#10;c.""ID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""8OUF,AMQ*Sn*T]f@g^!e""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""]KW0t_Yy]6$|(E.Y*!B]"">
                        <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                      </block>
                    </value>
                    <next>
                      <block type=""execute_sql"" id=""a2JO}F-J/|!k?qO3}:MN"">
                        <mutation executesql=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""a{Pu~nA:pQ!7eTIRn@KV"">
                            <field name=""SQL_QUERY"">select &amp;#10;cca.""Value"" as ""viewAllText""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca&amp;#10;where&amp;#10;cca.""CategoryID""= %s&amp;#10;and&amp;#10;cca.""AttributeID""  = 'viewAllText';</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""automap"" id="".?4HwTdy?v/Fn1v?f|$}""></block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get_dynamic"" id=""efi.pM@,gCa-(RIu^$/%"">
                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                          </block>
                        </value>
                        <next>
                          <block type=""execute_sql"" id=""NFVTI(1eY+#Uc(m`tOyn"">
                            <mutation executesql=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""?hFS]S00[D)6h$5}FR./"">
                                <field name=""SQL_QUERY"">select &amp;#10;cca.""Value"" as ""alternateCategoryID""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca&amp;#10;where&amp;#10;cca.""CategoryID"" = %s &amp;#10;and&amp;#10;cca.""AttributeID""  = 'alternateCategoryID';</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""automap"" id=""x2^~Fa=Q-|.[-Jdk;Bd8""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get_dynamic"" id=""pcY1Xhjfu-+9!YPK7qOx"">
                                <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id=""mRDR5)!XQ6P|%meW)cmp"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""/PJ|yp7Ti1(:7BHL6kHp"">
                                    <field name=""SQL_QUERY"">select &amp;#10;cca.""Value"" as ""sizeChartID""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca&amp;#10;where&amp;#10;cca.""CategoryID"" = %s &amp;#10;and&amp;#10;cca.""AttributeID""  = 'sizeChartID';</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""automap"" id=""PB;T//fN9y%[a(Z*duU$""></block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get_dynamic"" id=""IhOit*mQZRO+h^_Ja.9["">
                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""execute_sql"" id=""u%E-erwaZAD2#}BhV)Ex"">
                                    <mutation executesql=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""lB2Us@__JOe@:DJO])I!"">
                                        <field name=""SQL_QUERY"">select &amp;#10;cca.""Value"" as ""showInMenu""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca&amp;#10;where&amp;#10;cca.""CategoryID"" = %s &amp;#10;and&amp;#10;cca.""AttributeID""  = 'showInMenu';</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""automap"" id=""mO49;UfU]6iB;p9t^ZqD""></block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get_dynamic"" id=""bdoVrfa,YO0GcP%Nc|bz"">
                                        <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""execute_sql"" id=""ymb2XC,l)D0L[UV!}[^:"">
                                        <mutation executesql=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""Sh18PWVCLJ4%+{IGQ6GT"">
                                            <field name=""SQL_QUERY"">select&amp;#10;cdn.""Value"" as ""name""&amp;#10;from&amp;#10;""CategoryDisplayNames"" cdn &amp;#10;where &amp;#10;cdn.""CategoryID"" = %s &amp;#10;and &amp;#10;cdn.""Lang"" = 'x-default';</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""automap"" id=""BD|,T`Dp.L3iaq?)QT=?""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get_dynamic"" id=""/,#C6c-#M?[s0$?^jH6z"">
                                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""set_context_array_struct"" id=""YB{kzTwGOZ2l{aohMl`F"">
                                            <field name=""CONTEXT_SELECT"">categories-displayNames</field>
                                            <statement name=""DO"">
                                              <block type=""execute_sql"" id=""[^p6Ri4OEfAXS,MWXA-s"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""EWhoyc-LA3v$:NUXq1kW"">
                                                    <field name=""SQL_QUERY"">select&amp;#10;cdn.""Lang"" as ""lang"",&amp;#10;cdn.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryDisplayNames"" cdn &amp;#10;where &amp;#10;cdn.""CategoryID"" = %s </field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""append_row"" id=""yK#cK0(=DS4{B.f1Wh?M"">
                                                    <next>
                                                      <block type=""automap"" id="":h6rX)x5FA~^tv=`_F@I""></block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get_dynamic"" id=""}*D`G8?s^-`S8ur0(bbC"">
                                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""execute_sql"" id=""L{7$6Oh^;#L3jz}CyD[B"">
                                                <mutation executesql=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""[S1~oV[!1GWXv1GDN9Sr"">
                                                    <field name=""SQL_QUERY"">select&amp;#10;cd.""Value"" as ""description""&amp;#10;from&amp;#10;""CategoryDescriptions"" cd  &amp;#10;where &amp;#10;cd.""CategoryID"" = %s&amp;#10;and &amp;#10;cd.""Lang"" = 'x-default';</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""automap"" id=""FwW#e7G8)GS1ybYP;7Ho""></block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get_dynamic"" id=""gsc%.1BNZdJSQg$/fDon"">
                                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""set_context_array_struct"" id=""Q=02RY0}oNag$Re;}8@."">
                                                    <field name=""CONTEXT_SELECT"">categories-descriptions</field>
                                                    <statement name=""DO"">
                                                      <block type=""execute_sql"" id=""kef.qcWw5W{Kq/ix.oDi"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""}s4V.^2xkS2{j!30x}-{"">
                                                            <field name=""SQL_QUERY"">select&amp;#10;cd.""Lang"" as ""lang"",&amp;#10;cd.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryDescriptions"" cd  &amp;#10;where &amp;#10;cd.""CategoryID"" = %s </field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""append_row"" id=""9{4C~?6t_V.%!7O4B?U-"">
                                                            <next>
                                                              <block type=""automap"" id=""GF=Y]A0Ndy2(OlA1Z0PG""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get_dynamic"" id="")d2,P,L|oY}4CV_m=y1f"">
                                                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""execute_sql"" id=""rHCWfxzHwcZK|$5(ov3O"">
                                                        <mutation executesql=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""-l),K*6^I{{R8o9:PVkz"">
                                                            <field name=""SQL_QUERY"">select&amp;#10;cpt.""Value"" as ""pageTitle""&amp;#10;from&amp;#10;""CategoryPageTitles"" cpt &amp;#10;where &amp;#10;cpt.""CategoryID"" = %s&amp;#10;and &amp;#10;cpt.""Lang"" = 'x-default';</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""automap"" id=""J6Maz5Iz1B!R7?A~yMQ{""></block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get_dynamic"" id=""mmAC.($sTqe:`;iB=dc("">
                                                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type=""set_context_array_struct"" id=""7nt:ZBu@D;.js13BkfNa"">
                                                            <field name=""CONTEXT_SELECT"">categories-pageTitles</field>
                                                            <statement name=""DO"">
                                                              <block type=""execute_sql"" id=""F;q2M!|5r.v:)RT|AfvJ"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""Fam$4B8%aVONzxyO2!Bn"">
                                                                    <field name=""SQL_QUERY"">select&amp;#10;cpt.""Lang"" as ""lang"",&amp;#10;cpt.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageTitles"" cpt &amp;#10;where &amp;#10;cpt.""CategoryID"" = %s </field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""append_row"" id=""Cr5t}XfTet$Vx6*hE6N("">
                                                                    <next>
                                                                      <block type=""automap"" id=""cr?W|YvOQf^%)pp_;U~S""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get_dynamic"" id=""q5mkIk]i|*8Sk|jJX-:a"">
                                                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                            <next>
                                                              <block type=""execute_sql"" id=""K/.$M.5JE@];z;h=TX4f"">
                                                                <mutation executesql=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""ZZ^haVZ0Yu|EiA4vz,^p"">
                                                                    <field name=""SQL_QUERY"">select&amp;#10;cpk.""Value"" as ""pageKeyword""&amp;#10;from&amp;#10;""CategoryPageKeywords"" cpk &amp;#10;where &amp;#10;cpk.""CategoryID"" = %s&amp;#10;and &amp;#10;cpk.""Lang"" = 'x-default';</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""automap"" id=""NC?ABP^07~bLG85^N]q[""></block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get_dynamic"" id="".2n!pcUVwn#N|FdtG{M["">
                                                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type=""set_context_array_struct"" id=""ShIWUdI4IqG^:.6!_}3Y"">
                                                                    <field name=""CONTEXT_SELECT"">categories-pageKeywords</field>
                                                                    <statement name=""DO"">
                                                                      <block type=""execute_sql"" id=""E+?kV$9eA}2p=x74]_z."">
                                                                        <mutation executesql=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""7yp]YO9z,gl#J5rnjl14"">
                                                                            <field name=""SQL_QUERY"">select&amp;#10;cpk.""Lang"" as ""lang"",&amp;#10;cpk.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageKeywords"" cpk &amp;#10;where &amp;#10;cpk.""CategoryID"" = %s </field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""append_row"" id=""(PLz?s7yeDkMJ7:eDv8/"">
                                                                            <next>
                                                                              <block type=""automap"" id="")0e?TBFEL-c@9P/e]Rj]""></block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get_dynamic"" id=""3}MV|_50!AoW+a,gw`h|"">
                                                                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </statement>
                                                                    <next>
                                                                      <block type=""execute_sql"" id=""15u$3Pd?z]}g/W)JsSEL"">
                                                                        <mutation executesql=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""aH,,As+Z%+)BY1{]=Qv-"">
                                                                            <field name=""SQL_QUERY"">select &amp;#10;cpd.""Lang"" as ""lang"",&amp;#10;cpd.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageDescs"" cpd &amp;#10;where &amp;#10;cpd.""CategoryID"" = %s&amp;#10;and &amp;#10;cpd.""Lang"" = 'x-default';</field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""automap"" id=""WuSH~jnszE,!99sF7^kP""></block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get_dynamic"" id=""/v%C1m05Gh1o9}W1vW_;"">
                                                                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                          </block>
                                                                        </value>
                                                                        <next>
                                                                          <block type=""set_context_array_struct"" id=""Z5b_2x|.x#V*p3oQ.$Y8"">
                                                                            <field name=""CONTEXT_SELECT"">categories-pageDescs</field>
                                                                            <statement name=""DO"">
                                                                              <block type=""execute_sql"" id=""q/cQOzCP)7hWS}8D5K|:"">
                                                                                <mutation executesql=""1""></mutation>
                                                                                <value name=""SQL_QUERY"">
                                                                                  <block type=""sql_query"" id=""~!nNIMkXY!__[u+l_CsS"">
                                                                                    <field name=""SQL_QUERY"">select &amp;#10;cpd.""Lang"" as ""lang"",&amp;#10;cpd.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageDescs"" cpd &amp;#10;where &amp;#10;cpd.""CategoryID"" = %s</field>
                                                                                  </block>
                                                                                </value>
                                                                                <statement name=""DO"">
                                                                                  <block type=""append_row"" id=""L~o5*os.lT9,:pFJFbNN"">
                                                                                    <next>
                                                                                      <block type=""automap"" id=""Y4t^~#e:w/Z?BlEB/a@;""></block>
                                                                                    </next>
                                                                                  </block>
                                                                                </statement>
                                                                                <value name=""SQLOPTION1"">
                                                                                  <block type=""variables_get_dynamic"" id=""g{|2T4_M+TgR}t+!Ms|)"">
                                                                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                                  </block>
                                                                                </value>
                                                                              </block>
                                                                            </statement>
                                                                            <next>
                                                                              <block type=""set_context_array_struct"" id=""PUav{^SS%zado[j;;!.3"">
                                                                                <field name=""CONTEXT_SELECT"">categories-refinements</field>
                                                                                <statement name=""DO"">
                                                                                  <block type=""execute_sql"" id=""@n}{5tC1F}cxlf{-bPg]"">
                                                                                    <mutation executesql=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id="".1_/po8q36Efw*V3~st2"">
                                                                                        <field name=""SQL_QUERY"">select &amp;#10;cr.""AttributeID"" as ""attributeId"",&amp;#10;cr.""BucketType"" as ""bucketType""&amp;#10;from &amp;#10;""CategoryRefinement"" cr &amp;#10;where &amp;#10;cr.""CategoryID"" = %s;</field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""append_row"" id=""^6(TY)~:85)9?3(]5FS^"">
                                                                                        <next>
                                                                                          <block type=""automap"" id=""m98XAhN|QH!jdz([a!]y""></block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get_dynamic"" id=""G!u;hn1M+~/Xj*W0go%L"">
                                                                                        <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                                <next>
                                                                                  <block type=""set_context_array_struct"" id=""8m{Dq/CJ5Q|5*7~o.o4#"">
                                                                                    <field name=""CONTEXT_SELECT"">categories-blockedRefinements</field>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""execute_sql"" id=""ejT1^OuYPZ/_k1V;aG:i"">
                                                                                        <mutation executesql=""1""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""u.1~.*),UK/c|xKsxeqD"">
                                                                                            <field name=""SQL_QUERY"">select &amp;#10;cbr.""AttributeID"" as ""attributeId"",&amp;#10;cbr.""Type"" as ""blockedType""&amp;#10;from &amp;#10;""CatBlockedRef"" cbr &amp;#10;where &amp;#10;cbr.""CategoryID"" = %s;</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""append_row"" id=""I{$(TGs!4S!r2)5Bfr9L"">
                                                                                            <next>
                                                                                              <block type=""automap"" id=""c[EXeUE.|YJJlHGMo5U;""></block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get_dynamic"" id=""kWt!vDDV$0WK2ZQTp-u)"">
                                                                                            <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                                          </block>
                                                                                        </value>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <next>
                                                                                      <block type=""set_context_array_struct"" id=""||iWM!.h+@PO|Tdb*}1W"">
                                                                                        <field name=""CONTEXT_SELECT"">categories-customAttributes</field>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""execute_sql"" id=""v7Zm]gz?FDkR`!591|YW"">
                                                                                            <mutation executesql=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""%e?rB[z`Q`;?s`Kf]Q}R"">
                                                                                                <field name=""SQL_QUERY"">select &amp;#10;cca.""AttributeID"" as ""attributeId"",&amp;#10;cca.""Value"" as ""value""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca &amp;#10;where &amp;#10;cca.""CategoryID"" = %s </field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""append_row"" id=""vb2@H1j,/^u?n;$!yQbs"">
                                                                                                <next>
                                                                                                  <block type=""automap"" id=""[`wVq_#hI|%F]!L5Fc4]"">
                                                                                                    <next>
                                                                                                      <block type=""variables_set_dynamic"" id=""Zq3N!-G-Rk3pvSf{?j3s"">
                                                                                                        <field name=""VAR"" id=""*trv/?T8j0yv}*:rP[*K"" variabletype=""String"">attr_Context</field>
                                                                                                        <value name=""VALUE"">
                                                                                                          <block type=""refer_columns"" id=""K2bYK7Q?5*dvndsz.jGQ"">
                                                                                                            <field name=""COLUMN"">attributeId</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type=""set_context_array"" id=""W=S7xM;UXp,8~Y8Ys|V."">
                                                                                                            <field name=""CONTEXT_SELECT"">categories-values</field>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""execute_sql"" id=""-v+)JkqT*t^TJmav4t7Z"">
                                                                                                                <mutation executesql=""2""></mutation>
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""QzwglCd%%RKqQ+@|Y%Tq"">
                                                                                                                    <field name=""SQL_QUERY"">select&amp;#10;ccav.""Value"" as ""values""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca ,""CategoryCustomAttrVal"" ccav &amp;#10;where&amp;#10;cca.""CategoryID"" = %s &amp;#10;and&amp;#10;ccav.""AttributeID"" =%s</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""append_row"" id=""!5S0xCVL$U8Z^:jzIvCu"">
                                                                                                                    <next>
                                                                                                                      <block type=""automap"" id=""u`5Et{FGu7=Au=zOjR;$""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                  <block type=""variables_get_dynamic"" id=""ONt]3x}`,]3[sY);oM;W"">
                                                                                                                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <value name=""SQLOPTION2"">
                                                                                                                  <block type=""variables_get_dynamic"" id="";8#BT4W`tuPQ=5!_eXK$"">
                                                                                                                    <field name=""VAR"" id=""*trv/?T8j0yv}*:rP[*K"" variabletype=""String"">attr_Context</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get_dynamic"" id=""#xAc7rkoJxZr~C8NqD}9"">
                                                                                                <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <next>
                                                                                          <block type=""save_row"" id=""5cA.@Mf!XxP$(xtRRq4/""></block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""execute_sql"" id=""ByyBERuXACDyBqRk}||+"" disabled=""true"" x=""4263"" y=""-137"">
    <mutation executesql=""1""></mutation>
    <value name=""SQL_QUERY"">
      <block type=""sql_query"" id=""72510_.C)B[/OlLN}/@O"">
        <field name=""SQL_QUERY"">select &amp;#10;mctad.""MetaCustTypeAttrDefID"" as ""attributeId""&amp;#10;from &amp;#10;""MetaCustTypeAttrDef"" mctad&amp;#10;where&amp;#10;mctad.""CustomTypeID"" = %s</field>
      </block>
    </value>
    <value name=""SQLOPTION1"">
      <block type=""variables_get_dynamic"" id=""2Bx936i/F]=UA*(M/i}i"">
        <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
      </block>
    </value>
  </block>
  <block type=""execute_sql"" id=""Qpvq8!sm$YOCA?=e0D`N"" disabled=""true"" x=""4312"" y=""188"">
    <mutation executesql=""2""></mutation>
    <value name=""SQL_QUERY"">
      <block type=""sql_query"" id=""=iH[4[vQi%@5b|;k[.s*"">
        <field name=""SQL_QUERY"">select &amp;#10;mctadd.""Value"" as ""description""&amp;#10;from &amp;#10;""MetaCustTypeAttrDef"" mctad , ""MetaCustTypeAttrDefDesc"" mctadd &amp;#10;where&amp;#10;mctad.""CustomTypeID"" = %s&amp;#10;and&amp;#10;mctadd.""MetaCustTypeAttrDefAttrID""  = %s&amp;#10;and &amp;#10;mctadd.""Language"" = 'x-default';</field>
      </block>
    </value>
    <statement name=""DO"">
      <block type=""append_row"" id=""/V^W#0m!csv$)V$L1J)$"">
        <next>
          <block type=""automap"" id=""*P^#sAJ_/}|diMYzE$qT""></block>
        </next>
      </block>
    </statement>
    <value name=""SQLOPTION1"">
      <block type=""variables_get_dynamic"" id=""5v9]*0tp(-oDk;2vQTyZ"">
        <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
      </block>
    </value>
    <value name=""SQLOPTION2"">
      <block type=""variables_get_dynamic"" id=""T[r:MgNugR+w=:aj/,b?"">
        <field name=""VAR"" id=""pAeV9yRmt~=k$1JJlPD)"" variabletype=""String"">MetaCustTypeAttrDefId</field>
      </block>
    </value>
    <next>
      <block type=""set_context_array_struct"" id=""M,^l(1N`qk0T/NM95wE;"" disabled=""true"">
        <field name=""CONTEXT_SELECT"">extensions-values</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""GVk.JeaAtS^]KUI2dJTB"">
            <mutation executesql=""1""></mutation>
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""+UP#Bd^*urU$pRkNdlo%"">
                <field name=""SQL_QUERY"">select &amp;#10;madvd.""valueDefinitionsID"" as ""valDefId""&amp;#10;from&amp;#10;""MetaAttrDefValDef"" madvd &amp;#10;where&amp;#10;madvd.""valueDefinitionsID"" = %s</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""T]8jt`^is4p4G_KSa1R_"">
                <field name=""VAR"" id=""HRwJ6/.EX7sq1+vUPA3b"" variabletype=""Number"">ValDefID</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""yNjaecJRM?w#Ke)iwMs4"">
                    <field name=""COLUMN"">valDefId</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""Z~,~HMTS_9w@wRd.A97I"">
                    <mutation executesql=""3""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""NoK(EsNvV7agFt(us$#6"">
                        <field name=""SQL_QUERY"">select &amp;#10;mvddn.""Language"" as ""lang"",&amp;#10;mvddn.""Value"" as ""value""&amp;#10;from&amp;#10;""MetaCustTypeAttrDef"" mctad,""MetaAttrDefValDef"" madvd ,""MetaValDefDispName"" mvddn &amp;#10;where&amp;#10;mctad.""CustomTypeID"" = %s&amp;#10;and&amp;#10;mvddn.""valueDefinitionsID"" = %s&amp;#10;and&amp;#10;madvd.""MetaCustTypeAttrDefAttrID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""append_row"" id=""t-+fyzKX:m^1|SI?R(f8"">
                        <next>
                          <block type=""automap"" id=""(K2aC3x]2JHHvUpp4`z0""></block>
                        </next>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""k_s42zLf%*=ps8-F;jJv"">
                        <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                      </block>
                    </value>
                    <value name=""SQLOPTION2"">
                      <block type=""variables_get_dynamic"" id=""O?6j={1Jw{n9^F_rw$6["">
                        <field name=""VAR"" id=""HRwJ6/.EX7sq1+vUPA3b"" variabletype=""Number"">ValDefID</field>
                      </block>
                    </value>
                    <value name=""SQLOPTION3"">
                      <block type=""variables_get_dynamic"" id=""zLm%}UKuYT4-GzIGF?DC"">
                        <field name=""VAR"" id=""pAeV9yRmt~=k$1JJlPD)"" variabletype=""String"">MetaCustTypeAttrDefId</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
            <value name=""SQLOPTION1"">
              <block type=""variables_get_dynamic"" id=""2rqp1t*/=6Cp3DC}:Zph"">
                <field name=""VAR"" id=""pAeV9yRmt~=k$1JJlPD)"" variabletype=""String"">MetaCustTypeAttrDefId</field>
              </block>
            </value>
          </block>
        </statement>
      </block>
    </next>
  </block>
  <block type=""variables_set_dynamic"" id=""nGE?jUyb.ov|Ol+nO)FL"" disabled=""true"" x=""-1762"" y=""1063"">
    <field name=""VAR"" id=""hwDz4i|fB22wc)d%H/Pw"" variabletype=""String"">StoreAttrID</field>
    <value name=""VALUE"">
      <block type=""refer_columns"" id=""r1Jvz(KNYhdmfr-[K$WR"">
        <field name=""COLUMN"">attributeId</field>
      </block>
    </value>
    <next>
      <block type=""set_context_array"" id=""W5T|9(aan^^,H3)C%bef"" disabled=""true"">
        <field name=""CONTEXT_SELECT"">stores-values</field>
        <statement name=""DO"">
          <block type=""execute_sql"" id=""_7jtOFkc*14^JZfr:@Yf"">
            <mutation executesql=""1""></mutation>
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""rYRoou6xOHr%cqxvLrWY"">
                <field name=""SQL_QUERY"">select &amp;#10;scav.""Values"" as ""values""&amp;#10;from &amp;#10;""StoresCustomAttr"" sca ,""StoresCustomAttrVal"" scav ,""Stores"" s &amp;#10;where &amp;#10;s.""Id"" = sca.""StoreID"" &amp;#10;and &amp;#10;sca.""attributeId"" = scav.""attributeId"" </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""append_row"" id=""?{Zb*HMYLVZd]X.p3!y`"">
                <next>
                  <block type=""automap"" id=""zs*1|8}L=0ShD=!8Iel3""></block>
                </next>
              </block>
            </statement>
            <value name=""SQLOPTION1"">
              <block type=""variables_get_dynamic"" id=""P[!:4pPb.OQ6]ipT{5{M"">
                <field name=""VAR"" id=""hwDz4i|fB22wc)d%H/Pw"" variabletype=""String"">StoreAttrID</field>
              </block>
            </value>
          </block>
        </statement>
      </block>
    </next>
  </block>
  <block type=""set_context_array_struct"" id=""{]!hEv@MjCj;JwEGAF)j"" disabled=""true"" x=""3887"" y=""1563"">
    <field name=""CONTEXT_SELECT"">extensions-groups</field>
    <statement name=""DO"">
      <block type=""execute_sql"" id=""G,GdY1E$iq)zjEIAHbgG"">
        <mutation executesql=""1""></mutation>
        <value name=""SQL_QUERY"">
          <block type=""sql_query"" id=""7g]_[{r[6GjDof6pP}:{"">
            <field name=""SQL_QUERY"">select&amp;#10;mctgd.""GroupID"" as ""groupId""&amp;#10;from &amp;#10;""MetaCustTypeGroupDef"" mctgd&amp;#10;where &amp;#10;mctgd.""CustomTypeID"" = %s</field>
          </block>
        </value>
        <statement name=""DO"">
          <block type=""append_row"" id=""w0~?[$M^yL}kvR.0dQlQ"">
            <next>
              <block type=""automap"" id=""]XUiL~GuwIfp=`C2euTm""></block>
            </next>
          </block>
        </statement>
        <value name=""SQLOPTION1"">
          <block type=""variables_get_dynamic"" id=""jJIq~oTX-h}xv6UKhD73"">
            <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
          </block>
        </value>
        <next>
          <block type=""execute_sql"" id=""=-NqFGrxzX/e4%U1H;M;"">
            <mutation executesql=""1""></mutation>
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""o|VXfJ}W{e$o*f8;FrCq"">
                <field name=""SQL_QUERY"">select&amp;#10;mctgd.""GroupID"" as ""GroupId""&amp;#10;from &amp;#10;""MetaCustTypeGroupDef"" mctgd&amp;#10;where &amp;#10;mctgd.""CustomTypeID"" = %s</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set_dynamic"" id=""[m5vQFzPyo``26AS{1nH"">
                <field name=""VAR"" id=""0mp!SOxQ;AK9D76Ctk4n"" variabletype=""String"">groupId</field>
                <value name=""VALUE"">
                  <block type=""refer_columns"" id=""1dTzVGz%W6?PKfiE03xh"">
                    <field name=""COLUMN"">GroupId</field>
                  </block>
                </value>
                <next>
                  <block type=""execute_sql"" id=""S$4KVMzI@XMTa~#;eftq"">
                    <mutation executesql=""2""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Md?Pp+W^rXRt!I/STshP"">
                        <field name=""SQL_QUERY"">select&amp;#10;mgddn.""Value"" as ""displayName""&amp;#10;from &amp;#10;""MetaCustTypeGroupDef"" mctgd,""MetaGroupDefDispName"" mgddn &amp;#10;where &amp;#10;mctgd.""CustomTypeID"" = %s&amp;#10;and&amp;#10;mgddn.""GroupID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""append_row"" id=""19K6XaCM-,lEH/T6FRN$"">
                        <next>
                          <block type=""automap"" id=""^U]l?`Nk[lRo6z/zixzK""></block>
                        </next>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get_dynamic"" id=""yF]wXvOHGM[=i^D@Fa3$"">
                        <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                      </block>
                    </value>
                    <value name=""SQLOPTION2"">
                      <block type=""variables_get_dynamic"" id=""4eJ{N(Hygcp@M9;y.InT"">
                        <field name=""VAR"" id=""0mp!SOxQ;AK9D76Ctk4n"" variabletype=""String"">groupId</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
            <value name=""SQLOPTION1"">
              <block type=""variables_get_dynamic"" id=""7m:,G0i]-Gzi~m/X~]H@"">
                <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
              </block>
            </value>
            <next>
              <block type=""execute_sql"" id="",3.*Y2pO^#[xsocb*C?h"">
                <mutation executesql=""1""></mutation>
                <value name=""SQL_QUERY"">
                  <block type=""sql_query"" id=""2O~kaQwCCw32Vil`vL3K"">
                    <field name=""SQL_QUERY"">select&amp;#10;mctgd.""GroupID"" as ""GroupId""&amp;#10;from &amp;#10;""MetaCustTypeGroupDef"" mctgd&amp;#10;where &amp;#10;mctgd.""CustomTypeID"" = %s</field>
                  </block>
                </value>
                <statement name=""DO"">
                  <block type=""variables_set_dynamic"" id=""IiXz7:`E;r[ty#2cyhy^"">
                    <field name=""VAR"" id=""0mp!SOxQ;AK9D76Ctk4n"" variabletype=""String"">groupId</field>
                    <value name=""VALUE"">
                      <block type=""refer_columns"" id=""g8LBHg?V01@im6[fGiZl"">
                        <field name=""COLUMN"">GroupId</field>
                      </block>
                    </value>
                    <next>
                      <block type=""set_context_array"" id=""o=gU121u*Lo|x8}#3^4f"">
                        <field name=""CONTEXT_SELECT"">extensions-attributes</field>
                        <statement name=""DO"">
                          <block type=""execute_sql"" id=""Ctw?Rb=UID`@M,Vfl{HD"">
                            <mutation executesql=""2""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""$O4]?fH@l+tq_f~p?TSo"">
                                <field name=""SQL_QUERY"">select&amp;#10;mgda.""AttributeID"" as ""attributes""&amp;#10;from &amp;#10;""MetaCustTypeGroupDef"" mctgd,""MetaGroupDefAttr"" mgda &amp;#10;where &amp;#10;mctgd.""CustomTypeID"" = %s&amp;#10;and&amp;#10;mgda.""GroupID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""append_row"" id=""P;ME5RsVvLa`!:pm(Q1H"">
                                <next>
                                  <block type=""automap"" id=""6xFGz9txf={q%o/vV|hv""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get_dynamic"" id=""6,@Sc:*GV~)]mfleaErk"">
                                <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                              </block>
                            </value>
                            <value name=""SQLOPTION2"">
                              <block type=""variables_get_dynamic"" id=""TEM,eM2Kn2c9R5tHM=Ve"">
                                <field name=""VAR"" id=""0mp!SOxQ;AK9D76Ctk4n"" variabletype=""String"">groupId</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                      </block>
                    </next>
                  </block>
                </statement>
                <value name=""SQLOPTION1"">
                  <block type=""variables_get_dynamic"" id=""b|%EFMQv24b@Ws8:lz%."">
                    <field name=""VAR"" id=""1gu.[g1Z25FN.zI)~Kj["" variabletype=""String"">TypeId</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""?}9B+Q0Nr#utQGx3jZRe"" x=""437"" y=""2037"">
    <mutation>
      <arg name=""ProID"" varid=""9K7hRV18ZZqy0:_xIb]V""></arg>
    </mutation>
    <field name=""NAME"">priceBook</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""execute_sql"" id=""!~P=GxG:o)zH?M^`Or;#"">
        <value name=""SQL_QUERY"">
          <block type=""sql_query"" id=""W2cEA1tl`ADgdg_5xB?q"">
            <field name=""SQL_QUERY"">select &amp;#10;orpr.""PricebookRecordID"" as ""prID""&amp;#10;from &amp;#10;""OverRidePricebookRecord"" orpr &amp;#10;left join ""PricebookRecord"" pr &amp;#10;on&amp;#10;pr.""ProductID"" = orpr.""ProductID"" &amp;#10;where&amp;#10;orpr.""ProductID"" = %s</field>
          </block>
        </value>
        <statement name=""DO"">
          <block type=""variables_set"" id=""_|D6!eWO1n,/a8=@zt98"">
            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
            <value name=""VALUE"">
              <block type=""refer_columns"" id=""5(d5aRz?K!wT)!u:f0[0"">
                <field name=""COLUMN"">prID</field>
              </block>
            </value>
            <next>
              <block type=""controls_if"" id=""V?Bii92|VhTaOB`sV!gk"">
                <mutation else=""1""></mutation>
                <value name=""IF0"">
                  <block type=""logic_compare"" id=""6KQmmM?#XRYDvot9L$v!"">
                    <field name=""OP"">NEQ</field>
                    <value name=""A"">
                      <block type=""variables_get"" id=""!Qxw]9i%zUk^)y`cm0I*"">
                        <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""logic_null"" id=""=DD0kC9)|ZaE,am6]ktM""></block>
                    </value>
                  </block>
                </value>
                <statement name=""DO0"">
                  <block type=""execute_sql"" id=""[EC/QUI|.ssO5)9-vyO2"">
                    <mutation executesql=""2""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""!YM~`H!C6,8sL;*[])eW"">
                        <field name=""SQL_QUERY"">select &amp;#10;orpra.""Value"" as ""price"",&amp;#10;orpra.""Quantity"" as ""ats""&amp;#10;from &amp;#10;""OverRidePricebookRecord"" orpr ,""OverRidePricebookRecordAmount"" orpra &amp;#10;where&amp;#10;orpra.""PricebookRecordID"" = %s&amp;#10;and &amp;#10;orpr.""ProductID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""automap"" id=""0@L$OS7,7EFeZGzjmS5q""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""H}?*^CDEp])l,j1$;upO"">
                        <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                      </block>
                    </value>
                    <value name=""SQLOPTION2"">
                      <block type=""variables_get"" id=""$$.b%_Xqaoaax11+[hpN"">
                        <field name=""VAR"" id=""9K7hRV18ZZqy0:_xIb]V"">ProID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""execute_sql"" id=""mvthys_2x{{;EAK}=Mv)"">
                        <mutation executesql=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""*XX%1uJh,?Vb#0q_zd(/"">
                            <field name=""SQL_QUERY"">select &amp;#10;orphx.""ID"" as ""conID""&amp;#10;from &amp;#10;""OverRidePricebookXML"" orpx ,""OverRidePricebookHeaderXML"" orphx &amp;#10;where &amp;#10;orpx.""PricebookRecordID"" = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""variables_set"" id=""lmRQl*@^_SekIkmMI1cy"">
                            <field name=""VAR"" id=""NOG)u%.4)5RwYGuM@m=W"">ConID</field>
                            <value name=""VALUE"">
                              <block type=""refer_columns"" id=""OZaXZII*a0qiJ|e3z=x{"">
                                <field name=""COLUMN"">conID</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id=""x+FXgdHwx*jeRXpC]q{1"">
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""[RA;O40yH1cW0m0n/iO+"">
                                    <field name=""SQL_QUERY"">select &amp;#10;orphx.""Currency"" as ""currency""&amp;#10;from &amp;#10;""OverRidePricebookHeaderXML"" orphx&amp;#10;where&amp;#10;orphx.""ID"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""automap"" id=""U0I^Q5W/mMNQRO5Jsu55""></block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""Un`!+Qss0IsAoXoUMyv1"">
                            <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </statement>
                <statement name=""ELSE"">
                  <block type=""execute_sql"" id=""`3dv=~,G;P$QGVO,wVg%"">
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""I@cLLV=Btfr2.LLX94H-"">
                        <field name=""SQL_QUERY"">select &amp;#10;pr.""PricebookRecordID"" as ""prID""&amp;#10;from ""PricebookRecord"" pr &amp;#10;where pr.""ProductID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""variables_set"" id="")BzJs;%Ti[S0cWV;7}l^"">
                        <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                        <value name=""VALUE"">
                          <block type=""refer_columns"" id=""V6TvI9xY$tS86tkqoB:8"">
                            <field name=""COLUMN"">prID</field>
                          </block>
                        </value>
                        <next>
                          <block type=""execute_sql"" id=""1srJIO{#2QHspf*l9#A`"">
                            <mutation executesql=""2""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""/qQrrU3R*LYI~il[PH(z"">
                                <field name=""SQL_QUERY"">select &amp;#10;pra.""Value"" as ""price"",&amp;#10;pra.""Quantity"" as ""ats""&amp;#10;from &amp;#10;""PricebookRecord"" pr ,""PricebookRecordAmount"" pra &amp;#10;where&amp;#10;pra.""PricebookRecordID"" = %s&amp;#10;and &amp;#10;pr.""ProductID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""automap"" id=""eG`%Q6ZB=1U=d;wk6vb|""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""SrwOELBa6Am5-v2X,aXR"">
                                <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                              </block>
                            </value>
                            <value name=""SQLOPTION2"">
                              <block type=""variables_get"" id=""$`W!aABbkO.eFTlsDlJ3"">
                                <field name=""VAR"" id=""9K7hRV18ZZqy0:_xIb]V"">ProID</field>
                              </block>
                            </value>
                            <next>
                              <block type=""execute_sql"" id=""Rsi.+T9@sH@#1.[|T:/Q"">
                                <mutation executesql=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""~$-gV4PRfG*ZV)1`v~wP"">
                                    <field name=""SQL_QUERY"">select&amp;#10;phx.""ID"" as ""conID""&amp;#10;from &amp;#10;""PricebookHeaderXML"" phx , ""PricebookXML"" px &amp;#10;where &amp;#10;px.""PricebookRecordID"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""variables_set"" id=""T{sUzMs`,YS6Q,w.2kOc"">
                                    <field name=""VAR"" id=""NOG)u%.4)5RwYGuM@m=W"">ConID</field>
                                    <value name=""VALUE"">
                                      <block type=""refer_columns"" id=""G8Ao;v0+8!eP$V$r2X1M"">
                                        <field name=""COLUMN"">conID</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""execute_sql"" id=""G2@6I,%t-qeN`6$h*%)N"">
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""H4/y6qh+V#8%Q|:l_^m7"">
                                            <field name=""SQL_QUERY"">select &amp;#10;phx.""Currency"" as ""currency""&amp;#10;from &amp;#10;""PricebookHeaderXML"" phx&amp;#10;where&amp;#10;phx.""ID"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""automap"" id=""^=)JKMbtdK96K5g0T`;z""></block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""AG`hd-gsT7z.^]E}HA,;"">
                                    <field name=""VAR"" id=""U6)D}RFVl*hi=Di7`n.U"">PriceRecordID</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""execute_sql"" id=""_M[Y,PjTHf7$31e@*sg0"" disabled=""true"" x=""3013"" y=""2963"">
    <mutation executesql=""1""></mutation>
    <value name=""SQL_QUERY"">
      <block type=""sql_query"" id="")fl/gX$ApY[0jBK.t$9I"">
        <field name=""SQL_QUERY"">select &amp;#10;cr.""CategoryRefinementID"" as ""CatRefId""&amp;#10;from &amp;#10;""CategoryRefinement"" cr</field>
      </block>
    </value>
    <statement name=""DO"">
      <block type=""variables_set_dynamic"" id=""#3xvwlJZlXHgC/%[:,gS"">
        <field name=""VAR"" id=""T0z7kVYQs~kWl~AkG7{r"" variabletype=""String"">CatRefID</field>
        <value name=""VALUE"">
          <block type=""refer_columns"" id=""8FiXeLM.R6n935Qv:~du"">
            <field name=""COLUMN"">CatRefId</field>
          </block>
        </value>
        <next>
          <block type=""set_context_array_struct"" id=""v4:L!L*Ld`WbCPo`]pU2"">
            <field name=""CONTEXT_SELECT"">categories-attributeBuckets</field>
            <statement name=""DO"">
              <block type=""execute_sql"" id=""j-TCG[@b%lLh*8+K}hmW"">
                <mutation executesql=""2""></mutation>
                <value name=""SQL_QUERY"">
                  <block type=""sql_query"" id=""wslnfVf5gny#o4A^ALBm"">
                    <field name=""SQL_QUERY"">select &amp;#10;crab.""Name"" as ""name"",&amp;#10;crab.""ValueList"" as ""valueList""&amp;#10;from &amp;#10;""CategoryRefinement"" cr ,""CatRefAttrBucket"" crab&amp;#10;where &amp;#10;crab.""CategoryRefinementID"" = %s&amp;#10;and &amp;#10;cr.""CategoryID"" = %s </field>
                  </block>
                </value>
                <statement name=""DO"">
                  <block type=""append_row"" id=""g?*V?q{{5NJ~QKwGo7fp"">
                    <next>
                      <block type=""automap"" id=""^ZsR,WN]NwO1XE,jVbA*""></block>
                    </next>
                  </block>
                </statement>
                <value name=""SQLOPTION1"">
                  <block type=""variables_get_dynamic"" id="";,`rDNQl4c}Rxc[-!G[x"">
                    <field name=""VAR"" id=""T0z7kVYQs~kWl~AkG7{r"" variabletype=""String"">CatRefID</field>
                  </block>
                </value>
                <value name=""SQLOPTION2"">
                  <block type=""variables_get_dynamic"" id=""Pgds~a$x~$_=vm4;}6}M"">
                    <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
                  </block>
                </value>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
    <value name=""SQLOPTION1"">
      <block type=""variables_get_dynamic"" id=""rtMhtJT;^0jOKYTt:xP?"">
        <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
      </block>
    </value>
  </block>
  <block type=""execute_sql"" id="",@5ho(YAc8Yvjj^Pp~8("" disabled=""true"" x=""3063"" y=""5088"">
    <mutation executesql=""1""></mutation>
    <value name=""SQL_QUERY"">
      <block type=""sql_query"" id=""2~2bH](HYF{N6z;M7yYF"">
        <field name=""SQL_QUERY"">select &amp;#10;cca.""AttributeID"" as ""attributeId"",&amp;#10;cca.""Value"" as ""value""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca &amp;#10;where &amp;#10;cca.""CategoryID"" = %s </field>
      </block>
    </value>
    <value name=""SQLOPTION1"">
      <block type=""variables_get_dynamic"" id=""w3O7v^_?|YyfIQX$GO96"">
        <field name=""VAR"" id=""uwF:B;,dnM0H)6n/pWpM"" variabletype=""String"">CollId</field>
      </block>
    </value>
  </block>
</xml>",1,2021-02-12 13:49:14
10,10,unittest-logic,1,2,"unittestResults = None
ok = None

def unittest_report():
  # Create test report.
  report = []
  summary = []
  fails = 0
  for (success, log, message) in unittestResults:
    if success:
      summary.append(""."")
    else:
      summary.append(""F"")
      fails += 1
      report.append("""")
      report.append(""FAIL: "" + message)
      report.append(log)
  report.insert(0, """".join(summary))
  report.append("""")
  report.append(""Number of tests run: %d"" % len(unittestResults))
  report.append("""")
  if fails:
    report.append(""FAILED (failures=%d)"" % fails)
  else:
    report.append(""OK"")
  return ""\n"".join(report)

def assertEquals(actual, expected, message):
  # Asserts that a value equals another value.
  if unittestResults == None:
    raise Exception(""Orphaned assert equals: "" + message)
  if actual == expected:
    unittestResults.append((True, ""OK"", message))
  else:
    unittestResults.append((False, ""Expected: %s\nActual: %s"" % (expected, actual), message))

def fail(message):
  # Always assert an error.
  if unittestResults == None:
    raise Exception(""Orphaned assert equals: "" + message)
  unittestResults.append((False, ""Fail."", message))

# Describe this function...
def test_if():
  global ok, unittestResults
  if False:
    fail('if false')
  ok = False
  if True:
    ok = True
  assertEquals(ok, True, 'if true')
  ok = False
  if False:
    fail('if/else false')
  else:
    ok = True
  assertEquals(ok, True, 'if/else false')
  ok = False
  if True:
    ok = True
  else:
    fail('if/else true')
  assertEquals(ok, True, 'if/else true')
  ok = False
  if False:
    fail('elseif 1')
  elif True:
    ok = True
  elif True:
    fail('elseif 2')
  else:
    fail('elseif 3')
  assertEquals(ok, True, 'elseif 4')

# Describe this function...
def test_equalities():
  global ok, unittestResults
  assertEquals(2 == 2, True, 'Equal yes')
  assertEquals(3 == 4, False, 'Equal no')
  assertEquals(5 != 6, True, 'Not equal yes')
  assertEquals(3 == 4, False, 'Not equal no')
  assertEquals(5 < 6, True, 'Smaller yes')
  assertEquals(7 < 7, False, 'Smaller no')
  assertEquals(9 > 8, True, 'Greater yes')
  assertEquals(10 > 10, False, 'Greater no')
  assertEquals(11 <= 11, True, 'Smaller-equal yes')
  assertEquals(13 <= 12, False, 'Smaller-equal no')
  assertEquals(14 >= 14, True, 'Greater-equal yes')
  assertEquals(15 >= 16, False, 'Greater-equal no')

# Describe this function...
def test_ifelse():
  global ok, unittestResults
  ok = False
  if True:
    ok = True
  else:
    fail('ifelse true')
  assertEquals(ok, True, 'ifelse true')
  ok = False
  if False:
    fail('ifelse false')
  else:
    ok = True
  assertEquals(ok, True, 'ifelse false')

# Describe this function...
def test_and():
  global ok, unittestResults
  assertEquals(True and True, True, 'And true/true')
  assertEquals(False and True, False, 'And false/true')
  assertEquals(True and False, False, 'And true/false')
  assertEquals(False and False, False, 'And false/false')

# Describe this function...
def test_ternary():
  global ok, unittestResults
  assertEquals(42 if True else 99, 42, 'if true')
  assertEquals(42 if False else 99, 99, 'if true')

# Describe this function...
def test_or():
  global ok, unittestResults
  assertEquals(True or True, True, 'Or true/true')
  assertEquals(False or True, True, 'Or false/true')
  assertEquals(True or False, True, 'Or true/false')
  assertEquals(False or False, False, 'Or false/false')


unittestResults = []
print('\n========================================\nRunning suite: Logic\n========================================\n')
assertEquals(True, True, 'True')
assertEquals(False, False, 'False')
assertEquals(not False, True, 'Not true')
assertEquals(not True, False, 'Not false')
test_if()
test_ifelse()
test_equalities()
test_and()
test_or()
test_ternary()
print(unittest_report())
unittestResults = None
","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable id=""h%@U$tzZD)xwJi:!v{=z"">ok</variable>
  </variables>
  <block type=""unittest_main"" id=""2(-G$vf(!f)2zw$AA2B="" x=""-13"" y=""-13"">
    <field name=""SUITE_NAME"">Logic</field>
    <statement name=""DO"">
      <block type=""unittest_assertvalue"" id=""ze/ni[?6Y0mR@)V$-fPN"" inline=""false"">
        <field name=""EXPECTED"">TRUE</field>
        <value name=""MESSAGE"">
          <block type=""text"" id=""[N;o*{~R.UT[4[v0I7Kv"">
            <field name=""TEXT"">True</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""logic_boolean"" id=""W_VPCMW/Quz[*nqWzq-N"">
            <field name=""BOOL"">TRUE</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id=""p5aE[pDAhYHJDesJ8)`h"" inline=""false"">
            <field name=""EXPECTED"">FALSE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""1|#H*K10]7r`pF;ymIJd"">
                <field name=""TEXT"">False</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_boolean"" id=""sg1]~q26OjeN*6nbUu$8"">
                <field name=""BOOL"">FALSE</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertvalue"" id=""s2/1/o:gkG}.f87oqdY,"" inline=""false"">
                <field name=""EXPECTED"">TRUE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""Y)2zC0hE@O`M[aD.24/x"">
                    <field name=""TEXT"">Not true</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""logic_negate"" id=""T:/90,7~Rma+1kR;})=e"" inline=""false"">
                    <value name=""BOOL"">
                      <block type=""logic_boolean"" id="":cBXrkO`=8sf+V/[~{a="">
                        <field name=""BOOL"">FALSE</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertvalue"" id=""|O]0%dl?|@K2fCQ_KW,="" inline=""false"">
                    <field name=""EXPECTED"">FALSE</field>
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""d1(Fc[`*xbiG[7::!2]j"">
                        <field name=""TEXT"">Not false</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""logic_negate"" id=""wxmogV]!1y.X*uYKkU#t"" inline=""false"">
                        <value name=""BOOL"">
                          <block type=""logic_boolean"" id=""O_yOeafkG1[#AAyDtiZR"">
                            <field name=""BOOL"">TRUE</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <next>
                      <block type=""procedures_callnoreturn"" id=""6.xvi!s(Kv|DEsv%4$nn"">
                        <mutation name=""test if""></mutation>
                        <next>
                          <block type=""procedures_callnoreturn"" id=""=gP;J;K5I,F/AQQeyHkw"">
                            <mutation name=""test ifelse""></mutation>
                            <next>
                              <block type=""procedures_callnoreturn"" id=""=]9E|q87*5Hk$M-PUOag"">
                                <mutation name=""test equalities""></mutation>
                                <next>
                                  <block type=""procedures_callnoreturn"" id=""FC%Fr*6e;OBJv{@m55{B"">
                                    <mutation name=""test and""></mutation>
                                    <next>
                                      <block type=""procedures_callnoreturn"" id=""T%0^Rt@tK[:(_e5mT^lo"">
                                        <mutation name=""test or""></mutation>
                                        <next>
                                          <block type=""procedures_callnoreturn"" id=""As|[w9C9aZrE,cD=+y`1"">
                                            <mutation name=""test ternary""></mutation>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""C]4cl)O$SyRyFGSWWFrs"" x=""313"" y=""-12"">
    <field name=""NAME"">test if</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""controls_if"" id=""-+N(Fm9^qwFP196=46wy"" inline=""false"">
        <value name=""IF0"">
          <block type=""logic_boolean"" id=""CZ*F$i%:U%FW;c*[F%Zn"">
            <field name=""BOOL"">FALSE</field>
          </block>
        </value>
        <statement name=""DO0"">
          <block type=""unittest_fail"" id=""t4k)qz_7/AiU/#rXFGxC"">
            <field name=""MESSAGE"">if false</field>
          </block>
        </statement>
        <next>
          <block type=""variables_set"" id=""S3DfQ~k!}(rQO^(kP*mn"" inline=""false"">
            <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
            <value name=""VALUE"">
              <block type=""logic_boolean"" id=""K*6Gt1a9OGI]~%c#MOT("">
                <field name=""BOOL"">FALSE</field>
              </block>
            </value>
            <next>
              <block type=""controls_if"" id=""yxLr(0]5/iS4Q.f(t,/;"" inline=""false"">
                <value name=""IF0"">
                  <block type=""logic_boolean"" id=""(!UZFgGv7M[E(lz6)IxU"">
                    <field name=""BOOL"">TRUE</field>
                  </block>
                </value>
                <statement name=""DO0"">
                  <block type=""variables_set"" id=""D3QPmcpuC46.Vus5jRz]"" inline=""false"">
                    <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                    <value name=""VALUE"">
                      <block type=""logic_boolean"" id=""Rk.M=sTRG5*#kYjaV[!E"">
                        <field name=""BOOL"">TRUE</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type=""unittest_assertvalue"" id=""4UN?]=(ZAzxm{{7mBtK?"" inline=""false"">
                    <field name=""EXPECTED"">TRUE</field>
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""G6Q;hujRXGUSe_c(h^+/"">
                        <field name=""TEXT"">if true</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""variables_get"" id=""e?Wh}1;|-7Sp(W6t*FXD"">
                        <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                      </block>
                    </value>
                    <next>
                      <block type=""variables_set"" id=""6QrfUYK3Rj^7TuxI~5MY"" inline=""false"">
                        <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                        <value name=""VALUE"">
                          <block type=""logic_boolean"" id=""FFz{YM+x@x[kZ.qZ6yA="">
                            <field name=""BOOL"">FALSE</field>
                          </block>
                        </value>
                        <next>
                          <block type=""controls_if"" id=""[bBe)ynR=So+3AeE6so4"" inline=""false"">
                            <mutation else=""1""></mutation>
                            <value name=""IF0"">
                              <block type=""logic_boolean"" id=""bz9zD?Y.Y!%kJkdF|(rT"">
                                <field name=""BOOL"">FALSE</field>
                              </block>
                            </value>
                            <statement name=""DO0"">
                              <block type=""unittest_fail"" id=""),bv})H!)r{}sV$S[1$a"">
                                <field name=""MESSAGE"">if/else false</field>
                              </block>
                            </statement>
                            <statement name=""ELSE"">
                              <block type=""variables_set"" id="",fW13Q|[t9rW^Qx:VZ{I"" inline=""false"">
                                <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                <value name=""VALUE"">
                                  <block type=""logic_boolean"" id=""+%5etTu7kREepS}sHJLO"">
                                    <field name=""BOOL"">TRUE</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""unittest_assertvalue"" id=""`psEZ9uKA[o=p7gbG3bg"" inline=""false"">
                                <field name=""EXPECTED"">TRUE</field>
                                <value name=""MESSAGE"">
                                  <block type=""text"" id=""`jVMZUtkBH2})1u1:_pq"">
                                    <field name=""TEXT"">if/else false</field>
                                  </block>
                                </value>
                                <value name=""ACTUAL"">
                                  <block type=""variables_get"" id=""2xz8vt@LMVg9TLR5GMWQ"">
                                    <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""variables_set"" id=""fwqxlm:)9ePLi/Z2WPqv"" inline=""false"">
                                    <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                    <value name=""VALUE"">
                                      <block type=""logic_boolean"" id=""2{Y+o*cXQCtm%;zbI00?"">
                                        <field name=""BOOL"">FALSE</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""controls_if"" id=""Cjk-09C~mbvO_()S#z8q"" inline=""false"">
                                        <mutation else=""1""></mutation>
                                        <value name=""IF0"">
                                          <block type=""logic_boolean"" id=""cC5r(g-uC.,uB]3!(8Kp"">
                                            <field name=""BOOL"">TRUE</field>
                                          </block>
                                        </value>
                                        <statement name=""DO0"">
                                          <block type=""variables_set"" id=""mz1kPp4P$;*xBXqG:5z?"" inline=""false"">
                                            <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                            <value name=""VALUE"">
                                              <block type=""logic_boolean"" id=""y:V2UTSomrtAf(eS^2et"">
                                                <field name=""BOOL"">TRUE</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <statement name=""ELSE"">
                                          <block type=""unittest_fail"" id=""[R-x5:QVp8YLIQg)H1Ey"">
                                            <field name=""MESSAGE"">if/else true</field>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type=""unittest_assertvalue"" id=""vHKhieV}OGeYgIZw,xWk"" inline=""false"">
                                            <field name=""EXPECTED"">TRUE</field>
                                            <value name=""MESSAGE"">
                                              <block type=""text"" id=""U8?88+5iM2~zNcP#^Xb-"">
                                                <field name=""TEXT"">if/else true</field>
                                              </block>
                                            </value>
                                            <value name=""ACTUAL"">
                                              <block type=""variables_get"" id=""pJ8f$|.$*aPWR6$.^1d3"">
                                                <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type=""variables_set"" id=""b7~NwH3m+`?qo(p361^Q"" inline=""false"">
                                                <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                                <value name=""VALUE"">
                                                  <block type=""logic_boolean"" id=""!AXT;}Cl}2dOqEA.wfoz"">
                                                    <field name=""BOOL"">FALSE</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""controls_if"" id=""c*OU%$8W/m/9Iz8MQ0S4"" inline=""false"">
                                                    <mutation elseif=""2"" else=""1""></mutation>
                                                    <value name=""IF0"">
                                                      <block type=""logic_boolean"" id=""%VKg?,AycKl@n-Wfoci("">
                                                        <field name=""BOOL"">FALSE</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO0"">
                                                      <block type=""unittest_fail"" id=""Q@M(ot4`mszx;W-sDc?="">
                                                        <field name=""MESSAGE"">elseif 1</field>
                                                      </block>
                                                    </statement>
                                                    <value name=""IF1"">
                                                      <block type=""logic_boolean"" id="",3uT1agO~e%J3DW#XaL#"">
                                                        <field name=""BOOL"">TRUE</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO1"">
                                                      <block type=""variables_set"" id=""!NKZQ;Z6=7aw[QG9}N/X"" inline=""false"">
                                                        <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                                        <value name=""VALUE"">
                                                          <block type=""logic_boolean"" id=""Ms;{M4DBv4r[e}%xXNmH"">
                                                            <field name=""BOOL"">TRUE</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <value name=""IF2"">
                                                      <block type=""logic_boolean"" id=""JRAom*|7VkG^)y*5Orw+"">
                                                        <field name=""BOOL"">TRUE</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO2"">
                                                      <block type=""unittest_fail"" id=""NB!5IfH17iFLd(--(5WT"">
                                                        <field name=""MESSAGE"">elseif 2</field>
                                                      </block>
                                                    </statement>
                                                    <statement name=""ELSE"">
                                                      <block type=""unittest_fail"" id=""C^25WDj7eBonE}wCxJiL"">
                                                        <field name=""MESSAGE"">elseif 3</field>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""unittest_assertvalue"" id=""CdTjyS/K:*$)]K=OGV[)"" inline=""false"">
                                                        <field name=""EXPECTED"">TRUE</field>
                                                        <value name=""MESSAGE"">
                                                          <block type=""text"" id=""+6iz|DGc[jONRLj~OWt]"">
                                                            <field name=""TEXT"">elseif 4</field>
                                                          </block>
                                                        </value>
                                                        <value name=""ACTUAL"">
                                                          <block type=""variables_get"" id=""]-z8m/p{IDAbffaC,#_F"">
                                                            <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""+upAMz0{KJfWd?DI})s}"" x=""663"" y=""-12"">
    <field name=""NAME"">test equalities</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertvalue"" id=""_~FFva9aNhM7;^:*6-S?"" inline=""false"">
        <field name=""EXPECTED"">TRUE</field>
        <value name=""MESSAGE"">
          <block type=""text"" id=""Z;B1}r|f?BOKj8V]/il."">
            <field name=""TEXT"">Equal yes</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""logic_compare"" id=""s-dpz:dwF^Ny|~[T)t?d"">
            <field name=""OP"">EQ</field>
            <value name=""A"">
              <block type=""math_number"" id=""$L;`Bng?A]_{9JmY.PD-"">
                <field name=""NUM"">2</field>
              </block>
            </value>
            <value name=""B"">
              <block type=""math_number"" id=""?13X0C~lnz%.#O@!18Dc"">
                <field name=""NUM"">2</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id="";z_/M4NN:QO?iEhR]C?7"" inline=""false"">
            <field name=""EXPECTED"">FALSE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""8BcDEJjN)(vb-:E0:8xi"">
                <field name=""TEXT"">Equal no</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_compare"" id=""!i(TA$kr$zojS:_rQ{tg"">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""math_number"" id=""$Rc)3L,VS%0CW=#:b[~]"">
                    <field name=""NUM"">3</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""math_number"" id=""_gP$L{Tm{{9?H^T,,NU,"">
                    <field name=""NUM"">4</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type=""unittest_assertvalue"" id=""9ftvw0f27Nr;c@e1q7X1"" inline=""false"">
                <field name=""EXPECTED"">TRUE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""JP(vk3ZfdG[L1SH~3?ot"">
                    <field name=""TEXT"">Not equal yes</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""logic_compare"" id=""DX{gVQOyQQZUV):xr!Do"">
                    <field name=""OP"">NEQ</field>
                    <value name=""A"">
                      <block type=""math_number"" id=""2svE^jLXU4#|#0E`zVOR"">
                        <field name=""NUM"">5</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_number"" id=""f#%2DPJyet1P=GT6Q]:i"">
                        <field name=""NUM"">6</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertvalue"" id=""_@NtT$eIBYIwagei.|@:"" inline=""false"">
                    <field name=""EXPECTED"">FALSE</field>
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""YBI^C5yeLtCZxRW@4~2{"">
                        <field name=""TEXT"">Not equal no</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""logic_compare"" id=""-V@|ip;I}47@DO^{|TQ3"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""math_number"" id=""COZj9gc+NB@QL?fVQ6G4"">
                            <field name=""NUM"">3</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""math_number"" id=""p(_F+k4fm=o9t2K(;DvD"">
                            <field name=""NUM"">4</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertvalue"" id=""TkOW(t7%%6;F6$9,z}ak"" inline=""false"">
                        <field name=""EXPECTED"">TRUE</field>
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""B3t5i1MCl@XOZ%DSo}]C"">
                            <field name=""TEXT"">Smaller yes</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""logic_compare"" id=""ewT41WR]taPxXC~u|(f7"">
                            <field name=""OP"">LT</field>
                            <value name=""A"">
                              <block type=""math_number"" id=""bpFtap{}vO#FHW6]kZ0a"">
                                <field name=""NUM"">5</field>
                              </block>
                            </value>
                            <value name=""B"">
                              <block type=""math_number"" id=""`za`W0OSG0-g}aI[J+G)"">
                                <field name=""NUM"">6</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertvalue"" id=""wG{-t*zr`NoSJE;atB`*"" inline=""false"">
                            <field name=""EXPECTED"">FALSE</field>
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""82p]4-pNP`!r~Jgz[:rR"">
                                <field name=""TEXT"">Smaller no</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""logic_compare"" id=""AT*$Hv+0T),#.N2yWnju"">
                                <field name=""OP"">LT</field>
                                <value name=""A"">
                                  <block type=""math_number"" id=""`7fY/+[b?uav,lKqO8$i"">
                                    <field name=""NUM"">7</field>
                                  </block>
                                </value>
                                <value name=""B"">
                                  <block type=""math_number"" id=""SERY_CIUjHUeAZ@+_+`S"">
                                    <field name=""NUM"">7</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type=""unittest_assertvalue"" id=""$lXkea7s!3UyF~L.jH5n"" inline=""false"">
                                <field name=""EXPECTED"">TRUE</field>
                                <value name=""MESSAGE"">
                                  <block type=""text"" id=""wS?5J.k4}UFvP%Q!7qG0"">
                                    <field name=""TEXT"">Greater yes</field>
                                  </block>
                                </value>
                                <value name=""ACTUAL"">
                                  <block type=""logic_compare"" id=""R`H2OON5XMEP;E[U^^1k"">
                                    <field name=""OP"">GT</field>
                                    <value name=""A"">
                                      <block type=""math_number"" id=""rPBFv=23/w]ND?Ch;*w!"">
                                        <field name=""NUM"">9</field>
                                      </block>
                                    </value>
                                    <value name=""B"">
                                      <block type=""math_number"" id=""#c2wSGS5%;}A.cF`/-lT"">
                                        <field name=""NUM"">8</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type=""unittest_assertvalue"" id=""?Q1{i@J2qi^o/+FXQjAC"" inline=""false"">
                                    <field name=""EXPECTED"">FALSE</field>
                                    <value name=""MESSAGE"">
                                      <block type=""text"" id=""w~PT22rPg6~6$3auS)CQ"">
                                        <field name=""TEXT"">Greater no</field>
                                      </block>
                                    </value>
                                    <value name=""ACTUAL"">
                                      <block type=""logic_compare"" id=""D_7%y[{x,*.6D1bNB+,j"">
                                        <field name=""OP"">GT</field>
                                        <value name=""A"">
                                          <block type=""math_number"" id=""[,0@,)#niSh+[=E5Z,1o"">
                                            <field name=""NUM"">10</field>
                                          </block>
                                        </value>
                                        <value name=""B"">
                                          <block type=""math_number"" id=""xc0@QF$4e*xQ$BE!c8vr"">
                                            <field name=""NUM"">10</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""unittest_assertvalue"" id="",@(C4]Aco=A48YV$Q.7I"" inline=""false"">
                                        <field name=""EXPECTED"">TRUE</field>
                                        <value name=""MESSAGE"">
                                          <block type=""text"" id=""u#Bmbd?lbY~?yKZv*Dn("">
                                            <field name=""TEXT"">Smaller-equal yes</field>
                                          </block>
                                        </value>
                                        <value name=""ACTUAL"">
                                          <block type=""logic_compare"" id=""iTm#O=W4L%?r:T-11;=8"">
                                            <field name=""OP"">LTE</field>
                                            <value name=""A"">
                                              <block type=""math_number"" id=""Gcc`KUDy`G/%:;$zN6@!"">
                                                <field name=""NUM"">11</field>
                                              </block>
                                            </value>
                                            <value name=""B"">
                                              <block type=""math_number"" id=""4^eq1p09=eYPTUkgjUIl"">
                                                <field name=""NUM"">11</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""unittest_assertvalue"" id=""_h_rV]e*m7~-p_usYKS$"" inline=""false"">
                                            <field name=""EXPECTED"">FALSE</field>
                                            <value name=""MESSAGE"">
                                              <block type=""text"" id=""iZRKUy*L|?3+48LU6OMq"">
                                                <field name=""TEXT"">Smaller-equal no</field>
                                              </block>
                                            </value>
                                            <value name=""ACTUAL"">
                                              <block type=""logic_compare"" id=""w4Z,%bga6X]_}gbFGKar"">
                                                <field name=""OP"">LTE</field>
                                                <value name=""A"">
                                                  <block type=""math_number"" id=""GD!fj=SfyrbZ81[vn?vP"">
                                                    <field name=""NUM"">13</field>
                                                  </block>
                                                </value>
                                                <value name=""B"">
                                                  <block type=""math_number"" id=""osc~+cCe#9ve:V~:SsY/"">
                                                    <field name=""NUM"">12</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <next>
                                              <block type=""unittest_assertvalue"" id=""n;]ORIs%LTR~3+%=n$50"" inline=""false"">
                                                <field name=""EXPECTED"">TRUE</field>
                                                <value name=""MESSAGE"">
                                                  <block type=""text"" id=""$f(%~jzfrpRca6+Xx+C9"">
                                                    <field name=""TEXT"">Greater-equal yes</field>
                                                  </block>
                                                </value>
                                                <value name=""ACTUAL"">
                                                  <block type=""logic_compare"" id=""#rMR,_}/p8k%ji=-0A,U"">
                                                    <field name=""OP"">GTE</field>
                                                    <value name=""A"">
                                                      <block type=""math_number"" id=""Y)UB^JlAgNHwd@i0EXwM"">
                                                        <field name=""NUM"">14</field>
                                                      </block>
                                                    </value>
                                                    <value name=""B"">
                                                      <block type=""math_number"" id=""|1P)ow@WJhBv(9ufED7)"">
                                                        <field name=""NUM"">14</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""unittest_assertvalue"" id=""7|17qKj5I_aXEPpj)/!X"" inline=""false"">
                                                    <field name=""EXPECTED"">FALSE</field>
                                                    <value name=""MESSAGE"">
                                                      <block type=""text"" id=""-UH5+==HjdW.iZdBoQiK"">
                                                        <field name=""TEXT"">Greater-equal no</field>
                                                      </block>
                                                    </value>
                                                    <value name=""ACTUAL"">
                                                      <block type=""logic_compare"" id=""%C%d)EG@OSc9[}bi_43f"">
                                                        <field name=""OP"">GTE</field>
                                                        <value name=""A"">
                                                          <block type=""math_number"" id=""}kA.oKs2#w{:+2a*a-7+"">
                                                            <field name=""NUM"">15</field>
                                                          </block>
                                                        </value>
                                                        <value name=""B"">
                                                          <block type=""math_number"" id=""/Sm`LV,~j.f7UXYb(yr;"">
                                                            <field name=""NUM"">16</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""}B!W*o?zkXJW^3g=2#xI"" x=""1038"" y=""-12"">
    <field name=""NAME"">test ifelse</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""variables_set"" id=""wKi?Jot[?Mq/+HmZyYa2"">
        <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
        <value name=""VALUE"">
          <block type=""logic_boolean"" id=""+Gh|/M_+$KpO{1G}2_=q"">
            <field name=""BOOL"">FALSE</field>
          </block>
        </value>
        <next>
          <block type=""controls_ifelse"" id=""y38%*3V(qkkAk2D!MUj6"">
            <value name=""IF0"">
              <block type=""logic_boolean"" id=""bFM:xosO`Zn-@zBiYkZm"">
                <field name=""BOOL"">TRUE</field>
              </block>
            </value>
            <statement name=""DO0"">
              <block type=""variables_set"" id=""m%9G3Y~;97Cy)VLR;%A-"">
                <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                <value name=""VALUE"">
                  <block type=""logic_boolean"" id=""d_!uy+GYf!{[YyBWJPeT"">
                    <field name=""BOOL"">TRUE</field>
                  </block>
                </value>
              </block>
            </statement>
            <statement name=""ELSE"">
              <block type=""unittest_fail"" id=""Nt)r`nxb?`vNL1XQ;7~J"">
                <field name=""MESSAGE"">ifelse true</field>
              </block>
            </statement>
            <next>
              <block type=""unittest_assertvalue"" id=""A]sh:j_u4(nCBWC.rR~t"">
                <field name=""EXPECTED"">TRUE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""aog2X+euLO}Y$b9X1!MB"">
                    <field name=""TEXT"">ifelse true</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""variables_get"" id=""(#L9-N~#w6=hrj:X-w1["">
                    <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                  </block>
                </value>
                <next>
                  <block type=""variables_set"" id=""]kZVBk5mc/TA-Ahz(S;5"">
                    <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                    <value name=""VALUE"">
                      <block type=""logic_boolean"" id=""f.x%[wzUdt|%RcD~6~,i"">
                        <field name=""BOOL"">FALSE</field>
                      </block>
                    </value>
                    <next>
                      <block type=""controls_ifelse"" id=""{;yO/^hy:MEiT]pK4-6w"">
                        <value name=""IF0"">
                          <block type=""logic_boolean"" id=""bDF]+QYF)@B/`[iiFQZ7"">
                            <field name=""BOOL"">FALSE</field>
                          </block>
                        </value>
                        <statement name=""DO0"">
                          <block type=""unittest_fail"" id=""?1$bIz(yj8VRxbort/5r"">
                            <field name=""MESSAGE"">ifelse false</field>
                          </block>
                        </statement>
                        <statement name=""ELSE"">
                          <block type=""variables_set"" id=""`^Xfpxt4OQcbX{J/F~;2"">
                            <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                            <value name=""VALUE"">
                              <block type=""logic_boolean"" id=""6dR$d}Ms//juNM*B]AF5"">
                                <field name=""BOOL"">TRUE</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""unittest_assertvalue"" id=""~HlVNNFXL;OIpNeS[$Vv"">
                            <field name=""EXPECTED"">TRUE</field>
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""ot}=]7zNG%Qv{b*]W69d"">
                                <field name=""TEXT"">ifelse false</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""variables_get"" id=""@;*$L$,4=,oo[CA@*a[|"">
                                <field name=""VAR"" id=""h%@U$tzZD)xwJi:!v{=z"">ok</field>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""E=(_90SSaAtZE5^:~@pX"" x=""1438"" y=""-12"">
    <field name=""NAME"">test and</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertvalue"" id=""u=QqW1wS[jiLxZcy^_!M"" inline=""false"">
        <field name=""EXPECTED"">TRUE</field>
        <value name=""MESSAGE"">
          <block type=""text"" id=""jv+5Xs;9V,Omr]:c$R^b"">
            <field name=""TEXT"">And true/true</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""logic_operation"" id=""A~!uun;d?;b}w#S[6T9t"">
            <field name=""OP"">AND</field>
            <value name=""A"">
              <block type=""logic_boolean"" id=""6G*wMbQ.C?|;$g(9~I;e"">
                <field name=""BOOL"">TRUE</field>
              </block>
            </value>
            <value name=""B"">
              <block type=""logic_boolean"" id="")3PIkf_:P|3X?ob#,Y9k"">
                <field name=""BOOL"">TRUE</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id=""2Yja*Be~i3E81$s^5=jn"" inline=""false"">
            <field name=""EXPECTED"">FALSE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""o/hcl/]m:*#HE06M]6Ja"">
                <field name=""TEXT"">And false/true</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_operation"" id=""wRZsg/?7hIczl~Sutwbc"">
                <field name=""OP"">AND</field>
                <value name=""A"">
                  <block type=""logic_boolean"" id=""RSb|N53Kg2ttBxa_|.fw"">
                    <field name=""BOOL"">FALSE</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""logic_boolean"" id=""uZ,]Z`;.f/$ok%Afy[0J"">
                    <field name=""BOOL"">TRUE</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type=""unittest_assertvalue"" id=""9PR68-tV`N?kI}txQ|Tw"" inline=""false"">
                <field name=""EXPECTED"">FALSE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""yGQf:*!i7S~`_Fa)mcR6"">
                    <field name=""TEXT"">And true/false</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""logic_operation"" id=""^un.{U}NQIosxf^gTH7@"">
                    <field name=""OP"">AND</field>
                    <value name=""A"">
                      <block type=""logic_boolean"" id=""{2(!?ZfVWKBhOvKe1Wp;"">
                        <field name=""BOOL"">TRUE</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""logic_boolean"" id=""W{-/Hq:w6x?EsT%T)/sL"">
                        <field name=""BOOL"">FALSE</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertvalue"" id=""X,3[4^,s|FR-(N-sXp-4"" inline=""false"">
                    <field name=""EXPECTED"">FALSE</field>
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""(6mivb;LFMAJq$:Q5e|r"">
                        <field name=""TEXT"">And false/false</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""logic_operation"" id=""sBqAzTcyx^c?!a[#afBV"">
                        <field name=""OP"">AND</field>
                        <value name=""A"">
                          <block type=""logic_boolean"" id=""E2vHLHxpe5wLf*6:ek6|"">
                            <field name=""BOOL"">FALSE</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""logic_boolean"" id=""]Jt,Spr(l3U;n8237*(*"">
                            <field name=""BOOL"">FALSE</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""Oh$}EhCiU^-*D!HGxSa}"" x=""1438"" y=""313"">
    <field name=""NAME"">test ternary</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""hag6]r{*O8eAX8gZIN$-"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""XTzQWL}Bx.M?BU?OU)nV"">
            <field name=""TEXT"">if true</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""logic_ternary"" id=""T711^SvX}MKPSSwCIwH]"" inline=""true"">
            <value name=""IF"">
              <block type=""logic_boolean"" id=""+bUoNz0]`131kdCVM${_"">
                <field name=""BOOL"">TRUE</field>
              </block>
            </value>
            <value name=""THEN"">
              <block type=""math_number"" id=""9liTCF+oSHo-(TS4X3@?"">
                <field name=""NUM"">42</field>
              </block>
            </value>
            <value name=""ELSE"">
              <block type=""math_number"" id="".)c@G3n$.}qB~m#vtR`E"">
                <field name=""NUM"">99</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""Ym|Mr:q@*C8;^b5yEhSP"">
            <field name=""NUM"">42</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""kLe33s5AOZm$Dw6F(qK$"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""p$@!1.KQR=FoP@AV?/uL"">
                <field name=""TEXT"">if true</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_ternary"" id=""4,Rka#}apdR0/jvg}li$"" inline=""true"">
                <value name=""IF"">
                  <block type=""logic_boolean"" id=""p@?hoQ7C%xzCw7L^0hF*"">
                    <field name=""BOOL"">FALSE</field>
                  </block>
                </value>
                <value name=""THEN"">
                  <block type=""math_number"" id=""Uu@KwA^%ntd.]UXF0AhJ"">
                    <field name=""NUM"">42</field>
                  </block>
                </value>
                <value name=""ELSE"">
                  <block type=""math_number"" id=""wZH)HG|ToDd0@#3w*IS1"">
                    <field name=""NUM"">99</field>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""[1%Oe!V7W2^f;RNo=I=Y"">
                <field name=""NUM"">99</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""cS5=`n-WYBHd!k%ziIcB"" x=""1038"" y=""438"">
    <field name=""NAME"">test or</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertvalue"" id=""OLx?YH6)YoTxG}0,*9EQ"" inline=""false"">
        <field name=""EXPECTED"">TRUE</field>
        <value name=""MESSAGE"">
          <block type=""text"" id=""[vcPV.txX|bjJrZ?mx3?"">
            <field name=""TEXT"">Or true/true</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""logic_operation"" id=""`20Eh]^Q+bnaxspLiz}z"">
            <field name=""OP"">OR</field>
            <value name=""A"">
              <block type=""logic_boolean"" id=""bM6x$Q`CynkXa3P|RX%["">
                <field name=""BOOL"">TRUE</field>
              </block>
            </value>
            <value name=""B"">
              <block type=""logic_boolean"" id=""U{k%dB9~b@vY86X{3c7u"">
                <field name=""BOOL"">TRUE</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id=""aBHGhG*%o{mJ#8EUgR)R"" inline=""false"">
            <field name=""EXPECTED"">TRUE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""HM?M8Y2aOGiAK.p4k@jk"">
                <field name=""TEXT"">Or false/true</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_operation"" id=""[a30-EtE$7[7I@?ti._}"">
                <field name=""OP"">OR</field>
                <value name=""A"">
                  <block type=""logic_boolean"" id=""S[yc8p7{~=/AeuU)kjt%"">
                    <field name=""BOOL"">FALSE</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""logic_boolean"" id=""L:FO!C3$B[=`umR?OWD7"">
                    <field name=""BOOL"">TRUE</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type=""unittest_assertvalue"" id=""=?px(QTj#|.G]%RaU[U1"" inline=""false"">
                <field name=""EXPECTED"">TRUE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""B)U6/h)UReq6-}^d!)#h"">
                    <field name=""TEXT"">Or true/false</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""logic_operation"" id=""cwZ-j=}WFRyva~/LutH)"">
                    <field name=""OP"">OR</field>
                    <value name=""A"">
                      <block type=""logic_boolean"" id=""G],R(s|AsiG~i@/zpGHI"">
                        <field name=""BOOL"">TRUE</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""logic_boolean"" id=""y!43r%aDGI9lmF(*El-s"">
                        <field name=""BOOL"">FALSE</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertvalue"" id=""+A/_[SuH#Mj,/O!/dNQ~"" inline=""false"">
                    <field name=""EXPECTED"">FALSE</field>
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""GbS$H?690|)]Add!TK|5"">
                        <field name=""TEXT"">Or false/false</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""logic_operation"" id=""yfe5IR_H6VhR+$NC+NsN"">
                        <field name=""OP"">OR</field>
                        <value name=""A"">
                          <block type=""logic_boolean"" id=""atFD)TkO$6k#w_/UA-~F"">
                            <field name=""BOOL"">FALSE</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""logic_boolean"" id=""TYSymgzqFm:LOc,B*)F%"">
                            <field name=""BOOL"">FALSE</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
</xml>",1,2021-01-28 08:55:52
11,11,unittest-math,1,2,"import math
from numbers import Number
import random

unittestResults = None
varToChange = None
rand = None

def unittest_report():
  # Create test report.
  report = []
  summary = []
  fails = 0
  for (success, log, message) in unittestResults:
    if success:
      summary.append(""."")
    else:
      summary.append(""F"")
      fails += 1
      report.append("""")
      report.append(""FAIL: "" + message)
      report.append(log)
  report.insert(0, """".join(summary))
  report.append("""")
  report.append(""Number of tests run: %d"" % len(unittestResults))
  report.append("""")
  if fails:
    report.append(""FAILED (failures=%d)"" % fails)
  else:
    report.append(""OK"")
  return ""\n"".join(report)

def assertEquals(actual, expected, message):
  # Asserts that a value equals another value.
  if unittestResults == None:
    raise Exception(""Orphaned assert equals: "" + message)
  if actual == expected:
    unittestResults.append((True, ""OK"", message))
  else:
    unittestResults.append((False, ""Expected: %s\nActual: %s"" % (expected, actual), message))

# Tests the ""arithmetic"" block for all operations and checks
# parenthesis are properly generated for different orders.
def test_arithmetic():
  global varToChange, rand, unittestResults
  assertEquals(1 + 2, 4, 'add')
  assertEquals(1 - 2, -1, 'subtract')
  assertEquals(1 - (0 + 2), -1, 'subtract order with add')
  assertEquals(1 - (0 - 2), 3, 'subtract order with subtract')
  assertEquals(4 * 2.5, 10, 'multiply')
  assertEquals(4 * (0 + 2.5), 10, 'multiply order')
  assertEquals(8.2 / -5, -1.64, 'divide')
  assertEquals(8.2 / (0 + -5), -1.64, 'divide order')
  assertEquals(10 ** 4, 10000, 'power')
  assertEquals(10 ** (0 + 4), 10000, 'power order')

# Tests the ""single"" block.
def test_single():
  global varToChange, rand, unittestResults
  assertEquals(math.sqrt(25), 5, 'sqrt')
  assertEquals(math.fabs(-25), 25, 'abs')
  assertEquals(-(-25), 25, 'negate')
  assertEquals(math.log(1), 0, 'ln')
  assertEquals(math.log10(100), 2, 'log10')
  assertEquals(math.exp(2), 7.38905609893065, 'exp')
  assertEquals(math.pow(10,2), 100, 'power10')

# Tests the ""constant"" blocks.
def test_constant():
  global varToChange, rand, unittestResults
  assertEquals(math.floor(math.pi * 1000), 3141, 'const pi')
  assertEquals(math.floor(math.e * 1000), 2718, 'const e')
  assertEquals(math.floor(((1 + math.sqrt(5)) / 2) * 1000), 1618, 'const golden')
  assertEquals(math.floor(math.sqrt(2) * 1000), 1414, 'const sqrt 2')
  assertEquals(math.floor(math.sqrt(1.0 / 2) * 1000), 707, 'const sqrt 0.5')
  assertEquals(9999 < float('inf'), True, 'const infinity')

def math_isPrime(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True

# Tests the ""number property"" blocks.
def test_number_properties():
  global varToChange, rand, unittestResults
  assertEquals(42 % 2 == 0, True, 'even')
  assertEquals(42.1 % 2 == 1, False, 'odd')
  assertEquals(math_isPrime(5), True, 'prime 5')
  assertEquals(math_isPrime(25), False, 'prime 25')
  assertEquals(math_isPrime(-31.1), False, 'prime negative')
  assertEquals(math.pi % 1 == 0, False, 'whole')
  assertEquals(float('inf') > 0, True, 'positive')
  assertEquals(-42 < 0, True, 'negative')
  assertEquals(42 % 2 == 0, True, 'divisible')

def math_mean(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)

def math_median(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]

def math_modes(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid ""unhashable"" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes

def math_standard_deviation(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)

def first_index(my_list, elem):
  try: index = my_list.index(elem) + 1
  except: index = 0
  return index

# Tests the ""list operation"" blocks.
def test_operations_on_list():
  global varToChange, rand, unittestResults
  assertEquals(sum([3, 4, 5]), 12, 'sum')
  assertEquals(min([3, 4, 5]), 3, 'min')
  assertEquals(max([3, 4, 5]), 5, 'max')
  assertEquals(math_mean([3, 4, 5]), 4, 'average')
  assertEquals(math_median([3, 4, 5, 1]), 3.5, 'median')
  assertEquals(math_modes([3, 4, 3]), [3], 'modes')
  assertEquals(math_modes([3, 4, 3, 1, 4]), [3, 4], 'modes multiple')
  assertEquals(math_standard_deviation([3, 3, 3]), 0, 'standard dev')
  assertEquals(first_index([3, 4, 5], random.choice([3, 4, 5])) > 0, True, 'random')

# Tests the ""change"" block.
def test_change():
  global varToChange, rand, unittestResults
  varToChange = 100
  varToChange = (varToChange if isinstance(varToChange, Number) else 0) + 42
  assertEquals(varToChange, 142, 'change')

# Tests the ""trig"" block.
def test_trig():
  global varToChange, rand, unittestResults
  assertEquals(math.sin(90 / 180.0 * math.pi), 1, 'sin')
  assertEquals(math.cos(180 / 180.0 * math.pi), -1, 'cos')
  assertEquals(math.tan(0 / 180.0 * math.pi), 0, 'tan')
  assertEquals(math.asin(-1) / math.pi * 180, -90, 'asin')
  assertEquals(math.acos(1) / math.pi * 180, 0, 'acos')
  assertEquals(math.atan(1) / math.pi * 180, 45, 'atan')

# Tests the ""constrain"" block.
def test_constraint():
  global varToChange, rand, unittestResults
  assertEquals(min(max(100, 0), 42), 42, 'constraint')

# Tests the ""round"" block.
def test_round():
  global varToChange, rand, unittestResults
  assertEquals(round(42.42), 42, 'round')
  assertEquals(math.ceil(-42.42), -42, 'round up')
  assertEquals(math.floor(42.42), 42, 'round down')

# Tests the ""mod"" block.
def test_mod():
  global varToChange, rand, unittestResults
  assertEquals(42 % 5, 2, 'mod')

# Tests the ""random fraction"" block.
def test_random_fraction():
  global varToChange, rand, unittestResults
  rand = random.random()
  assertEquals(rand >= 0 and rand <= 1, True, 'randFloat')

# Tests the ""random integer"" block.
def test_random_integer():
  global varToChange, rand, unittestResults
  rand = random.randint(5, 10)
  assertEquals(rand >= 5 and rand <= 10, True, 'randRange')
  assertEquals(rand % 1 == 0, True, 'randInteger')

# Describe this function...
def test_atan2():
  global varToChange, rand, unittestResults
  assertEquals(math.atan2(5, -5) / math.pi * 180, 135, 'atan2')
  assertEquals(math.atan2(-12, 0) / math.pi * 180, -90, 'atan2')


unittestResults = []
print('\n========================================\nRunning suite: Math\n========================================\n')
test_arithmetic()
test_single()
test_trig()
test_constant()
test_change()
test_number_properties()
test_round()
test_operations_on_list()
test_constraint()
test_mod()
test_random_integer()
test_random_fraction()
test_atan2()
print(unittest_report())
unittestResults = None
","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable id=""Y6%LZU;o/F|=OxuU,UJ9"">varToChange</variable>
    <variable id=""+4b|,M6i]=#hCj]=|YD2"">rand</variable>
  </variables>
  <block type=""unittest_main"" id=""!L+,?sS;PjGjX8VT:6`2"" x=""-63"" y=""13"">
    <field name=""SUITE_NAME"">Math</field>
    <statement name=""DO"">
      <block type=""procedures_callnoreturn"" id=""Xb$v9j:Qu+Rrtu(hmO8e"">
        <mutation name=""test arithmetic""></mutation>
        <next>
          <block type=""procedures_callnoreturn"" id=""{P;ls%FzZQ90~{*_W4E!"">
            <mutation name=""test single""></mutation>
            <next>
              <block type=""procedures_callnoreturn"" id=""2U8oBZDW.nIh/6ZZ3[_:"">
                <mutation name=""test trig""></mutation>
                <next>
                  <block type=""procedures_callnoreturn"" id=""m@clUU-@REqo^Vn#npEX"">
                    <mutation name=""test constant""></mutation>
                    <next>
                      <block type=""procedures_callnoreturn"" id=""O6O}#RrM9)^t3Q,`lwn{"">
                        <mutation name=""test change""></mutation>
                        <next>
                          <block type=""procedures_callnoreturn"" id=""z,,-i,)JH3)dmxfjMp3}"">
                            <mutation name=""test number properties""></mutation>
                            <next>
                              <block type=""procedures_callnoreturn"" id=""UkK?HoX{32cQoRL@L8A4"">
                                <mutation name=""test round""></mutation>
                                <next>
                                  <block type=""procedures_callnoreturn"" id=""wKkO3fDro^sH4Fqq,L/x"">
                                    <mutation name=""test operations on list""></mutation>
                                    <next>
                                      <block type=""procedures_callnoreturn"" id=""!v+@09Z5B]3*b7XitH#e"">
                                        <mutation name=""test constraint""></mutation>
                                        <next>
                                          <block type=""procedures_callnoreturn"" id=""4Jgc;6_wFKo95pmtJ8lU"">
                                            <mutation name=""test mod""></mutation>
                                            <next>
                                              <block type=""procedures_callnoreturn"" id=""I^k%s$t`*;94XXTV+NVK"">
                                                <mutation name=""test random integer""></mutation>
                                                <next>
                                                  <block type=""procedures_callnoreturn"" id=""tiA-_c%M,o(m/W9Pk^m~"">
                                                    <mutation name=""test random fraction""></mutation>
                                                    <next>
                                                      <block type=""procedures_callnoreturn"" id=""?`Dy32YhFG$utU.|G|4P"">
                                                        <mutation name=""test atan2""></mutation>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""t_Iz33Y_ZP+k-#[~=LJu"" x=""237"" y=""12"">
    <field name=""NAME"">test arithmetic</field>
    <comment pinned=""false"" h=""80"" w=""272"">Tests the ""arithmetic"" block for all operations and checks parenthesis are properly generated for different orders.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""ucSAxbb`Mr-2mPj4|KV`"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""]9nU/P#[}^H=nG#N#HWF"">
            <field name=""TEXT"">add</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_arithmetic"" id=""5Ejdn2|q;8u)v[HTg~j@"">
            <field name=""OP"">ADD</field>
            <value name=""A"">
              <block type=""math_number"" id=""NV8GGZVpfEp)nQD3*^U:"">
                <field name=""NUM"">1</field>
              </block>
            </value>
            <value name=""B"">
              <block type=""math_number"" id=""3,A0Z}!nLTr7!s%=kZ$}"">
                <field name=""NUM"">2</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""n]iWiwtxW]THvp_yfo6-"">
            <field name=""NUM"">4</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""QiH/C(T.N6:$v?N$9d6`"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""CU8O7`!6sMyT?~g5ILkr"">
                <field name=""TEXT"">subtract</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_arithmetic"" id="".D;I`AQ8!LW$Rk#?^`K)"">
                <field name=""OP"">MINUS</field>
                <value name=""A"">
                  <block type=""math_number"" id=""~An=XX73KsAY=V7/M+j6"">
                    <field name=""NUM"">1</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""math_number"" id=""H0ME^;P8zbof5K`xu~tZ"">
                    <field name=""NUM"">2</field>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""sx:j|uVUNF2B)-6_A!U;"">
                <field name=""NUM"">-1</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""dZ;/LC,=Ts?-BSwFU][!"" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""R*,~tT;^v(Y7J:|sc(A?"">
                    <field name=""TEXT"">subtract order with add</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_arithmetic"" id=""U+(hMPhIn~?HI{M`T#%9"">
                    <field name=""OP"">MINUS</field>
                    <value name=""A"">
                      <block type=""math_number"" id=""}h$!t}Px+R}565fo!wu5"">
                        <field name=""NUM"">1</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_arithmetic"" id=""VlF:=Rv[jT]J@3/h;6o4"">
                        <field name=""OP"">ADD</field>
                        <value name=""A"">
                          <block type=""math_number"" id=""r2zP5U2!7YqPV6Gvm-9i"">
                            <field name=""NUM"">0</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""math_number"" id=""!OrpnyK*/T26bg{?=.WH"">
                            <field name=""NUM"">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""Ji9eN#RYY=[qEv)}yk?$"">
                    <field name=""NUM"">-1</field>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertequals"" id=""MXh5k{]0hMigi!(lx6),"" inline=""false"">
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""(;LGW(H1iL#jwpEwW8))"">
                        <field name=""TEXT"">subtract order with subtract</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""math_arithmetic"" id=""jRmMZss/#dtSbAcgc[sc"">
                        <field name=""OP"">MINUS</field>
                        <value name=""A"">
                          <block type=""math_number"" id=""nnbL5lN7NRM4]qf~16)O"">
                            <field name=""NUM"">1</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""math_arithmetic"" id=""eeTAfz-cvCcB0p)y~:4)"">
                            <field name=""OP"">MINUS</field>
                            <value name=""A"">
                              <block type=""math_number"" id=""(DpT$`;Q31y=dF|q*Ve]"">
                                <field name=""NUM"">0</field>
                              </block>
                            </value>
                            <value name=""B"">
                              <block type=""math_number"" id=""PN=YS,P2JHBkSJ1$82R8"">
                                <field name=""NUM"">2</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name=""EXPECTED"">
                      <block type=""math_number"" id=""dAc5^FY=Bq!_K|EV^L~:"">
                        <field name=""NUM"">3</field>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertequals"" id=""_6*o`D3f2l.heRb*4[PH"" inline=""false"">
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""kbY.zM^HyAeW;d9Z%-)5"">
                            <field name=""TEXT"">multiply</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""math_arithmetic"" id=""/bXi|;_6FB?Oaw$T;.]e"">
                            <field name=""OP"">MULTIPLY</field>
                            <value name=""A"">
                              <block type=""math_number"" id=""Sgs0GM%c3VX{t-J-OOid"">
                                <field name=""NUM"">4</field>
                              </block>
                            </value>
                            <value name=""B"">
                              <block type=""math_number"" id=""gIk0[E[^5+SC$vk=L#ol"">
                                <field name=""NUM"">2.5</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name=""EXPECTED"">
                          <block type=""math_number"" id=""^*5.]Na0k`VItI3adm^9"">
                            <field name=""NUM"">10</field>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertequals"" id=""9C|0vxGU;0^.(`,)?t%p"" inline=""false"">
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""kwh^Eaq[7Zi(Kb+Q8j4z"">
                                <field name=""TEXT"">multiply order</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""math_arithmetic"" id=""UIRKg^kkojAp,ZVFxTY6"">
                                <field name=""OP"">MULTIPLY</field>
                                <value name=""A"">
                                  <block type=""math_number"" id=""f5BVz@D_m@_%5fCCkR1{"">
                                    <field name=""NUM"">4</field>
                                  </block>
                                </value>
                                <value name=""B"">
                                  <block type=""math_arithmetic"" id=""]~b]6buW:wTf93x$)~G-"">
                                    <field name=""OP"">ADD</field>
                                    <value name=""A"">
                                      <block type=""math_number"" id=""eo?0O;{F*9xY:@FH_yQl"">
                                        <field name=""NUM"">0</field>
                                      </block>
                                    </value>
                                    <value name=""B"">
                                      <block type=""math_number"" id=""rq*N@XE]*fibHH!VZ}2J"">
                                        <field name=""NUM"">2.5</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name=""EXPECTED"">
                              <block type=""math_number"" id=""?CDjECKkB%kW_Adu*1v{"">
                                <field name=""NUM"">10</field>
                              </block>
                            </value>
                            <next>
                              <block type=""unittest_assertequals"" id=""JMTcT$u7HazYkD@JBg]."" inline=""false"">
                                <value name=""MESSAGE"">
                                  <block type=""text"" id=""m|YBnr:K`MUQYJABFsxp"">
                                    <field name=""TEXT"">divide</field>
                                  </block>
                                </value>
                                <value name=""ACTUAL"">
                                  <block type=""math_arithmetic"" id=""_KoP$b8]N;u6[Bh(D5Oy"">
                                    <field name=""OP"">DIVIDE</field>
                                    <value name=""A"">
                                      <block type=""math_number"" id=""GrTuK+QGd@18Q3IoYj+d"">
                                        <field name=""NUM"">8.2</field>
                                      </block>
                                    </value>
                                    <value name=""B"">
                                      <block type=""math_number"" id=""k5t4cZfI`y486vamm/?v"">
                                        <field name=""NUM"">-5</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name=""EXPECTED"">
                                  <block type=""math_number"" id=""Z02pqw|~SUL8e1x#zkR^"">
                                    <field name=""NUM"">-1.64</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""unittest_assertequals"" id=""D_7V1v$Yx_h*7TjSA,OZ"" inline=""false"">
                                    <value name=""MESSAGE"">
                                      <block type=""text"" id=""r%)/?9L,X5IZoSt*]nz:"">
                                        <field name=""TEXT"">divide order</field>
                                      </block>
                                    </value>
                                    <value name=""ACTUAL"">
                                      <block type=""math_arithmetic"" id=""K;Ri9/p0XWA#7i+Eo:b-"">
                                        <field name=""OP"">DIVIDE</field>
                                        <value name=""A"">
                                          <block type=""math_number"" id=""3SP3oN.qgF![ThEhLg)U"">
                                            <field name=""NUM"">8.2</field>
                                          </block>
                                        </value>
                                        <value name=""B"">
                                          <block type=""math_arithmetic"" id=""ve=;jMF/2lS_Ax%TBT#i"">
                                            <field name=""OP"">ADD</field>
                                            <value name=""A"">
                                              <block type=""math_number"" id=""7A`[0{U`(lAJ.E|ZhUei"">
                                                <field name=""NUM"">0</field>
                                              </block>
                                            </value>
                                            <value name=""B"">
                                              <block type=""math_number"" id=""=s*t{G~8}6OjgwTu*,nM"">
                                                <field name=""NUM"">-5</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name=""EXPECTED"">
                                      <block type=""math_number"" id="",;hzmo)q8NjV0PtMeV/X"">
                                        <field name=""NUM"">-1.64</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""unittest_assertequals"" id="":-+hKn`1288@#%]~V~)w"" inline=""false"">
                                        <value name=""MESSAGE"">
                                          <block type=""text"" id=""|~$Vbu?1(SkKc,rSi2_M"">
                                            <field name=""TEXT"">power</field>
                                          </block>
                                        </value>
                                        <value name=""ACTUAL"">
                                          <block type=""math_arithmetic"" id=""Olj?2X;/H)NV.M(3#y!="">
                                            <field name=""OP"">POWER</field>
                                            <value name=""A"">
                                              <block type=""math_number"" id=""U]y!#IT),k.gWA[]cLP0"">
                                                <field name=""NUM"">10</field>
                                              </block>
                                            </value>
                                            <value name=""B"">
                                              <block type=""math_number"" id="".sd=-oaj)T|luPv4qaD("">
                                                <field name=""NUM"">4</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name=""EXPECTED"">
                                          <block type=""math_number"" id=""I{Hk[ITPXn;hkx6lfe|2"">
                                            <field name=""NUM"">10000</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""unittest_assertequals"" id=""]Wt7h`A7|m`o(JIENNBj"" inline=""false"">
                                            <value name=""MESSAGE"">
                                              <block type=""text"" id=""pX2^nqXKw1oM3qL8Zc*h"">
                                                <field name=""TEXT"">power order</field>
                                              </block>
                                            </value>
                                            <value name=""ACTUAL"">
                                              <block type=""math_arithmetic"" id=""m6hOkg1R)Ly-}4%{pnJ{"">
                                                <field name=""OP"">POWER</field>
                                                <value name=""A"">
                                                  <block type=""math_number"" id=""N_)SC:Za[M-:[SDoJ!HE"">
                                                    <field name=""NUM"">10</field>
                                                  </block>
                                                </value>
                                                <value name=""B"">
                                                  <block type=""math_arithmetic"" id=""N9-(!^]90olyO-D{i1?9"">
                                                    <field name=""OP"">ADD</field>
                                                    <value name=""A"">
                                                      <block type=""math_number"" id=""NS6Cpl1zg-L+1P[AQQgs"">
                                                        <field name=""NUM"">0</field>
                                                      </block>
                                                    </value>
                                                    <value name=""B"">
                                                      <block type=""math_number"" id=""tb}P!MILgZ;9U+n*40?4"">
                                                        <field name=""NUM"">4</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name=""EXPECTED"">
                                              <block type=""math_number"" id=""1,xQ(G+7eK8;I+JZ?(AZ"">
                                                <field name=""NUM"">10000</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""`#kYp?Fbt}4,T=Yo;rrA"" x=""712"" y=""12"">
    <field name=""NAME"">test single</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""single"" block.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""t@-t~{[UbAA#_=i/Orn-"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""{W=VhRl2%|(ZcjUhTE1d"">
            <field name=""TEXT"">sqrt</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_single"" id=""20gbRsM^%C@pgOKbWh=`"" inline=""false"">
            <field name=""OP"">ROOT</field>
            <value name=""NUM"">
              <block type=""math_number"" id=""YGlTiX`G@qW?odUoM.)X"">
                <field name=""NUM"">25</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""Q.H!c1aqNE4OkPcw!]?N"">
            <field name=""NUM"">5</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id="";k}(`m+7j*Gpw#THW?hw"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""ZO-+m9}U^F:lA`A[3(f0"">
                <field name=""TEXT"">abs</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_single"" id=""C%+ea^KuuKG$za$7;-;z"" inline=""false"">
                <field name=""OP"">ABS</field>
                <value name=""NUM"">
                  <block type=""math_number"" id=""=i%(`|pS{G*_;mg=Gr7F"">
                    <field name=""NUM"">-25</field>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""z|DGH)6gIrH|4}2-s(c0"">
                <field name=""NUM"">25</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""3I9^Y,.8lXmqX~fQ2b/3"" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""OG*@@WQ~I${CBe8z!c+?"">
                    <field name=""TEXT"">negate</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_single"" id=""rx?/4+ZcUSpVP+A#4if+"" inline=""false"">
                    <field name=""OP"">NEG</field>
                    <value name=""NUM"">
                      <block type=""math_number"" id=""Z*b[~{a64l=?3./A;/QB"">
                        <field name=""NUM"">-25</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""lD.Mj032xVYk]f`ZDI%$"">
                    <field name=""NUM"">25</field>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertequals"" id=""cYTO9]ZAhAp?sJDTjd)J"" inline=""false"">
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""I=9ACzdAh_I*jxs^we31"">
                        <field name=""TEXT"">ln</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""math_single"" id=""%6-Z0t(U-R!=Nf#;MwGw"" inline=""false"">
                        <field name=""OP"">LN</field>
                        <value name=""NUM"">
                          <block type=""math_number"" id=""pt9JYTicO#c.G#[XEO05"">
                            <field name=""NUM"">1</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name=""EXPECTED"">
                      <block type=""math_number"" id=""U?_,_?]MOUN.dG)r$P*e"">
                        <field name=""NUM"">0</field>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertequals"" id=""WJLVE|5!VglF?LE-wUxi"" inline=""false"">
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""p-k:|@3Yu}j{I]StxN,@"">
                            <field name=""TEXT"">log10</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""math_single"" id=""K(#1tGy`)Y]Jh?SeR:nX"" inline=""false"">
                            <field name=""OP"">LOG10</field>
                            <value name=""NUM"">
                              <block type=""math_number"" id=""888hw;`.V3;w*?XZp;?!"">
                                <field name=""NUM"">100</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name=""EXPECTED"">
                          <block type=""math_number"" id=""AP;Q%[FZ,q}dt/]Zx#5@"">
                            <field name=""NUM"">2</field>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertequals"" id=""GvH:v[fx%BOrvZ7aUSxU"" inline=""false"">
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""liM!-!MKS0AVc?9vEqL3"">
                                <field name=""TEXT"">exp</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""math_single"" id=""E}KnXhL0,0,K^?c)Doa|"" inline=""false"">
                                <field name=""OP"">EXP</field>
                                <value name=""NUM"">
                                  <block type=""math_number"" id=""F*ZwQxwjb,X7/F*:cb?x"">
                                    <field name=""NUM"">2</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name=""EXPECTED"">
                              <block type=""math_number"" id=""V|8H[5W4v#-g(.2H^hy."">
                                <field name=""NUM"">7.38905609893065</field>
                              </block>
                            </value>
                            <next>
                              <block type=""unittest_assertequals"" id=""n*t!W(=~]fD8!rm(_U{$"" inline=""false"">
                                <value name=""MESSAGE"">
                                  <block type=""text"" id=""$VM-}{zNonrO{)6A-rS3"">
                                    <field name=""TEXT"">power10</field>
                                  </block>
                                </value>
                                <value name=""ACTUAL"">
                                  <block type=""math_single"" id=""~2fmjMjpnG.4%bw2lPK`"" inline=""false"">
                                    <field name=""OP"">POW10</field>
                                    <value name=""NUM"">
                                      <block type=""math_number"" id=""oZEK:SF4~MaR,jH$k+Xt"">
                                        <field name=""NUM"">2</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name=""EXPECTED"">
                                  <block type=""math_number"" id=""sGXs3Sq=X*kF$IT.+)^M"">
                                    <field name=""NUM"">100</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""6hd(=cr2o,rmkZ~=!mR|"" x=""1062"" y=""12"">
    <field name=""NAME"">test constant</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""constant"" blocks.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""HBP2U+NlTPYGJM886/sw"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""Lz@P^APB16IcdN.F~cs1"">
            <field name=""TEXT"">const pi</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_round"" id=""b%KJGZbKoe#}BZZF~PMU"" inline=""false"">
            <field name=""OP"">ROUNDDOWN</field>
            <value name=""NUM"">
              <block type=""math_arithmetic"" id="")hiP51:*1lxIItDF.vS]"">
                <field name=""OP"">MULTIPLY</field>
                <value name=""A"">
                  <block type=""math_constant"" id=""~(e,I6yoG`U$l7Vy0wr$"">
                    <field name=""CONSTANT"">PI</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""math_number"" id=""ZyD7KJY5FJoLZ{-:Qivt"">
                    <field name=""NUM"">1000</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""%]}xq4~UGFZ[i(@53G=k"">
            <field name=""NUM"">3141</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""P}_+nm!hya/~ALDzhl0e"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""+Hxq#bGNOP!9UaRp6?(|"">
                <field name=""TEXT"">const e</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_round"" id=""X5GQsMu9H7${{7$W=h9R"" inline=""false"">
                <field name=""OP"">ROUNDDOWN</field>
                <value name=""NUM"">
                  <block type=""math_arithmetic"" id=""deyp(PSQR7j_nlelXSvc"">
                    <field name=""OP"">MULTIPLY</field>
                    <value name=""A"">
                      <block type=""math_constant"" id=""Bi$xB!Kf1-L?7xfgOAmE"">
                        <field name=""CONSTANT"">E</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_number"" id=""Gl+@5+Cq6XcIJt*0:48e"">
                        <field name=""NUM"">1000</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""m/VL~Q:0(~e}TPRX*LG1"">
                <field name=""NUM"">2718</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""s6*JRhtQFwXH~_,zD,ZX"" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""HopCKi0l%/=rW~mRebA8"">
                    <field name=""TEXT"">const golden</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_round"" id=""5XgP*:)E[G*.r~7fDI#k"" inline=""false"">
                    <field name=""OP"">ROUNDDOWN</field>
                    <value name=""NUM"">
                      <block type=""math_arithmetic"" id=""0s.ma}5}I[xdawkV7*S3"">
                        <field name=""OP"">MULTIPLY</field>
                        <value name=""A"">
                          <block type=""math_constant"" id="":4g97Hr)Mk!LgByh+x1["">
                            <field name=""CONSTANT"">GOLDEN_RATIO</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""math_number"" id=""gdy,f;08|l(03^xN{dwK"">
                            <field name=""NUM"">1000</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""TL;5e.;5]?mjCpC_|IyZ"">
                    <field name=""NUM"">1618</field>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertequals"" id=""mEKsriJg~Mv$^$nlkb.U"" inline=""false"">
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""]6|4`.GH~@9C59KNAYuQ"">
                        <field name=""TEXT"">const sqrt 2</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""math_round"" id=""2^p2XIPPr.Echc4^n~pF"" inline=""false"">
                        <field name=""OP"">ROUNDDOWN</field>
                        <value name=""NUM"">
                          <block type=""math_arithmetic"" id=""T!1An8sO,VwRi3A:arUK"">
                            <field name=""OP"">MULTIPLY</field>
                            <value name=""A"">
                              <block type=""math_constant"" id="",43x8.kdqsrC^W=@uTRm"">
                                <field name=""CONSTANT"">SQRT2</field>
                              </block>
                            </value>
                            <value name=""B"">
                              <block type=""math_number"" id=""Hu)M6JZ)^)=H;4)|G{zB"">
                                <field name=""NUM"">1000</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name=""EXPECTED"">
                      <block type=""math_number"" id="".(iwP1SMT[ou4!SVnv}o"">
                        <field name=""NUM"">1414</field>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertequals"" id=""[oSGH`uP*~,|mmzV=).p"" inline=""false"">
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""=9Eux*v=v.G:_k/K8Nv9"">
                            <field name=""TEXT"">const sqrt 0.5</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""math_round"" id=""S1i|B5f3;D#7eTM-;p[k"" inline=""false"">
                            <field name=""OP"">ROUNDDOWN</field>
                            <value name=""NUM"">
                              <block type=""math_arithmetic"" id=""ln*ygEtixA-M/H3im0as"">
                                <field name=""OP"">MULTIPLY</field>
                                <value name=""A"">
                                  <block type=""math_constant"" id=""Ggg_Y{uDdN+W?S}{ubX6"">
                                    <field name=""CONSTANT"">SQRT1_2</field>
                                  </block>
                                </value>
                                <value name=""B"">
                                  <block type=""math_number"" id=""!QfYf?_NjIo4/JIG6Lb6"">
                                    <field name=""NUM"">1000</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name=""EXPECTED"">
                          <block type=""math_number"" id=""#k*gXI49$eWrN!1I6(47"">
                            <field name=""NUM"">707</field>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertvalue"" id=""F@}x_ka=tW!W`P-a]zY["" inline=""false"">
                            <field name=""EXPECTED"">TRUE</field>
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""o4DO$UZeXeR,@XL,n#Zo"">
                                <field name=""TEXT"">const infinity</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""logic_compare"" id=""qul%X)oaI*tt#8]AsET`"">
                                <field name=""OP"">LT</field>
                                <value name=""A"">
                                  <block type=""math_number"" id=""N7Pl:=ccn7Y$|ySjC6%D"">
                                    <field name=""NUM"">9999</field>
                                  </block>
                                </value>
                                <value name=""B"">
                                  <block type=""math_constant"" id=""3suazURLDy6Y#muTL68K"">
                                    <field name=""CONSTANT"">INFINITY</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""flt@c4R@oa9m}L83QH1/"" x=""1588"" y=""13"">
    <field name=""NAME"">test number properties</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""number property"" blocks.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertvalue"" id=""91tfB{xrCSe8xO%6B|.W"" inline=""false"">
        <field name=""EXPECTED"">TRUE</field>
        <value name=""MESSAGE"">
          <block type=""text"" id=""}d!WzD(E-m_/Q.y~I6V8"">
            <field name=""TEXT"">even</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_number_property"" id=""SK^t_Twu]wd8:/rq(mK_"">
            <mutation divisor_input=""false""></mutation>
            <field name=""PROPERTY"">EVEN</field>
            <value name=""NUMBER_TO_CHECK"">
              <block type=""math_number"" id=""%Q0w]@D0=dH2s$|S929)"">
                <field name=""NUM"">42</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id=""v~7{(PYW,~-YwrfbY4{k"" inline=""false"">
            <field name=""EXPECTED"">FALSE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""P-VcXg)k0X+_:I({J#kO"">
                <field name=""TEXT"">odd</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_number_property"" id=""liz4m(@jmD:e}Q.#v9{0"">
                <mutation divisor_input=""false""></mutation>
                <field name=""PROPERTY"">ODD</field>
                <value name=""NUMBER_TO_CHECK"">
                  <block type=""math_number"" id=""}s|TO1.bi6NiPsr-u];f"">
                    <field name=""NUM"">42.1</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type=""unittest_assertvalue"" id="":jD%lJnlX6d6nx3:1ckO"" inline=""false"">
                <field name=""EXPECTED"">TRUE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""+4%g;ozYEV$McgB7Mu0n"">
                    <field name=""TEXT"">prime 5</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_number_property"" id=""5fB@N=NJjzc(~2+gQ@!$"">
                    <mutation divisor_input=""false""></mutation>
                    <field name=""PROPERTY"">PRIME</field>
                    <value name=""NUMBER_TO_CHECK"">
                      <block type=""math_number"" id=""4n#qJz]QkmAyFU[p5BX`"">
                        <field name=""NUM"">5</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertvalue"" id=""vHwf;rg,C7?QV;jiY+5j"" inline=""false"">
                    <field name=""EXPECTED"">FALSE</field>
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""[gDa,8Q3]NZlup^dD@6."">
                        <field name=""TEXT"">prime 25</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""math_number_property"" id=""$/hbiD-H`{,aevLeP!uo"">
                        <mutation divisor_input=""false""></mutation>
                        <field name=""PROPERTY"">PRIME</field>
                        <value name=""NUMBER_TO_CHECK"">
                          <block type=""math_number"" id=""(_*E*}y+K1~*Pk?F|/2."">
                            <field name=""NUM"">25</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertvalue"" id="",TG45l4B(s6.T#W?(Cr,"" inline=""false"">
                        <field name=""EXPECTED"">FALSE</field>
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""B3bjmH9sRo;wJnd$DkIR"">
                            <field name=""TEXT"">prime negative</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""math_number_property"" id=""#*,6?IMx!Rn!X+4T:jAK"">
                            <mutation divisor_input=""false""></mutation>
                            <field name=""PROPERTY"">PRIME</field>
                            <value name=""NUMBER_TO_CHECK"">
                              <block type=""math_number"" id=""$rjwYTWc*w%Z.UVa23aN"">
                                <field name=""NUM"">-31.1</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertvalue"" id=""|]dn2{`)=q{?ZhT2N3Uk"" inline=""false"">
                            <field name=""EXPECTED"">FALSE</field>
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""5dU`?Z]EE+s]t0F6#e7v"">
                                <field name=""TEXT"">whole</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""math_number_property"" id=""NNqK[Lb24g8+BLPnpPFd"">
                                <mutation divisor_input=""false""></mutation>
                                <field name=""PROPERTY"">WHOLE</field>
                                <value name=""NUMBER_TO_CHECK"">
                                  <block type=""math_constant"" id=""rZh_|;,RG-A0E*o5fkaO"">
                                    <field name=""CONSTANT"">PI</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type=""unittest_assertvalue"" id=""JIr@s?6,X!;rSTIy.m]x"" inline=""false"">
                                <field name=""EXPECTED"">TRUE</field>
                                <value name=""MESSAGE"">
                                  <block type=""text"" id=""hx#Tk@RJ(-O]M%SE]Y=/"">
                                    <field name=""TEXT"">positive</field>
                                  </block>
                                </value>
                                <value name=""ACTUAL"">
                                  <block type=""math_number_property"" id=""z.LDmV4T`[GR|{{QmOkv"">
                                    <mutation divisor_input=""false""></mutation>
                                    <field name=""PROPERTY"">POSITIVE</field>
                                    <value name=""NUMBER_TO_CHECK"">
                                      <block type=""math_constant"" id=""+,%|OE]UH`4No~qaF=E3"">
                                        <field name=""CONSTANT"">INFINITY</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type=""unittest_assertvalue"" id=""kA5eTwa5}?12j6*)+L]a"" inline=""false"">
                                    <field name=""EXPECTED"">TRUE</field>
                                    <value name=""MESSAGE"">
                                      <block type=""text"" id=""YfCe.])9+9c_KWS~VfnR"">
                                        <field name=""TEXT"">negative</field>
                                      </block>
                                    </value>
                                    <value name=""ACTUAL"">
                                      <block type=""math_number_property"" id=""b{MJmT`T`CJMF%NL%]H]"">
                                        <mutation divisor_input=""false""></mutation>
                                        <field name=""PROPERTY"">NEGATIVE</field>
                                        <value name=""NUMBER_TO_CHECK"">
                                          <block type=""math_number"" id=""dA{YvNsjU+cgwHTLQTHG"">
                                            <field name=""NUM"">-42</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""unittest_assertvalue"" id=""asQy~FdT%jRA:.pFL;D~"" inline=""false"">
                                        <field name=""EXPECTED"">TRUE</field>
                                        <value name=""MESSAGE"">
                                          <block type=""text"" id=""cxvVb=;X|RNTnNiyVd%0"">
                                            <field name=""TEXT"">divisible</field>
                                          </block>
                                        </value>
                                        <value name=""ACTUAL"">
                                          <block type=""math_number_property"" id=""+=^CJ`*Q|Qdn,:)!Fd0K"">
                                            <mutation divisor_input=""true""></mutation>
                                            <field name=""PROPERTY"">DIVISIBLE_BY</field>
                                            <value name=""NUMBER_TO_CHECK"">
                                              <block type=""math_number"" id=""K1YUQ-S$rL_$qfelqCcZ"">
                                                <field name=""NUM"">42</field>
                                              </block>
                                            </value>
                                            <value name=""DIVISOR"">
                                              <block type=""math_number"" id=""nO63CzxFUf5F#E0!:uVY"">
                                                <field name=""NUM"">2</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""6T?AObwpbIe8#7[`.$N7"" x=""2212"" y=""13"">
    <field name=""NAME"">test operations on list</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""list operation"" blocks.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id="",[jY;g(]Trmm.dgsw)-V"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""6E%1}Z7+^)O8QN95A@D("">
            <field name=""TEXT"">sum</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_on_list"" id=""9(CGzl(1Wm`X!+oPZ6pt"" inline=""false"">
            <mutation op=""SUM""></mutation>
            <field name=""OP"">SUM</field>
            <value name=""LIST"">
              <block type=""lists_create_with"" id=""rNm@.Q?)aIuqcG5k.Kg0"" inline=""true"">
                <mutation items=""3""></mutation>
                <value name=""ADD0"">
                  <block type=""math_number"" id=""m(liQqQw9J;+pRM61x1w"">
                    <field name=""NUM"">3</field>
                  </block>
                </value>
                <value name=""ADD1"">
                  <block type=""math_number"" id=""sr7}/7w8M4}KN*ukMc7~"">
                    <field name=""NUM"">4</field>
                  </block>
                </value>
                <value name=""ADD2"">
                  <block type=""math_number"" id="",Zu%K4!^P%2NAFYmQ[ic"">
                    <field name=""NUM"">5</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id="":9b..vMD1L!#;tYE$,1T"">
            <field name=""NUM"">12</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""L!g-@bN59D9WCvnz!$)$"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""fCzkIB[QiWhGHSax_F,r"">
                <field name=""TEXT"">min</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_on_list"" id=""rq:{,}S)QgrOPG/?q~Ay"" inline=""false"">
                <mutation op=""MIN""></mutation>
                <field name=""OP"">MIN</field>
                <value name=""LIST"">
                  <block type=""lists_create_with"" id=""S5Z8?zVUWKbJ|`m)]mBA"" inline=""true"">
                    <mutation items=""3""></mutation>
                    <value name=""ADD0"">
                      <block type=""math_number"" id=""5{q:.h|C)IFX%LN!]ip`"">
                        <field name=""NUM"">3</field>
                      </block>
                    </value>
                    <value name=""ADD1"">
                      <block type=""math_number"" id=""+0ynP4,jy*.|BSa=zjte"">
                        <field name=""NUM"">4</field>
                      </block>
                    </value>
                    <value name=""ADD2"">
                      <block type=""math_number"" id=""/VhC(+wVZKOx}ahLUg}C"">
                        <field name=""NUM"">5</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""@r,@yTB[hPB!YP5Nkzr?"">
                <field name=""NUM"">3</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""oy*cm}-G$hlm@}xFA4iU"" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""+_v@Y2_fcP87~qD_+woB"">
                    <field name=""TEXT"">max</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_on_list"" id="".+FjkI-i_swhe0AaRE}~"" inline=""false"">
                    <mutation op=""MAX""></mutation>
                    <field name=""OP"">MAX</field>
                    <value name=""LIST"">
                      <block type=""lists_create_with"" id="",hn}1AZ053%6VAZ6JvhO"" inline=""true"">
                        <mutation items=""3""></mutation>
                        <value name=""ADD0"">
                          <block type=""math_number"" id=""h[eM6:u|*cTE-]qJOKDm"">
                            <field name=""NUM"">3</field>
                          </block>
                        </value>
                        <value name=""ADD1"">
                          <block type=""math_number"" id=""?%Kh};7`JpR|X*Qid%3?"">
                            <field name=""NUM"">4</field>
                          </block>
                        </value>
                        <value name=""ADD2"">
                          <block type=""math_number"" id=""du?CO23n2q|!Xu0`b7c="">
                            <field name=""NUM"">5</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""ibuL3b,+[U6!YZ?=)!A9"">
                    <field name=""NUM"">5</field>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertequals"" id=""wS_6|aj-5dOrt3!Gb$i_"" inline=""false"">
                    <value name=""MESSAGE"">
                      <block type=""text"" id=""*~]fm#kqL2[o?[hjnWXb"">
                        <field name=""TEXT"">average</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""math_on_list"" id=""9,pV(j2clnl+3eK*:I+U"" inline=""false"">
                        <mutation op=""AVERAGE""></mutation>
                        <field name=""OP"">AVERAGE</field>
                        <value name=""LIST"">
                          <block type=""lists_create_with"" id=""pXH)od%,Hm!Nv(OHey?T"" inline=""true"">
                            <mutation items=""3""></mutation>
                            <value name=""ADD0"">
                              <block type=""math_number"" id=""41P1PeU1H]%lD8*uV^I0"">
                                <field name=""NUM"">3</field>
                              </block>
                            </value>
                            <value name=""ADD1"">
                              <block type=""math_number"" id=""X0~|)YG6w-,CAB/!Xpeh"">
                                <field name=""NUM"">4</field>
                              </block>
                            </value>
                            <value name=""ADD2"">
                              <block type=""math_number"" id=""CtB*6!JX^?[jb2:TlkZy"">
                                <field name=""NUM"">5</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name=""EXPECTED"">
                      <block type=""math_number"" id=""X}sNe0PtyHl+RyZCn7*}"">
                        <field name=""NUM"">4</field>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertequals"" id=""TYqZOes.^/79AB);GmA?"" inline=""false"">
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""OGBo-aQT8qDMb8ZLTD@S"">
                            <field name=""TEXT"">median</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""math_on_list"" id=""F:bJR#n)zni]nxmAPrcI"" inline=""false"">
                            <mutation op=""MEDIAN""></mutation>
                            <field name=""OP"">MEDIAN</field>
                            <value name=""LIST"">
                              <block type=""lists_create_with"" id=""@?_U6*VO6L-`wq*)t*@t"" inline=""true"">
                                <mutation items=""4""></mutation>
                                <value name=""ADD0"">
                                  <block type=""math_number"" id=""uHy111O$D%tpE*?Xb_wg"">
                                    <field name=""NUM"">3</field>
                                  </block>
                                </value>
                                <value name=""ADD1"">
                                  <block type=""math_number"" id="";WgvRphpL}3;)3Cf@GGG"">
                                    <field name=""NUM"">4</field>
                                  </block>
                                </value>
                                <value name=""ADD2"">
                                  <block type=""math_number"" id=""j9)b{vE|+{/-FfBOaF33"">
                                    <field name=""NUM"">5</field>
                                  </block>
                                </value>
                                <value name=""ADD3"">
                                  <block type=""math_number"" id=""DhF0WK/FU6Gt3t{SR3w?"">
                                    <field name=""NUM"">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name=""EXPECTED"">
                          <block type=""math_number"" id=""A;iJITBojL2]Gwb|S5tJ"">
                            <field name=""NUM"">3.5</field>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertequals"" id=""ncUR3~tV8cOxpTn`idaJ"">
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""?lv_ozvQG3?wq*W*JPp8"">
                                <field name=""TEXT"">modes</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""math_on_list"" id=""+.BPCih))RW:;VrI4b?G"" inline=""false"">
                                <mutation op=""MODE""></mutation>
                                <field name=""OP"">MODE</field>
                                <value name=""LIST"">
                                  <block type=""lists_create_with"" id=""KD[dNZEP.g*[Fw([NSo{"" inline=""true"">
                                    <mutation items=""3""></mutation>
                                    <value name=""ADD0"">
                                      <block type=""math_number"" id=""*oDa|FhGBKt%4S(xaCM~"">
                                        <field name=""NUM"">3</field>
                                      </block>
                                    </value>
                                    <value name=""ADD1"">
                                      <block type=""math_number"" id=""{:^(~_CB(2Jj(uQcz?Pv"">
                                        <field name=""NUM"">4</field>
                                      </block>
                                    </value>
                                    <value name=""ADD2"">
                                      <block type=""math_number"" id=""SA2,ZB4,,oXp.ZXWko:)"">
                                        <field name=""NUM"">3</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name=""EXPECTED"">
                              <block type=""lists_create_with"" id=""|8ixbj;yU,]/}D7qXDpg"" inline=""true"">
                                <mutation items=""1""></mutation>
                                <value name=""ADD0"">
                                  <block type=""math_number"" id=""ygN?ZMOE84I+l5op08Me"">
                                    <field name=""NUM"">3</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type=""unittest_assertequals"" id=""-$`Vchp#hH^7+_I{B-Fw"">
                                <value name=""MESSAGE"">
                                  <block type=""text"" id=""G$_g::lYpso|w^f)]3@Q"">
                                    <field name=""TEXT"">modes multiple</field>
                                  </block>
                                </value>
                                <value name=""ACTUAL"">
                                  <block type=""math_on_list"" id=""/tc:i9Joy4Lk6nwp3=?`"" inline=""false"">
                                    <mutation op=""MODE""></mutation>
                                    <field name=""OP"">MODE</field>
                                    <value name=""LIST"">
                                      <block type=""lists_create_with"" id=""cFCf!na6Oe5%|FYL@$!;"" inline=""true"">
                                        <mutation items=""5""></mutation>
                                        <value name=""ADD0"">
                                          <block type=""math_number"" id=""O0lB}ifYD6[|gdKr*k4i"">
                                            <field name=""NUM"">3</field>
                                          </block>
                                        </value>
                                        <value name=""ADD1"">
                                          <block type=""math_number"" id=""-!O;96c%*Zc~m_`C6a]H"">
                                            <field name=""NUM"">4</field>
                                          </block>
                                        </value>
                                        <value name=""ADD2"">
                                          <block type=""math_number"" id=""Tq^SfebPCg_n7:c=f*mY"">
                                            <field name=""NUM"">3</field>
                                          </block>
                                        </value>
                                        <value name=""ADD3"">
                                          <block type=""math_number"" id=""*p%aa5ojV~n::=/1wxTX"">
                                            <field name=""NUM"">1</field>
                                          </block>
                                        </value>
                                        <value name=""ADD4"">
                                          <block type=""math_number"" id="".$]]ufF:ls(y|]=-C`?r"">
                                            <field name=""NUM"">4</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name=""EXPECTED"">
                                  <block type=""lists_create_with"" id=""ehI85Df|/ki[y_m*2p2p"" inline=""true"">
                                    <mutation items=""2""></mutation>
                                    <value name=""ADD0"">
                                      <block type=""math_number"" id=""@gPI-QxfbkAT`;VC-{c#"">
                                        <field name=""NUM"">3</field>
                                      </block>
                                    </value>
                                    <value name=""ADD1"">
                                      <block type=""math_number"" id=""pd%{$;N;Ubj4E=]G(pk("">
                                        <field name=""NUM"">4</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type=""unittest_assertequals"" id=""HaJ$@n+j8w*Xg1DMG,Wd"" inline=""false"">
                                    <value name=""MESSAGE"">
                                      <block type=""text"" id=""j.mmQ0%4E}bA0SEcr@EM"">
                                        <field name=""TEXT"">standard dev</field>
                                      </block>
                                    </value>
                                    <value name=""ACTUAL"">
                                      <block type=""math_on_list"" id=""_:BZ9atjTIV/c9]^TLyI"" inline=""false"">
                                        <mutation op=""STD_DEV""></mutation>
                                        <field name=""OP"">STD_DEV</field>
                                        <value name=""LIST"">
                                          <block type=""lists_create_with"" id=""J#|{/*ky:Fec[ySLUOpS"" inline=""true"">
                                            <mutation items=""3""></mutation>
                                            <value name=""ADD0"">
                                              <block type=""math_number"" id=""A?|5[=Z_@1?!JmGT|#_?"">
                                                <field name=""NUM"">3</field>
                                              </block>
                                            </value>
                                            <value name=""ADD1"">
                                              <block type=""math_number"" id=""AOHIWFF@0=5X^{:P(sd/"">
                                                <field name=""NUM"">3</field>
                                              </block>
                                            </value>
                                            <value name=""ADD2"">
                                              <block type=""math_number"" id=""g-*UapkrD@5[x(/6Oc9W"">
                                                <field name=""NUM"">3</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name=""EXPECTED"">
                                      <block type=""math_number"" id=""Ljvk%*`S3R3E.4i`v~7k"">
                                        <field name=""NUM"">0</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""unittest_assertvalue"" id=""BI86Xv2[.=7x}|XDKPxN"" inline=""false"">
                                        <field name=""EXPECTED"">TRUE</field>
                                        <value name=""MESSAGE"">
                                          <block type=""text"" id=""L(0/gfLt5|j9nA~`I]6C"">
                                            <field name=""TEXT"">random</field>
                                          </block>
                                        </value>
                                        <value name=""ACTUAL"">
                                          <block type=""logic_compare"" id=""+x.Y])-]IjEiF?^8P-ck"" inline=""false"">
                                            <field name=""OP"">GT</field>
                                            <value name=""A"">
                                              <block type=""lists_indexOf"" id=""`K/:G2pu|Le9}wS-FC0."" inline=""false"">
                                                <field name=""END"">FIRST</field>
                                                <value name=""VALUE"">
                                                  <block type=""lists_create_with"" id=""7Jzo{@iI.0f`q.JSKyP^"" inline=""true"">
                                                    <mutation items=""3""></mutation>
                                                    <value name=""ADD0"">
                                                      <block type=""math_number"" id=""!eV1n-S6u-+4?W{wN3n+"">
                                                        <field name=""NUM"">3</field>
                                                      </block>
                                                    </value>
                                                    <value name=""ADD1"">
                                                      <block type=""math_number"" id=""{mgRZ@z_eN}SvFq!qoAz"">
                                                        <field name=""NUM"">4</field>
                                                      </block>
                                                    </value>
                                                    <value name=""ADD2"">
                                                      <block type=""math_number"" id=""J4@?P]d{EA_0slOtN%HV"">
                                                        <field name=""NUM"">5</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name=""FIND"">
                                                  <block type=""math_on_list"" id=""sFu7%oketO-8A.1!I-r|"" inline=""false"">
                                                    <mutation op=""RANDOM""></mutation>
                                                    <field name=""OP"">RANDOM</field>
                                                    <value name=""LIST"">
                                                      <block type=""lists_create_with"" id=""N3Z+Xyu]A6%Xho/gXJzj"" inline=""false"">
                                                        <mutation items=""3""></mutation>
                                                        <value name=""ADD0"">
                                                          <block type=""math_number"" id=""A.]h6IMbZ.D(j8t0*G8)"">
                                                            <field name=""NUM"">3</field>
                                                          </block>
                                                        </value>
                                                        <value name=""ADD1"">
                                                          <block type=""math_number"" id=""m8NJz3VfdYN2+7@WO:l~"">
                                                            <field name=""NUM"">4</field>
                                                          </block>
                                                        </value>
                                                        <value name=""ADD2"">
                                                          <block type=""math_number"" id=""Vm!9P76bW#%W9=Os3*eP"">
                                                            <field name=""NUM"">5</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name=""B"">
                                              <block type=""math_number"" id=""6ete??ZiUsk!=K.:-dEd"">
                                                <field name=""NUM"">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""zpoiC#6EzTpC;m)O9=[k"" x=""1063"" y=""638"">
    <field name=""NAME"">test change</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""change"" block.</comment>
    <statement name=""STACK"">
      <block type=""variables_set"" id=""9iTeY;jH4oUQNNR8II{-"" inline=""false"">
        <field name=""VAR"" id=""Y6%LZU;o/F|=OxuU,UJ9"">varToChange</field>
        <value name=""VALUE"">
          <block type=""math_number"" id=""DLEyrP8%`FoJAgU?3!gt"">
            <field name=""NUM"">100</field>
          </block>
        </value>
        <next>
          <block type=""math_change"" id=""QOz+~^It+3sG_Hyr~CT("" inline=""false"">
            <field name=""VAR"" id=""Y6%LZU;o/F|=OxuU,UJ9"">varToChange</field>
            <value name=""DELTA"">
              <block type=""math_number"" id=""N;~mMx{,,Te0*f%*b-/x"">
                <field name=""NUM"">42</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""p8_|(sfWl92NuRwl8|1:"" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""z|$qD*/.`%D6m-g#C::N"">
                    <field name=""TEXT"">change</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""variables_get"" id=""h#,r+U?g|(})9{XHcC:v"">
                    <field name=""VAR"" id=""Y6%LZU;o/F|=OxuU,UJ9"">varToChange</field>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""*};GTu6e)cxYT,`F]R|("">
                    <field name=""NUM"">142</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""JvH9l|TCEm(76bCvReAR"" x=""712"" y=""662"">
    <field name=""NAME"">test trig</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""trig"" block.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""kqzDx#]Wyl#x@:5f@a8Y"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""k+5GA)L{VWi^hg[mc^D:"">
            <field name=""TEXT"">sin</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_trig"" id=""Rc]j9koiWgC$GU-WXcff"" inline=""false"">
            <field name=""OP"">SIN</field>
            <value name=""NUM"">
              <block type=""math_number"" id=""1QtaS)@5S`FRFXM{ovk8"">
                <field name=""NUM"">90</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""16(5SttVTH/jgZIyZY+Q"">
            <field name=""NUM"">1</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""[iS672:0EQ#)S+GGe{6G"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""*9{FKQh,X?lys}Yp),gk"">
                <field name=""TEXT"">cos</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_trig"" id=""@)LwBUsOdVZxvkN)c+PU"" inline=""false"">
                <field name=""OP"">COS</field>
                <value name=""NUM"">
                  <block type=""math_number"" id=""ng{$MUr/(8%/nPCCVKTz"">
                    <field name=""NUM"">180</field>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""J%No{XN[oDN0($iSjJeK"">
                <field name=""NUM"">-1</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""aHN8=yP@5wj.9J;BEv,["" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""*[WQtq=m%IXA,ZWw6co3"">
                    <field name=""TEXT"">tan</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_trig"" id=""D8M_u(Ak.qg}jWPsQjJ`"" inline=""false"">
                    <field name=""OP"">TAN</field>
                    <value name=""NUM"">
                      <block type=""math_number"" id=""{hxrV.tH4siN%RihWl@C"">
                        <field name=""NUM"">0</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""du|dLpOJi6[!1blcOkmc"">
                    <field name=""NUM"">0</field>
                  </block>
                </value>
                <next>
                  <block type=""unittest_assertequals"" id=""(n;0]9{aNSVYsi{UsIf*"" inline=""false"">
                    <value name=""MESSAGE"">
                      <block type=""text"" id="";FD}?#P7W.FCvN/!i{fK"">
                        <field name=""TEXT"">asin</field>
                      </block>
                    </value>
                    <value name=""ACTUAL"">
                      <block type=""math_trig"" id=""cbsGx=Y]GGo_#I,^]]7Z"" inline=""false"">
                        <field name=""OP"">ASIN</field>
                        <value name=""NUM"">
                          <block type=""math_number"" id=""!Av$i8mRG*xM/iMfQDmn"">
                            <field name=""NUM"">-1</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name=""EXPECTED"">
                      <block type=""math_number"" id=""kkGqGlf!6{=,HWFjGu_L"">
                        <field name=""NUM"">-90</field>
                      </block>
                    </value>
                    <next>
                      <block type=""unittest_assertequals"" id=""IXBa{8R5syN^Tbv}-uC+"" inline=""false"">
                        <value name=""MESSAGE"">
                          <block type=""text"" id=""tuT4D3Sq)E6[We#(,(@V"">
                            <field name=""TEXT"">acos</field>
                          </block>
                        </value>
                        <value name=""ACTUAL"">
                          <block type=""math_trig"" id=""O?|I+B{g.xW)t4_37{Cm"" inline=""false"">
                            <field name=""OP"">ACOS</field>
                            <value name=""NUM"">
                              <block type=""math_number"" id=""@Z1)Szf-;lc.!O$`USR="">
                                <field name=""NUM"">1</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name=""EXPECTED"">
                          <block type=""math_number"" id=""Z)(hfm~LK}:h4|9{)p]7"">
                            <field name=""NUM"">0</field>
                          </block>
                        </value>
                        <next>
                          <block type=""unittest_assertequals"" id=""zq!v:qmV~T`N83ahfAqy"" inline=""false"">
                            <value name=""MESSAGE"">
                              <block type=""text"" id=""3qQBpsrS7I:CeLJO9vPZ"">
                                <field name=""TEXT"">atan</field>
                              </block>
                            </value>
                            <value name=""ACTUAL"">
                              <block type=""math_trig"" id=""X_?mDsWg@^h-W7TGaG8o"" inline=""false"">
                                <field name=""OP"">ATAN</field>
                                <value name=""NUM"">
                                  <block type=""math_number"" id=""R-ZUR_@ja)J.!U/)1Gs("">
                                    <field name=""NUM"">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name=""EXPECTED"">
                              <block type=""math_number"" id=""IIQgy#f3^2{_`x@)ZgeU"">
                                <field name=""NUM"">45</field>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""bQ+u@ngtVUHt1PKEf!BM"" x=""1587"" y=""687"">
    <field name=""NAME"">test constraint</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""constrain"" block.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""SmLl.rzf$A/ZU@P]C[TV"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id="")[IW?:JS/_[LvN5#LkDX"">
            <field name=""TEXT"">constraint</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_constrain"" id=""F0J;t?ldNnpabJTuUsnq"">
            <value name=""VALUE"">
              <block type=""math_number"" id="":x*(*zfZB4}PPQ(cyTfI"">
                <field name=""NUM"">100</field>
              </block>
            </value>
            <value name=""LOW"">
              <block type=""math_number"" id=""bp1.Qz_eE7sggek)gi1k"">
                <field name=""NUM"">0</field>
              </block>
            </value>
            <value name=""HIGH"">
              <block type=""math_number"" id=""I:_Z,V.*iHIs~yKc,}HK"">
                <field name=""NUM"">42</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""J}!P6|a)Q}+Xn3l+8Gc@"">
            <field name=""NUM"">42</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""r$MfrZ[M2BcM`w}LX5)8"" x=""1062"" y=""862"">
    <field name=""NAME"">test round</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""round"" block.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id="";4Z=OIXSom7]edhk4Z}f"" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""-$$F9^p}AEz?y1P-iVE]"">
            <field name=""TEXT"">round</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_round"" id=""lhn[;urvmvOz+!rSUlA1"" inline=""false"">
            <field name=""OP"">ROUND</field>
            <value name=""NUM"">
              <block type=""math_number"" id=""rB[J)XnbV)N~$ZX`dFHj"">
                <field name=""NUM"">42.42</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""K~^]jM)q@cYgf+SPsZ6."">
            <field name=""NUM"">42</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""kOq/yRTfTPf@@5xS:06O"" inline=""false"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""Y2u0fGA:2U42uv_v^`?["">
                <field name=""TEXT"">round up</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_round"" id=""h{;I^YOPDe6o8oDL!vqd"" inline=""false"">
                <field name=""OP"">ROUNDUP</field>
                <value name=""NUM"">
                  <block type=""math_number"" id=""5df`_MQ$t.G43-=a(]y1"">
                    <field name=""NUM"">-42.42</field>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""Rb-WNPm5u{M?aQrY;^tM"">
                <field name=""NUM"">-42</field>
              </block>
            </value>
            <next>
              <block type=""unittest_assertequals"" id=""/K+k]a5uEPci%JsfcGN]"" inline=""false"">
                <value name=""MESSAGE"">
                  <block type=""text"" id=""]FB]]t0o.jn-6.+U4gS$"">
                    <field name=""TEXT"">round down</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_round"" id=""(a9g^ETnSjs]8fWxh1$g"" inline=""false"">
                    <field name=""OP"">ROUNDDOWN</field>
                    <value name=""NUM"">
                      <block type=""math_number"" id=""d?)sRC^CZL5DWmU~J]G#"">
                        <field name=""NUM"">42.42</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""EXPECTED"">
                  <block type=""math_number"" id=""rH-V#*~giQuly^oN[91v"">
                    <field name=""NUM"">42</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id="";uC9VW5xh#cb]u??R7MD"" x=""1588"" y=""838"">
    <field name=""NAME"">test mod</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""mod"" block.</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""N~ubKSJf=I]JtW/+2P[="" inline=""false"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""wD.E.sEN9zteDFe)HE5Y"">
            <field name=""TEXT"">mod</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_modulo"" id=""Gjg;T??Gx6rh29cJ*1q("">
            <value name=""DIVIDEND"">
              <block type=""math_number"" id=""8HB]=/QP(uts$NY7,igk"">
                <field name=""NUM"">42</field>
              </block>
            </value>
            <value name=""DIVISOR"">
              <block type=""math_number"" id=""P_/)NW/X^WrlDsbe5(S,"">
                <field name=""NUM"">5</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""wt{GsSx62%Z{JkW3XomL"">
            <field name=""NUM"">2</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""B9:V9K|6qmUKrBVXsL4w"" x=""1588"" y=""988"">
    <field name=""NAME"">test random fraction</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""random fraction"" block.</comment>
    <statement name=""STACK"">
      <block type=""variables_set"" id=""0XTV|$/puz)#{,YL]v59"" inline=""false"">
        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
        <value name=""VALUE"">
          <block type=""math_random_float"" id=""R_@#n*Q2**]mD8D#W$*X""></block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id=""L|B4#Cz1pb}w`lih$lJN"" inline=""false"">
            <field name=""EXPECTED"">TRUE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""Hf3`tHK,$r}{72Od]*sY"">
                <field name=""TEXT"">randFloat</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_operation"" id=""|y8_?BF7}BHtO(C7xo9n"">
                <field name=""OP"">AND</field>
                <value name=""A"">
                  <block type=""logic_compare"" id=""%A={3]bw(t+~.Kno^mOe"">
                    <field name=""OP"">GTE</field>
                    <value name=""A"">
                      <block type=""variables_get"" id="":3KA~BuoYED:i]?@|d:z"">
                        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_number"" id=""(c./UraZQz6po9xV%`vB"">
                        <field name=""NUM"">0</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""logic_compare"" id=""*q]:_5_DcKnxeA,zXw#M"">
                    <field name=""OP"">LTE</field>
                    <value name=""A"">
                      <block type=""variables_get"" id=""h$98c66d7iSg%Eh[+/~T"">
                        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_number"" id=""RPT+p#%+]vd4=ng^FJL`"">
                        <field name=""NUM"">1</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""p%9-gxbr=$qoP1^Q%K[P"" x=""2212"" y=""1063"">
    <field name=""NAME"">test random integer</field>
    <comment pinned=""false"" h=""80"" w=""160"">Tests the ""random integer"" block.</comment>
    <statement name=""STACK"">
      <block type=""variables_set"" id=""*^O,Q-H9;N9mm]5{BQA7"" inline=""false"">
        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
        <value name=""VALUE"">
          <block type=""math_random_int"" id=""GO[.(4BR3^#@)f61|Q`g"">
            <value name=""FROM"">
              <block type=""math_number"" id=""/~hy|2Uj3LC,Vnez/i|q"">
                <field name=""NUM"">5</field>
              </block>
            </value>
            <value name=""TO"">
              <block type=""math_number"" id=""`f#ytWPf}`wJna)7_lma"">
                <field name=""NUM"">10</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type=""unittest_assertvalue"" id=""y)=|Mt-wN|OEFtdfjlE6"" inline=""false"">
            <field name=""EXPECTED"">TRUE</field>
            <value name=""MESSAGE"">
              <block type=""text"" id=""?6WgCxj3G}!T^Un/~4wO"">
                <field name=""TEXT"">randRange</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""logic_operation"" id=""j8Kh{**;,v2Q9S|Ka)I["">
                <field name=""OP"">AND</field>
                <value name=""A"">
                  <block type=""logic_compare"" id=""w`tq,VIl@0(N4H5rPkAF"">
                    <field name=""OP"">GTE</field>
                    <value name=""A"">
                      <block type=""variables_get"" id=""cJV{N~XGuJ{N#Xk;bp-S"">
                        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_number"" id=""O|MZML]k)4E1dM=EXIy;"">
                        <field name=""NUM"">5</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""logic_compare"" id=""UR.ddJO9L,eUt%5:]000"">
                    <field name=""OP"">LTE</field>
                    <value name=""A"">
                      <block type=""variables_get"" id=""P_)@V#$5FewLmmeeb4Uo"">
                        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
                      </block>
                    </value>
                    <value name=""B"">
                      <block type=""math_number"" id=""R$W=OAKZAk?{c(;*a2.:"">
                        <field name=""NUM"">10</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type=""unittest_assertvalue"" id=""`-S8eT9me,APODo|~P1$"" inline=""false"">
                <field name=""EXPECTED"">TRUE</field>
                <value name=""MESSAGE"">
                  <block type=""text"" id=""n4N(G1rc(*+{LvX0sX)$"">
                    <field name=""TEXT"">randInteger</field>
                  </block>
                </value>
                <value name=""ACTUAL"">
                  <block type=""math_number_property"" id=""[0Z~K[Sxv5F?}cL+LVcq"">
                    <mutation divisor_input=""false""></mutation>
                    <field name=""PROPERTY"">WHOLE</field>
                    <value name=""NUMBER_TO_CHECK"">
                      <block type=""variables_get"" id=""Jr8_r^3r}dhPLWmm;4qb"">
                        <field name=""VAR"" id=""+4b|,M6i]=#hCj]=|YD2"">rand</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""y0A8,qeqfot`,f_ci~:H"" x=""1588"" y=""1163"">
    <field name=""NAME"">test atan2</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""unittest_assertequals"" id=""hh}n|+Z2E*Fmd]SuMYVF"">
        <value name=""MESSAGE"">
          <block type=""text"" id=""?-].*uC|j],2zj;F^Ch="">
            <field name=""TEXT"">atan2</field>
          </block>
        </value>
        <value name=""ACTUAL"">
          <block type=""math_atan2"" id=""S3}]TMlI=,-fLhV-l%GK"">
            <value name=""X"">
              <block type=""math_number"" id=""~S;p5U^FanbUyMH|d0)|"">
                <field name=""NUM"">-5</field>
              </block>
            </value>
            <value name=""Y"">
              <block type=""math_number"" id=""%m[KXm_(/H$Z`o~:w7:E"">
                <field name=""NUM"">5</field>
              </block>
            </value>
          </block>
        </value>
        <value name=""EXPECTED"">
          <block type=""math_number"" id=""D$@6G,l80R(E{E;8*KVF"">
            <field name=""NUM"">135</field>
          </block>
        </value>
        <next>
          <block type=""unittest_assertequals"" id=""Zp9(Fg}Tqi?LrJIFxr}0"">
            <value name=""MESSAGE"">
              <block type=""text"" id=""jJY[~fVeP{X:5VlK8LA:"">
                <field name=""TEXT"">atan2</field>
              </block>
            </value>
            <value name=""ACTUAL"">
              <block type=""math_atan2"" id=""I?RC)VxLIK.Q[x%I_OW@"">
                <value name=""X"">
                  <block type=""math_number"" id=""}bV8{@Z*qD3,Ln6+s[[L"">
                    <field name=""NUM"">0</field>
                  </block>
                </value>
                <value name=""Y"">
                  <block type=""math_number"" id=""%3;$u;2g{9{.[uJ%SZ$;"">
                    <field name=""NUM"">-12</field>
                  </block>
                </value>
              </block>
            </value>
            <value name=""EXPECTED"">
              <block type=""math_number"" id=""8lIhWsX.q9o4N.}aiVZj"">
                <field name=""NUM"">-90</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
</xml>",1,2021-02-27 09:07:57
3,3,testing,1,2,"import re
import sys
import operator
import logging
import requests
import psycopg2
import simplejson as json
import psycopg2.extras
from psycopg2 import pool
from decimal import Decimal
from functools import reduce
from datetime import datetime

parent = None
child = None
context_id = None
string_id = None

# Describe this function...
def struct_in_struct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_struct_in_struct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""parent_ooe""
        context_hierarchy.append(""parent_ooe"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
            p.u64 AS ""u64"",
            p.i32 AS ""i32"",
            p.i64 AS ""i64"",
            p.f64 AS ""f64"",
            p.d2 AS ""d2"",
            p.d5 AS ""d5"",
            p.d6 AS ""d6"",
            p.b AS ""b"",
            p.iljson AS ""iljson"",
            p.string AS ""string"",
            p.datetime AS ""datetime""
        FROM products p
        WHERE p.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Context
          try:
            data_context+=1
            context = ""child_ooe""
            context_hierarchy.append(""child_ooe"")
            context_type[data_context] = ""struct""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
                p.u64 AS ""u64"",
                p.i32 AS ""i32"",
                p.i64 AS ""i64"",
                p.f64 AS ""f64"",
                p.d2 AS ""d2"",
                p.d5 AS ""d5"",
                p.d6 AS ""d6"",
                p.b AS ""b"",
                p.iljson AS ""iljson"",
                p.string AS ""string"",
                p.datetime AS ""datetime""
            FROM products p
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def array_in_struct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_array_in_struct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""parent_ooe""
        context_hierarchy.append(""parent_ooe"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
            p.u64 AS ""u64"",
            p.i32 AS ""i32"",
            p.i64 AS ""i64"",
            p.f64 AS ""f64"",
            p.d2 AS ""d2"",
            p.d5 AS ""d5"",
            p.d6 AS ""d6"",
            p.b AS ""b"",
            p.iljson AS ""iljson"",
            p.string AS ""string"",
            p.datetime AS ""datetime""
        FROM products p
        WHERE p.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Array Context
          try:
            data_context+=1
            context = ""child_au64""
            context_hierarchy.append(""child_au64"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT ia.ival AS ""au64""
            FROM int_array ia
                INNER JOIN products p ON ia.product_id = p.product_id
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def arrayStruct_in_struct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_arrayStruct_in_struct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""parent_ooe""
        context_hierarchy.append(""parent_ooe"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
            p.u64 AS ""u64"",
            p.i32 AS ""i32"",
            p.i64 AS ""i64"",
            p.f64 AS ""f64"",
            p.d2 AS ""d2"",
            p.d5 AS ""d5"",
            p.d6 AS ""d6"",
            p.b AS ""b"",
            p.iljson AS ""iljson"",
            p.string AS ""string"",
            p.datetime AS ""datetime""
        FROM products p
        WHERE p.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""child_categories""
            context_hierarchy.append(""child_categories"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
                c.val AS ""val""
            FROM category c
                INNER JOIN products_category pc ON c.akey = pc.akey
            WHERE pc.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def field_in_struct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_field_in_struct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""parent_ooe""
        context_hierarchy.append(""parent_ooe"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
            p.u64 AS ""u64"",
            p.i32 AS ""i32"",
            p.i64 AS ""i64"",
            p.f64 AS ""f64"",
            p.d2 AS ""d2"",
            p.d5 AS ""d5"",
            p.d6 AS ""d6"",
            p.b AS ""b"",
            p.iljson AS ""iljson"",
            p.string AS ""string"",
            p.datetime AS ""datetime""
        FROM products p
        WHERE p.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''SELECT product_id AS ""id""
          FROM products
          WHERE product_id = %s;''',(context_id,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = ('child_' + str(row['id']))
            context_hierarchy.append(""child_id"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def default():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""categories""
        context_hierarchy.append(""categories"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
            c.val AS ""val""
        FROM category c
            INNER JOIN products_category pc ON c.akey = pc.akey
        WHERE pc.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""ooe""
        context_hierarchy.append(""ooe"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
            p.u64 AS ""u64"",
            p.i32 AS ""i32"",
            p.i64 AS ""i64"",
            p.f64 AS ""f64"",
            p.d2 AS ""d2"",
            p.d5 AS ""d5"",
            p.d6 AS ""d6"",
            p.b AS ""b"",
            p.iljson AS ""iljson"",
            p.string AS ""string"",
            p.datetime AS ""datetime""
        FROM products p
        WHERE p.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Array Context
          try:
            data_context+=1
            context = ""au64""
            context_hierarchy.append(""au64"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT ia.ival AS ""au64""
            FROM int_array ia
                INNER JOIN products p ON ia.product_id = p.product_id
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT string_id AS ""string_id""
      FROM manystrings
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

        string_id = row['string_id']

        # Setting Struct Context
        try:
          data_context+=1
          context = ""manyStrings""
          context_hierarchy.append(""manyStrings"")
          context_type[data_context] = ""struct""

          # Variable for storing fetched row
          items[data_context] = []


          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''SELECT CONCAT('mstring', m.string_id) AS ""id"",
              m.astring AS ""manyStrings""
          FROM manystrings m
          WHERE m.string_id = %s
              AND m.product_id = %s;''',(string_id,context_id,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

        except (Exception, psycopg2.DatabaseError) as error:
          logger.exception(""Error in Setting Struct Context"")
          logger.exception(error)
          exit_status=1

        finally:
          context_hierarchy.pop()
          del context_type[data_context]
          data_context-=1


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def struct_in_arrayStruct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_struct_in_arrayStruct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""parent_categories""
        context_hierarchy.append(""parent_categories"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
            c.val AS ""val""
        FROM category c
            INNER JOIN products_category pc ON c.akey = pc.akey
        WHERE pc.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Context
          try:
            data_context+=1
            context = ""child_ooe""
            context_hierarchy.append(""child_ooe"")
            context_type[data_context] = ""struct""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
                p.u64 AS ""u64"",
                p.i32 AS ""i32"",
                p.i64 AS ""i64"",
                p.f64 AS ""f64"",
                p.d2 AS ""d2"",
                p.d5 AS ""d5"",
                p.d6 AS ""d6"",
                p.b AS ""b"",
                p.iljson AS ""iljson"",
                p.string AS ""string"",
                p.datetime AS ""datetime""
            FROM products p
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def array_in_arrayStruct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_array_in_arrayStruct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""parent_categories""
        context_hierarchy.append(""parent_categories"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
            c.val AS ""val""
        FROM category c
            INNER JOIN products_category pc ON c.akey = pc.akey
        WHERE pc.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Array Context
          try:
            data_context+=1
            context = ""child_au64""
            context_hierarchy.append(""child_au64"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT ia.ival AS ""au64""
            FROM int_array ia
                INNER JOIN products p ON ia.product_id = p.product_id
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def arrayStruct_in_arrayStruct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_arrayStruct_in_arrayStruct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""parent_categories""
        context_hierarchy.append(""parent_categories"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
            c.val AS ""val""
        FROM category c
            INNER JOIN products_category pc ON c.akey = pc.akey
        WHERE pc.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""child_categories""
            context_hierarchy.append(""child_categories"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT ia.ival AS ""au64""
            FROM int_array ia
                INNER JOIN products p ON ia.product_id = p.product_id
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def field_in_arrayStruct():
  global parent, child, context_id, string_id

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable_field_in_arrayStruct""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""parent_categories""
        context_hierarchy.append(""parent_categories"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
            c.val AS ""val""
        FROM category c
            INNER JOIN products_category pc ON c.akey = pc.akey
        WHERE pc.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''SELECT product_id AS ""id""
          FROM products
          WHERE product_id = %s;''',(context_id,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = ('child_' + str(row['id']))
            context_hierarchy.append(""child_id"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep3""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1



def get_argument(argNum):
  if len(sys.argv)-1 >= argNum:
    return sys.argv[argNum]
  else:
    logger.error(""Please specify argument: ""+str(argNum)+"""")

def datetimeParser(o):
  if isinstance(o, datetime):
    return o.__str__()

def getFromDict(dic, keys):
  for key in keys:
      dic = dic[key]
  return dic


def setInDict(dic, keys, value):
  for key in keys[:-1]:
    # Setting a default in dict
    dic = dic.setdefault(key, {})

    # Setting a default in list
    if type(dic) == list and keys[-1] not in dic[-1]:
        dic[-1].setdefault(keys[-1], {})

  if type(dic) == dict:
    if keys[-1] in dic:
        if type(dic[keys[-1]]) == list:
          dic[keys[-1]] = value
          return
        dic[keys[-1]].update(value)
    else:
      dic[keys[-1]] = value
  elif type(dic) == list:
      dic[-1][keys[-1]] = value


def parse_dotted_strlines(strlines):
  """"""Parse multiple dot seperated lines""""""
  res = {}
  for line in strlines.splitlines():
      parse_dotted_str(line, res)
  return res


def parse_dotted_str(s, res):
  """"""Parse a dot seperated lines such as:
  my.dictionary.value -> value
  my.dictionary.list[0].value -> value
  my.dictionary.list[1].value.list[0].value -> value
  into a nested JSON""""""
  if '.' in s:
      key, rest = s.split('.', 1)
      # Check if key represents a list
      match = re.search(r'(.*)[(d)]$', key)
      if match:
          # List
          key, index = match.groups()
          val = res.get(key, {}) or []
          assert type(
              val) == list, f'Cannot set key {key} as of type list as it was earlier marked as {type(val)}'
          while len(val) <= int(index):
              val.append({})
          val[index] = parse_dotted_str(rest, {})
          res[key] = val
      else:
          # Dict
          res[key] = parse_dotted_str(rest, res.get(key, {}))
  elif '->' in s:
      key, val = s.split('->')
      res[key.strip()] = val.strip()
  return res


def getmylogger(name):
  """"""Creating a logger for debugging and log file generation.""""""
  file_formatter = logging.Formatter(
      '%(asctime)s  %(name)s  %(levelname)s  %(funcName)s:%(lineno)d  %(message)s', datefmt='%m-%d-%Y %H:%M:%S')
  console_formatter = logging.Formatter('%(levelname)s -- %(message)s')

  file_handler = logging.FileHandler(""ilblockly.log"")
  file_handler.setLevel(logging.DEBUG)
  file_handler.setFormatter(file_formatter)

  console_handler = logging.StreamHandler()
  console_handler.setLevel(logging.DEBUG)
  console_handler.setFormatter(console_formatter)

  logger = logging.getLogger(name)
  logger.addHandler(file_handler)
  logger.addHandler(console_handler)
  logger.setLevel(logging.DEBUG)
  logger.propagate = False

  return logger


class DecimalEncoder (json.JSONEncoder):
  def default(self, obj):
      if isinstance(obj, Decimal):
          return int(obj)
      return json.JSONEncoder.default(self, obj)


# Logging
logger = getmylogger(__name__)
open('ilblockly.log', 'w').close()
exit_status=0

# Defining the api-endpoint
API_ENDPOINT = ""https://instantlabs-eks-iladmin-staging-us-west-1.instantlabs.io""

# Data to be sent to ILAdmin
obj = [{""action"": ""Admin.UI.GetDetail.Schema"", ""params"": {""schema_dfn_id"": 2}}]
obj = json.dumps(obj)

# Sending POST request and saving response as response object
r = requests.post(url = API_ENDPOINT, data = obj)

# Extracting useful data from response
schema_dict = json.loads(json.loads(r.text)[0]['data'])[0]['schema_dfn']
schema_dict = json.loads(schema_dict)

# Database Connection Parameters
minConnection = 5
maxConnection = 20
params = {""user"":""postgres"",""password"":""Golden123"",""host"":""127.0.0.1"",""port"":""3407"",""dbname"":""ilcore""}

try:
  threaded_pool = psycopg2.pool.ThreadedConnectionPool(
      minConnection, maxConnection, **params, options=""-c search_path=public,ildev"")
  logger.debug(""Threaded SQL Connection pool created successfully"")

  # Exporting logs to database
  mainconn = threaded_pool.getconn()

  # Cursor Initialize
  maincursor = mainconn.cursor(
    cursor_factory=psycopg2.extras.RealDictCursor)

  mainconn.autocommit = True

  # Create Schema if not created
  schemaName=""2_ildev_dep3""

  # Creating Schema if not exist
  maincursor.execute(
      '''CREATE SCHEMA IF NOT EXISTS ""'''+schemaName+'''"";''', ())

  # Creating queryresults Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".queryresults (
        ""id"" SERIAL NOT NULL,
        ""il_id"" SERIAL NOT NULL,
        ""il_vs"" int,
        ""tableName"" varchar(50),
        ""customerKey"" varchar(1000) PRIMARY KEY NOT NULL,
        ""returnResults"" json,
        ""last_modified"" timestamp
      );''', ())

  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET UNLOGGED;''', ())

  # Creating querylogs Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".querylogs (
        ""run_id"" SERIAL PRIMARY KEY NOT NULL,
        ""logs"" text,
        ""exit_status"" int,
        ""last_modified"" timestamp
      );''', ())

  parent = get_argument(1)
  if get_argument(1) == 'default':
    default()
  elif parent == 'struct':
    child = get_argument(2)
    if child == 'struct':
      struct_in_struct()
    elif child == 'array':
      array_in_struct()
    elif child == 'arrayStruct':
      arrayStruct_in_struct()
    elif child == 'field':
      field_in_struct()
    else:
      logger.error('Arguments not allowed')
  elif parent == 'arrayStruct':
    child = get_argument(2)
    if child == 'struct':
      struct_in_arrayStruct()
    elif child == 'array':
      array_in_arrayStruct()
    elif child == 'arrayStruct':
      arrayStruct_in_arrayStruct()
    elif child == 'field':
      field_in_arrayStruct()
    else:
      logger.error('Arguments not allowed')
  else:
    logger.error('Arguments not allowed')

except (Exception, psycopg2.DatabaseError) as error:
  logger.exception(""Threaded Connection Pool failed to initialize"")
  logger.exception(error)
  exit_status=1

finally:
  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET LOGGED;''', ())

  # Cursor Close
  maincursor.close()

  # Release the connection object and send back to connection pool
  threaded_pool.putconn(mainconn)

  # Closing database connection.
  # Use closeall method to close all the active connection if you want to turn of the application
  if (threaded_pool):
      threaded_pool.closeall
  logger.debug(""Threaded SQL connection pool is closed"")

# Exporting Logs to database
with psycopg2.connect(**params) as logconn:
    with logconn.cursor() as logcursor:

        logconn.autocommit = True

        # Create Schema if not created
        schemaName=""2_ildev_dep3""

        with open(""ilblockly.log"", 'r+') as myfile:
          log_contents = myfile.read()
          # Executing SQL query
          logcursor.execute(
              '''INSERT INTO ""'''+schemaName+'''"".querylogs (""logs"", ""exit_status"", ""last_modified"") VALUES (%s, %s, NOW());''',(log_contents, exit_status,))
","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable id=""sB#uc]%JJgYHBS]hEq=!"">parent</variable>
    <variable id=""{}#sJ0bkpDkjtbsr|hd*"">child</variable>
    <variable id=""JAAyRxcFVuo)u!mpUxB#"">context_id</variable>
    <variable id=""zgkV`y7_IiEpq72q%vU`"">string_id</variable>
  </variables>
  <block type=""initialization"" id=""G0{-y;($0I3w0qj/qe:p"" x=""-7038"" y=""-1712"">
    <statement name=""CODE"">
      <block type=""variables_set"" id=""=G6_iM+{@?3O#]|R^+@7"">
        <field name=""VAR"" id=""sB#uc]%JJgYHBS]hEq=!"">parent</field>
        <value name=""VALUE"">
          <block type=""argument_use"" id=""Hm#8bm`0qky*2n+Fk[lb"">
            <field name=""ARGUMENT"">1</field>
          </block>
        </value>
        <next>
          <block type=""controls_if"" id=""~+uQ*5@*1Q).D;:,:s55"">
            <mutation elseif=""2"" else=""1""></mutation>
            <value name=""IF0"">
              <block type=""logic_compare"" id=""sbJTi#f$u7qqNZ+fZrN."">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""argument_use"" id=""]Oe^F;Mny%9kK.1Cr:tc"">
                    <field name=""ARGUMENT"">1</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""text"" id=""~-BAp[,1bi$t+(]2Hs$F"">
                    <field name=""TEXT"">default</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name=""DO0"">
              <block type=""procedures_callnoreturn"" id=""?7NuBwjrc8ww`ZfvS@I2"">
                <mutation name=""default""></mutation>
              </block>
            </statement>
            <value name=""IF1"">
              <block type=""logic_compare"" id=""#$2HZ#bEYG0QNq%J~gI!"">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""variables_get"" id=""}.Lt@*iOx)t.iwn14!W_"">
                    <field name=""VAR"" id=""sB#uc]%JJgYHBS]hEq=!"">parent</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""text"" id=""H`^U}76.Ebo`e2kYG2:V"">
                    <field name=""TEXT"">struct</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name=""DO1"">
              <block type=""variables_set"" id=""!S]0ps|]0skNRmX!5mhd"">
                <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                <value name=""VALUE"">
                  <block type=""argument_use"" id=""h7_Swhnzx!=C,X5CMU_F"">
                    <field name=""ARGUMENT"">2</field>
                  </block>
                </value>
                <next>
                  <block type=""controls_if"" id=""*J`=*OO;x:[ivh9:aQ)r"">
                    <mutation elseif=""3"" else=""1""></mutation>
                    <value name=""IF0"">
                      <block type=""logic_compare"" id=""gJh-Ufqq6]1qVMPGWi|+"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""y(u`SF-qX5/q^IzJ[sF^"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""lwmg-T99u^9Fg=;V$.S#"">
                            <field name=""TEXT"">struct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO0"">
                      <block type=""procedures_callnoreturn"" id=""prV-}4=Eq1B0d7GE$8Iy"">
                        <mutation name=""struct_in_struct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF1"">
                      <block type=""logic_compare"" id=""4-+0oVjB.#Lo8{N{#6mA"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""h2[Q+:vQ%H@dNW5h7FV$"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""Q=Oj:{+q-CUWvJUu9[3@"">
                            <field name=""TEXT"">array</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO1"">
                      <block type=""procedures_callnoreturn"" id=""H:O%UnJi$g40RGo?*USY"">
                        <mutation name=""array_in_struct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF2"">
                      <block type=""logic_compare"" id=""XL.xe/OJtifJ0}+YS*AQ"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""m!aO0^!d!.;x7=.VPR#j"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""]RSX.UY%oZN@`Gm4Uf}e"">
                            <field name=""TEXT"">arrayStruct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO2"">
                      <block type=""procedures_callnoreturn"" id=""Gg0E,[x[*yQb^L|8J,FI"">
                        <mutation name=""arrayStruct_in_struct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF3"">
                      <block type=""logic_compare"" id=""pSjyh(8$r+qT,Xk@W+uL"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""GW+G?bR4#BMl$Jl}a;f/"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""a7~$DonWm.;xEOd#DK%?"">
                            <field name=""TEXT"">field</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO3"">
                      <block type=""procedures_callnoreturn"" id=""*6*C}xW@!(b7rnp;w!JA"">
                        <mutation name=""field_in_struct""></mutation>
                      </block>
                    </statement>
                    <statement name=""ELSE"">
                      <block type=""logs_error"" id=""enEH*6y2Pg?_m*|:a1QB"">
                        <value name=""LOG"">
                          <block type=""text"" id=""g}zxc21/-5!}NBH7Q9D`"">
                            <field name=""TEXT"">Arguments not allowed</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
            <value name=""IF2"">
              <block type=""logic_compare"" id=""XD(WIt]UX#;SkYWkCZTZ"">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""variables_get"" id=""SD~~$?JmGCK2N,cSIQ=["">
                    <field name=""VAR"" id=""sB#uc]%JJgYHBS]hEq=!"">parent</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""text"" id="":|5_w:lwDz#c*[XygCx]"">
                    <field name=""TEXT"">arrayStruct</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name=""DO2"">
              <block type=""variables_set"" id=""ono7S8)?!FnRj1p]l:Ia"">
                <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                <value name=""VALUE"">
                  <block type=""argument_use"" id=""X]#jh,]iuiU!)1nIpgWl"">
                    <field name=""ARGUMENT"">2</field>
                  </block>
                </value>
                <next>
                  <block type=""controls_if"" id=""h$L.!`/}XBFLz,,*w7@t"">
                    <mutation elseif=""3"" else=""1""></mutation>
                    <value name=""IF0"">
                      <block type=""logic_compare"" id=""X-){i2~A?.1|^Ui8p[$."">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""e-;HL0~y5*b|Hd#$^4pT"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""1hcYObsG;A5?MLO^0OS,"">
                            <field name=""TEXT"">struct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO0"">
                      <block type=""procedures_callnoreturn"" id=""+RGHLER5j!r%B7=:(HwY"">
                        <mutation name=""struct_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF1"">
                      <block type=""logic_compare"" id=""~a`J4*8.@DCaD*b[2Sia"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id="".*c?_(#hZh+6WUT8K3uD"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""^BRAKoHS`#SMozl,UA.b"">
                            <field name=""TEXT"">array</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO1"">
                      <block type=""procedures_callnoreturn"" id=""x94||Sg9TXc~`T4$f:e`"">
                        <mutation name=""array_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF2"">
                      <block type=""logic_compare"" id=""%/yt:ER(Iw8V)eTfh37M"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""SG26-Ea8DWawWzftjwSP"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""]7c`r=sTt2@SqRugPsWR"">
                            <field name=""TEXT"">arrayStruct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO2"">
                      <block type=""procedures_callnoreturn"" id=""W!tUA=NYQ6dTbxC8*F-L"">
                        <mutation name=""arrayStruct_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF3"">
                      <block type=""logic_compare"" id=""=vo`^L4?h+cAYiGRo.SK"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""p#0tL_eHIuhJssybgrNf"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""kxu6F;5$u(]8C|Te-cz8"">
                            <field name=""TEXT"">field</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO3"">
                      <block type=""procedures_callnoreturn"" id=""`PlJ7aIk#dF1a1P-HG)E"">
                        <mutation name=""field_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <statement name=""ELSE"">
                      <block type=""logs_error"" id=""jkcUm(YV$?I.B3SiDb)["">
                        <value name=""LOG"">
                          <block type=""text"" id=""x2XEOMrLUN7GhX$`l3M;"">
                            <field name=""TEXT"">Arguments not allowed</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
            <statement name=""ELSE"">
              <block type=""logs_error"" id=""-Mbx),i8mO}_JWldVg+!"">
                <value name=""LOG"">
                  <block type=""text"" id=""=ckKv6CW(0!_USSpU9rU"">
                    <field name=""TEXT"">Arguments not allowed</field>
                  </block>
                </value>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id="")*~L;X,dd4r]!nm6/JgU"" x=""-6138"" y=""-1713"">
    <field name=""NAME"">struct_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""cYu6kq|MewAf}+O)0Y/7"">
        <field name=""CONTEXT_SELECT"">myTable_struct_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""a+Zud?dty/vldhD!zK`i"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""wu/kr*@(gt)oQG.2N1X|"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""+xG+M9uOo./9yzCTyLAw"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""pE*tJ,u`CDaj3wH6PtKv"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""GNsa@Gqh-paHgsZ)c.PZ"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Ei7%~r!KA%Y)gapbkCns"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""~B$+ldnQ/6^Xm!30[_Gp""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""13bv,Q=^kphBa?c]Cc9I"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id=""oO4twTaj!e#1fc*a/LHd"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_struct_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""OX_U9[nSIEMb~!yV5S;l"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""N2eVuiqb])~/SXxn)#!P"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""x!Hx,%;t}jB71.(-ngkU"">
                                <next>
                                  <block type=""targetcontext_struct"" id=""jlIB9@Tn^%{D/l?Og`dS"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_struct  parent_ooe""></mutation>
                                    <field name=""CONTEXT_SELECT"">myTable_struct_in_struct  parent_ooe  child_ooe</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""nyJbf*/jxJy5CSr^ZJJi"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""uZbrmG)PPlS{zauWnFG7"">
                                            <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_automap"" id=""6xAd3B,0Z0Xys//JIyZ@""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""WxCiE^[^]X0aEg%?7`:Q"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""nC2TW.-^9*MoVUyP4]z("">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""jSjGqW;*P1RFcfJ#IQQ;""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""d~+)4ay2(UNKP?zpqcAQ"" x=""-5262"" y=""-1712"">
    <field name=""NAME"">array_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""(gEX.nmVn{Aajm5YqQA{"">
        <field name=""CONTEXT_SELECT"">myTable_array_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""ca,}6FxBfq-Ep-PoZ;_m"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""g-,E0gWfsLDF6bVtbvW1"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""~:Qf@qJEjP.-r@!wHzX:"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""N0cIbDj)UqM%!))yB`w|"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""F{{8+(UF;QBVUfTl9z1Y"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""QI%$5xG{/g+Fk9#,L/pF"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""uhDg)GQ.$!?9.O[4Xc^:""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""|~H-)B$1~#M+NQc1[;e]"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id="".VYZxg7XJoGBbB}ti]Zc"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_array_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""ZjY*L!Q9I!}xK]{^Ico4"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""{ut.X}xs~GN|UMJ[!XG@"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""ywv=jV,%-NPeFW[Ru/65"">
                                <next>
                                  <block type=""targetcontext_array"" id=""Os%B`nVfh5P;g!`JSKoj"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_struct  parent_ooe""></mutation>
                                    <field name=""CONTEXT_SELECT"">myTable_array_in_struct  parent_ooe  child_au64</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""ZvKcCKrR0fkh%JjCNCZ*"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""D)^sS:T6#9|aiK13w*TW"">
                                            <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""#jC_0i3lgjTI^;G@[h:C"">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""x)oKVk}@)Knh/fPSy{bO""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""Q;oac+R,^@GEqRAa8_=B"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""?vkZ9TVdo2F.BQhSvW^#"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""lJ`hcDIB4f$KP9=bu/IV""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id="")lvj[.u[r{Xprm4_[pHF"" x=""-4362"" y=""-1712"">
    <field name=""NAME"">arrayStruct_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""(E5|;=A~}/sx+:EI5R(H"">
        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""_~6{kDXF8$WmvX0,izjV"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="")_N6cbom#0@$MPFcC/eq"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""%16UC6!0rm8lzTfeX/qm"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""UBAjn@_0DnU!)x|-aSb+"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""sF))U63pe0lPi)T9@wNY"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Y+QO6LV6.Rhq=bI/#):V"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""IpgMVpD/UEuyIu,yY.tF""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""F;lZ);-r)z6R4xidO)`3"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id=""[p$KB^`6`*U7JE2],un="">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""zpii#vzlTVhlq:?~jl~4"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""p]Zjh9BihpyD3Ss:cF.2"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""L0[4YLza%4(0elx+)X4p"">
                                <next>
                                  <block type=""targetcontext_arraystruct"" id=""lh{g0^yAk_$P=!^*UqkP"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_struct  parent_ooe""></mutation>
                                    <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_struct  parent_ooe  child_categories</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""-iRp1][|:IXq!!^hy$$N"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""8:d+=oi!W*HN_gIc38yc"">
                                            <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""8TglNQBzHxkfE$l{Haf="">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""r5TBUzbkbsq7Nz.U?k?,""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""A3s_y8@L`%m9j6gXPKyT"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""yS!ZG03nxH43Exk_y_D)"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""6!HiU,|h@Rv6(K?UQnJz""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""zjXNx8Qv3,I=18GQteT@"" x=""-3513"" y=""-1713"">
    <field name=""NAME"">field_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""GnI;dC}xD:r1KTIXBxaQ"">
        <field name=""CONTEXT_SELECT"">myTable_field_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""HJ9#wYuuu7*v@Uzz%czF"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""lJ,V-;|Ji.QGMcHXKQ2*"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""qns^5RNa[AfEv7?xNvMJ"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""C+_~12:bv_$mBL1T(jD#"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""T7Nps?/I%20{jUip}M({"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""V[20D9+r+w2]!?xtDaQz"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""G^)!A(KIRMd%52lA[2L,""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""D)|ySK=}M,2dC~(HtNnc"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id=""fp^A$e~^#F`I3Ze2FsG@"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_field_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""wI?EE;TL`o_Sp!QV11DJ"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""vjBi=ZXF#0gcf,q@}ln8"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""q+v)qXU8UV8FeSGS0p0*"">
                                <next>
                                  <block type=""sql_execute"" id=""]bP0]K/TQMZe1jJVgdkx"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""/~a7rTvn)Y~7+kVZiF`%"">
                                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_field"" id=""PeIM737GK1#8,:/x6Y1s"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_struct  parent_ooe""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_field_in_struct  parent_ooe  child_id</field>
                                        <value name=""FIELD"">
                                          <block type=""text_join"" id=""4bKm{Qv:*/II6Foo625U"">
                                            <mutation items=""2""></mutation>
                                            <value name=""ADD0"">
                                              <block type=""text"" id=""dNS5mnL!MBiA`(`S;p^8"">
                                                <field name=""TEXT"">child_</field>
                                              </block>
                                            </value>
                                            <value name=""ADD1"">
                                              <block type=""targetcontext_refer_columns"" id=""uLiwlsF79Jc_1wB):%l("">
                                                <field name=""COLUMN"">id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""iJo)iaPN|GU0?#p|!=u~"">
                                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                      </block>
                                    </value>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""=e4,`NM3h2Il@ljfFT@H"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""`}Qao:l,,LybVXh4JK%T""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""Zri!HjK%Cj7Qo(oi0e[V"" x=""-7037"" y=""-663"">
    <field name=""NAME"">default</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""bS;3Qx{~bI@#4vC#ZK-t"">
        <field name=""CONTEXT_SELECT"">myTable</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""Szl71xBPar*FuK)FBI5U"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""A~8wY]2k4U5m@Zfq9{}T"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""yjoE1*}y(Y7KA8$G_}FG"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""o[|Ozb*xo|?_4GvJ.C.4"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""wu]uMOMDvgt+Ot1ork:i"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""qQ6!BAu}08Y[2v.a7_8*"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id="")GvQVHn[Dc%aHq,[h%xo""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""dz~$kN*[F)}:SB0hjQJd"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""JWkca8Y@b+^^X:hj5$rS"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable  categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""uqd9Zh{(4x,tRmD8/7}j"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""0*UkQ0AY}/h;J=Y4fqRH"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""3B]OrY^_f%Vk[sXv0?HU"">
                                <next>
                                  <block type=""targetcontext_automap"" id="":KPiPFU`coTwv*L)$Z7f""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""B_#5C1!w;0U$lK:j:IoH"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_struct"" id=""+$[FP,G6MAPAtQUp5GD8"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                            <field name=""CONTEXT_SELECT"">myTable  ooe</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""$)-+84Hu@|]S~lO!1Y{."">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""R;yA@mpDsov:UQOC;vl2"">
                                    <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_automap"" id=""ZA;]LOKp:v_MQ-e(?)M="">
                                    <next>
                                      <block type=""targetcontext_array"" id=""yKeYswUU_dikaL32ws,b"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable  ooe""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable  ooe  au64</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""EnrNM%%w:tA18U98P,Vj"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""CLAK|j,YHf+:wYkVoz!K"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""JBe6}Z@J.}2;-~TnE%+{"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""4nz~ED+-K-D,/67hDkX,""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""V/pQ-At,Qy92_fL6LQ5g"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""@qU[l=Ft[lOg,]!M`}OX"">
                                    <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""sql_execute"" id=""ZbgpDf8vVyM:v:h$m|$9"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""Y8X%jcoflfri[RBYlVa$"">
                                    <field name=""SQL_QUERY"">SELECT string_id AS ""string_id""&amp;#10;FROM manystrings&amp;#10;WHERE product_id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""variables_set"" id=""[o#k/n`59Pv$JC+XLcr!"">
                                    <field name=""VAR"" id=""zgkV`y7_IiEpq72q%vU`"">string_id</field>
                                    <value name=""VALUE"">
                                      <block type=""targetcontext_refer_columns"" id=""iF!IOKn9`VYQ9Vyp4n[^"">
                                        <field name=""COLUMN"">string_id</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""targetcontext_struct"" id=""s=@_Aw8x;nSS4y^c1i?9"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable  manyStrings</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""Wr(6kv=5R0^r3+3a2Ie!"">
                                            <mutation bindsCount=""2""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""8m8N:@[jnU#u84v7U,x6"">
                                                <field name=""SQL_QUERY"">SELECT CONCAT('mstring', m.string_id) AS ""id"",&amp;#10;    m.astring AS ""manyStrings""&amp;#10;FROM manystrings m&amp;#10;WHERE m.string_id = %s&amp;#10;    AND m.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""~vfHPN5LJK0W8I_B?P$X""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""0++7=iA=3S[u`k.f)AD0"">
                                                <field name=""VAR"" id=""zgkV`y7_IiEpq72q%vU`"">string_id</field>
                                              </block>
                                            </value>
                                            <value name=""SQLOPTION2"">
                                              <block type=""variables_get"" id=""~iL.Z]DG;]t*BFDv{pDv"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""Pwhj$~)B+{?a^ObSgP:W"">
                                    <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""targetcontext_save_row"" id=""tE@5F(H/pAy+M3?+G3X`""></block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""}|GH#Xkuv^d4=n0$C;`g"" x=""-6162"" y=""-437"">
    <field name=""NAME"">struct_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""5V?4:A|vl/ILS8^k]AM6"">
        <field name=""CONTEXT_SELECT"">myTable_struct_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""jD},1HZJx_xTCmvM^ZEM"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""iiqP?%/cZ_Qw([L?fR5q"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""]lIkVU3(UrG[^=Ry0+ED"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""R:mKqO^1Eop$yyzzx!Zh"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""k*j%hJ`1MV!?~o0FgNAD"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Fm`o+sf9dkDxr4(d:KNG"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""`J[C~;:T(QX/^PqB0.$P""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""b7;cp;7#|8Pv%%h]}G~k"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""@3p!0+^$oOWeD`y#:9Xp"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_struct_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""TBet15%*gO5vFZ-LJ8=M"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""R0=zFa?:#6(4TgvgNo=X"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""PLfSeZRYZO5aZf,hgM3}"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""-Hu?X}OZt#U;]3?9u35c"">
                                    <next>
                                      <block type=""targetcontext_struct"" id=""#nISS6P$i8c;gJ;c2S;:"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_arrayStruct  parent_categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_struct_in_arrayStruct  parent_categories  child_ooe</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""CUrPgqO#QF)!{lK:Wky3"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""R}Hz$x;uGsnWijo!Qv-1"">
                                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""[3.^E^JR7o2Y!|9HQWES""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""3]YvGcpQ@GQo42c`Nj@U"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""V$[8@.fczO$+k;L}R%Nn"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""+`--!W=FUFMHaQ!-(!5A""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""1bgpiz(qGj9j70jmt_N4"" x=""-5262"" y=""-438"">
    <field name=""NAME"">array_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""k_Ig=:Yr!|SJREhLrsT4"">
        <field name=""CONTEXT_SELECT"">myTable_array_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""eEmMhV1n1McIDr--bOGQ"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""8ySZ@0!%Z:[H-S|N,.]3"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""2G@QsV8Nwgqf_@%2u@Ud"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""65MhlYZah;e^rSiAn}Dv"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""%bIKMpj8|-J:0dMAUn)2"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""w,d|8}VJC(g#JIUF3fEr"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""],4S)p6^dys~(kP/@vQo""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""^%.fj7cC826JUomU#%A?"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""v.kQAq5M;6-No10asI1}"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_array_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""weU^c.-B)6?yU$QH@@a#"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""g3|O:8q:L^WV|82gha8A"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""qE.`dhsL@q40p)n].q+p"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""lVXDngt/3aj1Eo5[+`ME"">
                                    <next>
                                      <block type=""targetcontext_array"" id=""VK$r^8mbiz+TyYbh0tYR"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_arrayStruct  parent_categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_array_in_arrayStruct  parent_categories  child_au64</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""W{+pL6b+z={K)/}4*b%;"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""qQ4O0,`I41|W3t`abW*4"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""SWnyISM|rc[CG9O1R$1z"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""/rv0yw/Ja!TFYi[jt.[D""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""n)W/@Ik4V,[x`Gr70@gf"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""9Cm?=zVXHvay9l|;:wCq"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""e%/r$c^LVCaLqvt^gpr/""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""NdrCO*ad)c/C`ZUtjwWj"" x=""-4362"" y=""-437"">
    <field name=""NAME"">arrayStruct_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""=u|:^B}UzK3h1F6N}B^g"">
        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""k6Az$zfF%bw7X]-m-ABF"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""-u.M`h$.82fajC6MJ:z["">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""lQqep7%-;.nRELYLt/hz"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""R,,Ry4RT_oC4/l8g~#;("">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""P|~QwyazS~j9ZAxw@xJs"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id="";As[b_Pt]4JXf%c$fWp_"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""OWihB{{@vE@+x=GFX(S@""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""Fo-dc8NEJ_%4Jkn@|pq/"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id="".%5JDpM5L=5!GagGJVJc"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""AsfZL^7-z*FJ^Hm|cq=m"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""FyXrg9kRf(H4bHr`MnT-"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""n/*{rg4oj3LDY(Y-*Gsz"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""(BDa^;m+2g]3hk7en?aG"">
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""nL+FZ?d0W#.tUBg.tvq^"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_arrayStruct  parent_categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_arrayStruct  parent_categories  child_categories</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""(rYwqdp#AF%jpiwV[*B%"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""g[$QR%YzLf~:ryk-/`Zr"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""8g+ne`y!|?!n+;7q%f8U"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id="".dG..t=gv9~A.7/7Gr$+""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""@.*xWk@yqqyJ{2LOoBxP"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""fBr5,P?`Qw=YW?jk@X0Z"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""*?v8O_deTl#x5c:g{JxG""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""AbcQ+ldew8}lj}9ksEa-"" x=""-3512"" y=""-437"">
    <field name=""NAME"">field_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""[E7z=+y%C;{aQ@2rfPX]"">
        <field name=""CONTEXT_SELECT"">myTable_field_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""nG4Y`bU(_s8I(lYx3?cj"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""e~`aS~@RgQY%D%z6:^@U"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id="":k,4Fk`I!gSi$I,j6F{["">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""AU$7bR#bK4i45C7K*iOj"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""c+LSj*5%n3Q9FR;Vaa*b"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""OAYwOQ4ceQ1aQWRFrprN"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""}U#kBK!uDXv7nGZzFdm-""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""UQ?^zbLyMI0Q0m$hhMdc"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id="".lvGQQ,*-W(`H2Q0~nCU"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_field_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""{+!ccS?iQ~%+N6{)-?Cu"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""JM@4TncASr#~6}7Fg_u^"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""9KN?2n(u`PT]*7suEj:C"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""98=YeDpvjD!V0z$6f)W["">
                                    <next>
                                      <block type=""sql_execute"" id=""F~vS.lC(]D5.Yllc@;[{"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id="")c{m4k@y%R^cP*pX^6X["">
                                            <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_field"" id="",R^oTxd~r+D2=5cHrwex"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_arrayStruct  parent_categories""></mutation>
                                            <field name=""CONTEXT_SELECT"">myTable_field_in_arrayStruct  parent_categories  child_id</field>
                                            <value name=""FIELD"">
                                              <block type=""text_join"" id=""ht$Y8_pD?gJ{8BQ-L,Gz"">
                                                <mutation items=""2""></mutation>
                                                <value name=""ADD0"">
                                                  <block type=""text"" id=""wdl3|jV,_;OH/.y#QJcv"">
                                                    <field name=""TEXT"">child_</field>
                                                  </block>
                                                </value>
                                                <value name=""ADD1"">
                                                  <block type=""targetcontext_refer_columns"" id=""Z*ZxBaDC3u}U~;@^|Wq#"">
                                                    <field name=""COLUMN"">id</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""f`]|yw|KwJ8@q3]NZ=RV"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""Pc^j/@y$Ov`-@icHNIiI"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""ek|k}.~k/Q0{Bpu=T;o0""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
</xml>",1,2021-01-11 14:46:06
1,1,shopify,1,1,"import re
import sys
import operator
import logging
import requests
import psycopg2
import simplejson as json
import psycopg2.extras
from psycopg2 import pool
from decimal import Decimal
from functools import reduce
from datetime import datetime

Color = None
prodbycolorId = None
collectionid = None
productid = None
Size = None
prodbysizeid = None
atrid = None

# Describe this function...
def Prod_by_Size_Table():
  global Color, prodbycolorId, collectionid, productid, Size, prodbysizeid, atrid

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""products_by_size""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select distinct p.id
    from ""Products"" p
    inner join variant v
    on p.id = v.""productId"" ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      productid = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select distinct ov.value as  ""Size""
      from (((""Products"" p
      inner join ""productOption"" po
      on p.id = po.""productId"" )
      inner join ""option"" o
      on po.""optionId"" = o.id )
      inner join ""optionValues"" ov
      on o.id = ov.""optionId"" )
      where o.""name"" = 'Size'
      and p.id = %s;''',(productid,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

        Size = row['Size']


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select distinct v.id as ""prodbysizeId""
      from (((variant v
      inner join ""variantOption"" vo
      on v.id = vo.""variantId"" )
      inner join ""optionValues"" ov
      on vo.""optionId"" = ov.""optionId"" )
      inner join ""option"" o
      on ov.""optionId"" = o.id )
      where o.""name"" = 'Size'
      and ov.value = %s;''',(Size,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

        prodbysizeid = row['prodbysizeId']

        fieldValue = (''.join([str(x) for x in [productid, '_', prodbysizeid]]))
        context_hierarchy.append(""prim_id"")
        setInDict(table_item, context_hierarchy, fieldValue)
        context_hierarchy.pop()

        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])

        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select v.id as ""id"",
        v.""stringId"" as ""prim_id"",
        v.barcode as ""ean"",
        v.""weightUnit"" as ""unit"",
        v.barcode as ""upc"",
        v.""displayName"" as ""name"",
        v.title as ""shortDescription"",
        p2.description as ""longDescription"",
        v.""availableForSale"" as ""availableFlag"",
        pm.""isPrivate"" as ""searchableFlag"",
        v.""taxCode"" as ""taxClassId"",
        p2.""SeoTitle"" as  ""pageKeyword"",
        p2.""onlineStoreUrl"" as ""pageUrl"",
        v.price as ""price"",
        v.""inventoryQuantity"" as ""ats"",
        iiuc.""currencyCode"" as ""currency"",
        p2.""vendor"" as ""brand""
        from (((variant v
        inner join ""Products"" p2
        on v.""productId"" = p2.id )
        inner join ""InventoryItemsUnitCost"" iiuc
        on v.""inventoryItemId"" = iiuc.id )
        inner join ""productMetafield"" pm
        on v.""productId"" = pm.""productId"" )
        where v.id = %s;''',(prodbysizeid,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select distinct p.id as masterid,
          case
          when p.id = v2.""productId"" then 'True'
          end as ismaster
          from ""Products"" p
          inner join variant v2
          on p.id = v2.""productId""
          where v2.id = %s;''',(prodbysizeid,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select c.title as ""pageTitle"", c.""SeoDescription"" as  ""pageDesc""
          from (((""Products"" p
          inner join ""productCollection"" pc
          on p.id = pc.""productId"" )
          inner join collections c
          on pc.""collectionId"" = c.id )
          inner join variant v
          on p.id = v.""productId"" )
          where v.id = %s;''',(prodbysizeid,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Setting Array Context
          try:
            data_context+=1
            context = ""categories""
            context_hierarchy.append(""categories"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select c.id as ""catalogId""
            from (((""Products"" p
            inner join ""productCollection"" pc
            on p.id = pc.""productId"" )
            inner join collections c
            on pc.""collectionId"" = c.id )
            inner join variant v
            on p.id = v.""productId"" )
            where v.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select distinct ov.value as ""size""
          from ((((""Products"" p
          inner join ""productOption"" po
          on p.id = po.""productId"" )
          inner join ""option"" o
          on po.""optionId"" = o.id )
          inner join ""optionValues"" ov
          on o.id = ov.""optionId"" )
          inner join variant v2
          on p.id = v2.""productId"" )
          where o.""name"" = 'Size'
          and v2.id = %s;''',(prodbysizeid,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select distinct ov.value as  ""color""
          from ((((""Products"" p
          inner join ""productOption"" po
          on p.id = po.""productId"" )
          inner join ""option"" o
          on po.""optionId"" = o.id )
          inner join ""optionValues"" ov
          on o.id = ov.""optionId"" )
          inner join variant v2
          on p.id = v2.""productId"" )
          where o.""name"" = 'Color'
          and v2.id = %s;''',(prodbysizeid,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""shortDescriptions""
            context_hierarchy.append(""shortDescriptions"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select t.locale as ""lang"", t.value as ""value""
            from (((""Products"" p
            inner join ""productTranslation"" pt
            on p.id = pt.""productId"" )
            inner join ""translation"" t
            on pt.""translationId"" = t.id )
            inner join variant v2
            on p.id = v2.""productId"" )
            where t.""key"" = 'meta_title'
            and v2.id = %s ;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""longDescriptions""
            context_hierarchy.append(""longDescriptions"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select t.locale as ""lang"", t.value as ""value""
            from (((""Products"" p
            inner join ""productTranslation"" pt
            on p.id = pt.""productId"" )
            inner join ""translation"" t
            on pt.""translationId"" = t.id )
            inner join variant v2
            on p.id = v2.""productId"" )
            where t.""key"" = 'meta_description'
            and v2.id = %s ;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""pageTitles""
            context_hierarchy.append(""pageTitles"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select t.locale as ""lang"", t.value as ""value""
            from (((""Products"" p
            inner join ""productTranslation"" pt
            on p.id = pt.""productId"" )
            inner join ""translation"" t
            on pt.""translationId"" = t.id )
            inner join variant v2
            on p.id = v2.""productId"" )
            where t.""key"" = 'title'
            and v2.id = %s ;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""pageDescs""
            context_hierarchy.append(""pageDescs"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select t.locale as ""lang"", t.value as ""value""
            from (((""Products"" p
            inner join ""productTranslation"" pt
            on p.id = pt.""productId"" )
            inner join ""translation"" t
            on pt.""translationId"" = t.id )
            inner join variant v2
            on p.id = v2.""productId"" )
            where t.""key"" = 'body_html'
            and v2.id = %s ;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""pageKeywords""
            context_hierarchy.append(""pageKeywords"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select t.locale as ""lang"", t.value as ""value""
            from (((""Products"" p
            inner join ""productTranslation"" pt
            on p.id = pt.""productId"" )
            inner join ""translation"" t
            on pt.""translationId"" = t.id )
            inner join variant v2
            on p.id = v2.""productId"" )
            where t.""key"" = 'meta_description'
            and v2.id = %s ;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""customAttributes""
            context_hierarchy.append(""customAttributes"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select m.id as ""attributeId"", m.value as ""value""
            from (((""Products"" p
            inner join ""productMetafield"" pm
            on p.id = pm.""productId"" )
            inner join metafield m
            on pm.""metafieldId"" = m.id)
            inner join variant v
            on p.id = v.""productId"" )
            where v.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              # Setting Array Context
              try:
                data_context+=1
                context = ""values""
                context_hierarchy.append(""values"")
                context_type[data_context] = ""array""

                # Variable for storing fetched row
                items[data_context] = []


                # Use getconn() method to Get Connection from connection pool
                sql_context+=1
                connection[sql_context] = threaded_pool.getconn()

                # Cursor Initialize
                cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

                # Executing SQL query
                cursor[sql_context].execute('''select m.value as ""value""
                from (((""Products"" p
                inner join ""productMetafield"" pm
                on p.id = pm.""productId"" )
                inner join metafield m
                on pm.""metafieldId"" = m.id)
                inner join variant v
                on p.id = v.""productId"" )
                where v.id = %s;''',(prodbysizeid,))

                while True:
                  row = cursor[sql_context].fetchone()
                  if row == None:
                      break
                  row = dict(row)
                  for i, val in enumerate(customerKeys):
                    key = val.split(""."")[-1]
                    if key in row:
                        customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


                  if context_type[data_context] == ""table"" or context_type[data_context] == None:
                    table_item.update(row)
                  if context_type[data_context] == ""struct"":
                    if len(row) == 2:
                      if context not in getFromDict(table_item, context_hierarchy[:-1]):
                        setInDict(table_item, context_hierarchy, {})
                      context_hierarchy.append(list(row.values())[0])
                      setInDict(table_item, context_hierarchy, list(row.values())[1])
                      context_hierarchy.pop()
                    else:
                      setInDict(table_item, context_hierarchy, row)
                  elif context_type[data_context] == ""array"":
                    setInDict(table_item, context_hierarchy, items[data_context])
                  elif context_type[data_context] == ""struct-array"":
                    setInDict(table_item, context_hierarchy, items[data_context])

                  if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                    items[data_context].append(list(row.values())[0])
                  else:
                    items[data_context].append(row)


                # Cursor Close
                cursor[sql_context].close()

                # Release the connection object and send back to connection pool
                threaded_pool.putconn(connection[sql_context])
                sql_context-=1

              except (Exception, psycopg2.DatabaseError) as error:
                logger.exception(""Error in Setting Array Context"")
                logger.exception(error)
                exit_status=1

              finally:
                context_hierarchy.pop()
                del context_type[data_context]
                data_context-=1


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""attributes""
            context_hierarchy.append(""attributes"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select m.id as ""attributeId"",v2.id as ""variationAttributeId"", p.handle as ""name""
            from ((""Products"" p
            inner join ""productMetafield"" pm
            on p.id = pm.""productId""
            inner join variant v2
            on p.id = v2.""productId"" )
            inner join metafield m
            on pm.""metafieldId"" = m.id )
            where v2.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              # Setting Struct Array Context
              try:
                data_context+=1
                context = ""values""
                context_hierarchy.append(""values"")
                context_type[data_context] = ""struct-array""

                # Variable for storing fetched row
                items[data_context] = []


                # Use getconn() method to Get Connection from connection pool
                sql_context+=1
                connection[sql_context] = threaded_pool.getconn()

                # Cursor Initialize
                cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

                # Executing SQL query
                cursor[sql_context].execute('''select o.""name"" as ""atrid""
                from ""option"" o ;''',())

                while True:
                  row = cursor[sql_context].fetchone()
                  if row == None:
                      break
                  row = dict(row)
                  for i, val in enumerate(customerKeys):
                    key = val.split(""."")[-1]
                    if key in row:
                        customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

                  atrid = row['atrid']

                  # Use getconn() method to Get Connection from connection pool
                  sql_context+=1
                  connection[sql_context] = threaded_pool.getconn()

                  # Cursor Initialize
                  cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

                  # Executing SQL query
                  cursor[sql_context].execute('''select distinct ov.value as ""value"", ov.value as ""displayValue"", t.locale as ""lang""
                  from (((((""Products"" p
                  inner join ""productOption"" po
                  on p.id = po.""productId"" )
                  inner join ""option"" o
                  on o.id = po.""optionId"" )
                  inner join ""optionValues"" ov
                  on po.""optionId"" = ov.""optionId"" )
                  inner join ""productOptionTranslation"" pot
                  on po.""optionId"" = pot.""productOptionId"" )
                  inner join ""translation"" t
                  on pot.""translationId"" = t.id )
                  where o.""name"" = 'Size';''',(atrid,))

                  while True:
                    row = cursor[sql_context].fetchone()
                    if row == None:
                        break
                    row = dict(row)
                    for i, val in enumerate(customerKeys):
                      key = val.split(""."")[-1]
                      if key in row:
                          customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


                    if context_type[data_context] == ""table"" or context_type[data_context] == None:
                      table_item.update(row)
                    if context_type[data_context] == ""struct"":
                      if len(row) == 2:
                        if context not in getFromDict(table_item, context_hierarchy[:-1]):
                          setInDict(table_item, context_hierarchy, {})
                        context_hierarchy.append(list(row.values())[0])
                        setInDict(table_item, context_hierarchy, list(row.values())[1])
                        context_hierarchy.pop()
                      else:
                        setInDict(table_item, context_hierarchy, row)
                    elif context_type[data_context] == ""array"":
                      setInDict(table_item, context_hierarchy, items[data_context])
                    elif context_type[data_context] == ""struct-array"":
                      setInDict(table_item, context_hierarchy, items[data_context])

                    if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                      items[data_context].append(list(row.values())[0])
                    else:
                      items[data_context].append(row)


                  # Cursor Close
                  cursor[sql_context].close()

                  # Release the connection object and send back to connection pool
                  threaded_pool.putconn(connection[sql_context])
                  sql_context-=1


                # Cursor Close
                cursor[sql_context].close()

                # Release the connection object and send back to connection pool
                threaded_pool.putconn(connection[sql_context])
                sql_context-=1

              except (Exception, psycopg2.DatabaseError) as error:
                logger.exception(""Error in Setting Struct Array Context"")
                logger.exception(error)
                exit_status=1

              finally:
                context_hierarchy.pop()
                del context_type[data_context]
                data_context-=1


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""imageGroups""
            context_hierarchy.append(""imageGroups"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select i.""transformedSrc"" as ""viewType"", i.""altText"" as ""variationValue""
            from (((""Products"" p
            inner join ""productImage"" pi2
            on p.id = pi2.""productId"" )
            inner join image i
            on pi2.""imageId"" = i.id )
            inner join variant v
            on p.id = v.""productId"" )
            where v.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])

              # Setting Struct Array Context
              try:
                data_context+=1
                context = ""images""
                context_hierarchy.append(""images"")
                context_type[data_context] = ""struct-array""

                # Variable for storing fetched row
                items[data_context] = []


                # Use getconn() method to Get Connection from connection pool
                sql_context+=1
                connection[sql_context] = threaded_pool.getconn()

                # Cursor Initialize
                cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

                # Executing SQL query
                cursor[sql_context].execute('''select i.""originalSrc"" as ""path"", i.""altText"" as ""alt"",p.title as ""title""
                from (((""Products"" p
                inner join ""productImage"" pi2
                on p.id = pi2.""productId"" )
                inner join image i
                on pi2.""imageId"" = i.id )
                inner  join variant v2
                on p.id = v2.""productId"" )
                where v2.id = %s;''',(prodbysizeid,))

                while True:
                  row = cursor[sql_context].fetchone()
                  if row == None:
                      break
                  row = dict(row)
                  for i, val in enumerate(customerKeys):
                    key = val.split(""."")[-1]
                    if key in row:
                        customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


                  if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                    items[data_context].append(list(row.values())[0])
                  else:
                    items[data_context].append(row)

                  if context_type[data_context] == ""table"" or context_type[data_context] == None:
                    table_item.update(row)
                  if context_type[data_context] == ""struct"":
                    if len(row) == 2:
                      if context not in getFromDict(table_item, context_hierarchy[:-1]):
                        setInDict(table_item, context_hierarchy, {})
                      context_hierarchy.append(list(row.values())[0])
                      setInDict(table_item, context_hierarchy, list(row.values())[1])
                      context_hierarchy.pop()
                    else:
                      setInDict(table_item, context_hierarchy, row)
                  elif context_type[data_context] == ""array"":
                    setInDict(table_item, context_hierarchy, items[data_context])
                  elif context_type[data_context] == ""struct-array"":
                    setInDict(table_item, context_hierarchy, items[data_context])


                # Cursor Close
                cursor[sql_context].close()

                # Release the connection object and send back to connection pool
                threaded_pool.putconn(connection[sql_context])
                sql_context-=1

              except (Exception, psycopg2.DatabaseError) as error:
                logger.exception(""Error in Setting Struct Array Context"")
                logger.exception(error)
                exit_status=1

              finally:
                context_hierarchy.pop()
                del context_type[data_context]
                data_context-=1


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Context
          try:
            data_context+=1
            context = ""inventory""
            context_hierarchy.append(""inventory"")
            context_type[data_context] = ""struct""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select ii.""createdAt"" as ""allocationTimestamp"", v.""inventoryQuantity"" as ""ats"", v.""availableForSale"" as ""perpetual""
            from ((""Products"" p2
            inner join variant v
            on p2.id = v.""productId"" )
            inner join ""InventoryItems"" ii
            on v.""inventoryItemId"" = ii.id )
            where v.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""variants""
            context_hierarchy.append(""variants"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select v.id as ""id"", v.price as ""price"" , v.""inventoryQuantity"" as ""ats""
            from ""Products"" p
            inner join variant v
            on p.id = v.""productId""
            where v.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select distinct ov.value as ""size""
            from ((((""Products"" p
            inner join ""productOption"" po
            on p.id = po.""productId"" )
            inner join ""option"" o
            on po.""optionId"" = o.id )
            inner join ""optionValues"" ov
            on o.id = ov.""optionId"" )
            inner join variant v2
            on p.id = v2.""productId"" )
            where o.""name"" = 'Size'
            and v2.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select distinct ov.value as  ""color""
            from ((((""Products"" p
            inner join ""productOption"" po
            on p.id = po.""productId"" )
            inner join ""option"" o
            on po.""optionId"" = o.id )
            inner join ""optionValues"" ov
            on o.id = ov.""optionId"" )
            inner join variant v2
            on p.id = v2.""productId"" )
            where o.""name"" = 'Color'
            and v2.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select distinct ov.value as  ""mainColor""
            from ((((""Products"" p
            inner join ""productOption"" po
            on p.id = po.""productId"" )
            inner join ""option"" o
            on po.""optionId"" = o.id )
            inner join ""optionValues"" ov
            on o.id = ov.""optionId"" )
            inner join variant v2
            on p.id = v2.""productId"" )
            where o.""name"" = 'Color'
            and v2.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Array Context
          try:
            data_context+=1
            context = ""sizes""
            context_hierarchy.append(""sizes"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select distinct ov.value as ""size""
            from ((((""Products"" p
            inner join ""productOption"" po
            on p.id = po.""productId"" )
            inner join ""option"" o
            on po.""optionId"" = o.id )
            inner join ""optionValues"" ov
            on o.id = ov.""optionId"" )
            inner join variant v2
            on p.id = v2.""productId"" )
            where o.""name"" = 'Size'
            and v2.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1

          # Setting Array Context
          try:
            data_context+=1
            context = ""colors""
            context_hierarchy.append(""colors"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select distinct ov.value as  ""color""
            from ((((""Products"" p
            inner join ""productOption"" po
            on p.id = po.""productId"" )
            inner join ""option"" o
            on po.""optionId"" = o.id )
            inner join ""optionValues"" ov
            on o.id = ov.""optionId"" )
            inner join variant v2
            on p.id = v2.""productId"" )
            where o.""name"" = 'Color'
            and v2.id = %s;''',(prodbysizeid,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

        # Customer Key Handling
        customerKeyJSON = '{}'
        customerKeyJSON = json.loads(customerKeyJSON)

        for i in customerKeys:
          res = parse_dotted_strlines(i)
          customerKeyJSON.update(res)

        # Resetting customerKeys Back
        customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
        customerKeys = customerKey.split("","")

        # Create Schema if not created
        schemaName=""2_ildev_dep1""

        # Executing SQL query
        maincursor.execute(
            '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
            ON CONFLICT (""customerKey"") DO UPDATE SET
              ""il_vs"" = excluded.""il_vs"" + 1,
              ""tableName"" = excluded.""tableName"",
              ""returnResults"" = excluded.""returnResults"";''',
                  (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

        # Clearing table_item
        table_item.clear()


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1




def datetimeParser(o):
    if isinstance(o, datetime):
        return o.__str__()

def getFromDict(dic, keys):
  for key in keys:
      dic = dic[key]
  return dic


def setInDict(dic, keys, value):
  for key in keys[:-1]:
      # Setting a default in dict
      dic = dic.setdefault(key, {})

      # Setting a default in list
      if type(dic) == list and keys[-1] not in dic[-1]:
          dic[-1].setdefault(keys[-1], {})

  if type(dic) == dict:
    if keys[-1] in dic:
        if type(dic[keys[-1]]) == list:
          dic[keys[-1]] = value
          return
        dic[keys[-1]].update(value)
    else:
      dic[keys[-1]] = value
  elif type(dic) == list:
      dic[-1][keys[-1]] = value


def parse_dotted_strlines(strlines):
  """"""Parse multiple dot seperated lines""""""
  res = {}
  for line in strlines.splitlines():
      parse_dotted_str(line, res)
  return res


def parse_dotted_str(s, res):
  """"""Parse a dot seperated lines such as:
  my.dictionary.value -> value
  my.dictionary.list[0].value -> value
  my.dictionary.list[1].value.list[0].value -> value
  into a nested JSON""""""
  if '.' in s:
      key, rest = s.split('.', 1)
      # Check if key represents a list
      match = re.search(r'(.*)[(d)]$', key)
      if match:
          # List
          key, index = match.groups()
          val = res.get(key, {}) or []
          assert type(
              val) == list, f'Cannot set key {key} as of type list as it was earlier marked as {type(val)}'
          while len(val) <= int(index):
              val.append({})
          val[index] = parse_dotted_str(rest, {})
          res[key] = val
      else:
          # Dict
          res[key] = parse_dotted_str(rest, res.get(key, {}))
  elif '->' in s:
      key, val = s.split('->')
      res[key.strip()] = val.strip()
  return res


def getmylogger(name):
  """"""Creating a logger for debugging and log file generation.""""""
  file_formatter = logging.Formatter(
      '%(asctime)s  %(name)s  %(levelname)s  %(funcName)s:%(lineno)d  %(message)s', datefmt='%m-%d-%Y %H:%M:%S')
  console_formatter = logging.Formatter('%(levelname)s -- %(message)s')

  file_handler = logging.FileHandler(""ilblockly.log"")
  file_handler.setLevel(logging.DEBUG)
  file_handler.setFormatter(file_formatter)

  console_handler = logging.StreamHandler()
  console_handler.setLevel(logging.DEBUG)
  console_handler.setFormatter(console_formatter)

  logger = logging.getLogger(name)
  logger.addHandler(file_handler)
  logger.addHandler(console_handler)
  logger.setLevel(logging.DEBUG)
  logger.propagate = False

  return logger


class DecimalEncoder (json.JSONEncoder):
  def default(self, obj):
      if isinstance(obj, Decimal):
          return int(obj)
      return json.JSONEncoder.default(self, obj)


# Logging
logger = getmylogger(__name__)
open('ilblockly.log', 'w').close()
exit_status=0

# Defining the api-endpoint
API_ENDPOINT = ""https://instantlabs-eks-iladmin-staging-us-west-1.instantlabs.io""

# Data to be sent to ILAdmin
obj = [{""action"": ""Admin.UI.GetDetail.Schema"", ""params"": {""schema_dfn_id"": 1}}]
obj = json.dumps(obj)

# Sending POST request and saving response as response object
r = requests.post(url = API_ENDPOINT, data = obj)

# Extracting useful data from response
schema_dict = json.loads(json.loads(r.text)[0]['data'])[0]['schema_dfn']
schema_dict = json.loads(schema_dict)

# Database Connection Parameters
minConnection = 5
maxConnection = 20
params = {""user"":""postgres"",""password"":""malik"",""host"":""127.0.0.1"",""port"":""5432"",""dbname"":""postgres""}

try:
  threaded_pool = psycopg2.pool.ThreadedConnectionPool(
      minConnection, maxConnection, **params, options=""-c search_path=public,ildev,test_shopify"")
  logger.debug(""Threaded SQL Connection pool created successfully"")

  # Exporting logs to database
  mainconn = threaded_pool.getconn()

  # Cursor Initialize
  maincursor = mainconn.cursor(
    cursor_factory=psycopg2.extras.RealDictCursor)

  mainconn.autocommit = True

  # Create Schema if not created
  schemaName=""2_ildev_dep1""

  # Creating Schema if not exist
  maincursor.execute(
      '''CREATE SCHEMA IF NOT EXISTS ""'''+schemaName+'''"";''', ())

  # Creating queryresults Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".queryresults (
        ""id"" SERIAL NOT NULL,
        ""il_id"" SERIAL NOT NULL,
        ""il_vs"" int,
        ""tableName"" varchar(50),
        ""customerKey"" varchar(1000) PRIMARY KEY NOT NULL,
        ""returnResults"" json,
        ""last_modified"" timestamp
      );''', ())

  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET UNLOGGED;''', ())

  # Creating querylogs Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".querylogs (
        ""run_id"" SERIAL PRIMARY KEY NOT NULL,
        ""logs"" text,
        ""exit_status"" int,
        ""last_modified"" timestamp
      );''', ())

  Prod_by_Size_Table()

except (Exception, psycopg2.DatabaseError) as error:
  logger.exception(""Threaded Connection Pool failed to initialize"")
  logger.exception(error)
  exit_status=1

finally:
  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET LOGGED;''', ())

  # Cursor Close
  maincursor.close()

  # Release the connection object and send back to connection pool
  threaded_pool.putconn(mainconn)

  # Closing database connection.
  # Use closeall method to close all the active connection if you want to turn of the application
  if (threaded_pool):
      threaded_pool.closeall
  logger.debug(""Threaded SQL connection pool is closed"")

# Exporting Logs to database
with psycopg2.connect(**params) as logconn:
    with logconn.cursor() as logcursor:

        logconn.autocommit = True

        # Create Schema if not created
        schemaName=""2_ildev_dep1""

        with open(""ilblockly.log"", 'r+') as myfile:
          log_contents = myfile.read()
          # Executing SQL query
          logcursor.execute(
              '''INSERT INTO ""'''+schemaName+'''"".querylogs (""logs"", ""exit_status"", ""last_modified"") VALUES (%s, %s, NOW());''',(log_contents, exit_status,))
","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable id=""(K/e)45TE:j~SHNa7U=."">Color</variable>
    <variable id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</variable>
    <variable id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</variable>
    <variable id=""4rX:CwO#hCHqzy=]:H`Y"">productid</variable>
    <variable id=""|J~WVCE=w+Bik?t!i]P$"">Size</variable>
    <variable id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</variable>
    <variable id=""hTGz$1QKQP/-Vpz8_1G|"">atrid</variable>
  </variables>
  <block type=""procedures_callnoreturn"" id=""=rz9pD6.B49h)cNNmx-#"" disabled=""true"" x=""-1987"" y=""138"">
    <mutation name=""Extensions_Table""></mutation>
  </block>
  <block type=""procedures_defnoreturn"" id=""mZQ-[ai9Wd8Wg3UE1Hp)"" disabled=""true"" x=""-2337"" y=""163"">
    <field name=""NAME"">Extensions_Table</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""T;/zZgt$wJf!/K8bMC//"">
        <field name=""CONTEXT_SELECT"">extensions</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""X3E[cqKl]uxrE~cWtCko"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""nRDW^[QrXe1}#$@H$o2a"">
                <field name=""SQL_QUERY"">select p.id as ""typeId""&amp;#10;from ""Products"" p </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""targetcontext_automap"" id=""@De(Ew[@h%RttG3{bS9["">
                <next>
                  <block type=""variables_set"" id=""F-ft3UX3A76wz_{VqVUq"">
                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                    <value name=""VALUE"">
                      <block type=""targetcontext_refer_columns"" id=""q|5r`A!M[YxFVHes}npX"">
                        <field name=""COLUMN"">typeId</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""g)koV~lD8Iv1T)6d[07}"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""extensions""></mutation>
                        <field name=""CONTEXT_SELECT"">extensions  attributes</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""~%JKHHnz}#m$y,mJTORV"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""V.j~+Gb{|*$m[mL`iIws"">
                                <field name=""SQL_QUERY"">select m.id as ""attributeId"", v.""displayName"" as ""displayName"" , m.description as ""description"", o.""name"" as ""attributeType""&amp;#10;from (((((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;inner join ""variantOption"" vo &amp;#10;on v.id = vo.""variantId"" )&amp;#10;inner join ""option"" o &amp;#10;on vo.""optionId"" = o.id )&amp;#10;where p.id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""oO({rsK7qHXdZ%=@Fs?y"">
                                <next>
                                  <block type=""targetcontext_append_row"" id=""v91a9{!0S0ueBDr9Ly@{""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""F_d![@L6IHYwR(B8W*mo"">
                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                              </block>
                            </value>
                            <next>
                              <block type=""targetcontext_arraystruct"" id=""EGo=?1v2`:%#hm4caWL["">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""extensions  attributes""></mutation>
                                <field name=""CONTEXT_SELECT"">extensions  attributes  values</field>
                                <statement name=""CONTEXT_DO"">
                                  <block type=""sql_execute"" id=""0*wcgZc)I/=+:|I+sYpg"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""Po$Kx0RwC-`Hw^.*}3)T"">
                                        <field name=""SQL_QUERY"">select ov.value as ""value"", ov.value as ""displayValue""&amp;#10;from ((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""optionValues"" ov &amp;#10;on po.""optionId"" = ov.""optionId"" )&amp;#10;where p.id = %s&amp;#10;</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_automap"" id=""rsw%W5kbB`[,Ogvo3SqQ"">
                                        <next>
                                          <block type=""targetcontext_append_row"" id=""H:Ezs+f[Hs-T[|]m~lc:""></block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""/pkQ^LV`.{@d^mn!TT$w"">
                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""wv#V6+Ws2rjV0R?Q~0Z.""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_callnoreturn"" id=""fVY-zNW*N+oW}M6[Q9]w"" disabled=""true"" x=""-1187"" y=""163"">
    <mutation name=""category_att_Table""></mutation>
  </block>
  <block type=""procedures_defnoreturn"" id="")myA_lv/~yvarRENVL*?"" disabled=""true"" x=""-1538"" y=""187"">
    <field name=""NAME"">category_att_Table</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""1:UpJlC;=wl@k+s-+$4p"">
        <field name=""CONTEXT_SELECT"">category_attributes</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""VS/.aiZ=4m4*f;Cs9vA["">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""cH^KVwpn-7yHTpqgy+8;"">
                <field name=""SQL_QUERY"">select c2.id as ""id""&amp;#10;from collections c2 </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""Rbd$._!;!dDyd92U,T4m"">
                <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""Kz|fH$:/1kT(MGTF2^rk"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""{7vsdR6Ng`1]I7Uq7o1L"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""U$v]$Ab)+Np]!ccRkw$Z"">
                        <field name=""SQL_QUERY"">select c.id as ""category_id""&amp;#10;from collections c &amp;#10;where c.id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""oa!M!*T]0=V@%b:/En~a""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""Y%byvZ)jC@YCT!y!gz$l"">
                        <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                      </block>
                    </value>
                    <next>
                      <block type=""sql_execute"" id=""~pJIoQQFjHW+zD6FF=kL"">
                        <mutation bindsCount=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""PA!]n5fD1`-zDBMGB~|1"">
                            <field name=""SQL_QUERY"">select distinct ov2.value as ""size""&amp;#10;from ((((collections c &amp;#10;inner join ""productCollection"" pc &amp;#10;on c.id = pc.""collectionId"" )&amp;#10;inner join ""productOption"" po &amp;#10;on pc.""productId"" = po.""productId"" )&amp;#10;inner  join ""optionValues"" ov2 &amp;#10;on po.""optionId"" = ov2.""optionId"" )&amp;#10;inner join ""option"" o2 &amp;#10;on ov2.""optionId"" = o2.id )&amp;#10;where  o2.""name"" = 'Size' &amp;#10;and c.id = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""targetcontext_automap"" id=""?SzPwCs?X/_c/d4#5}d}""></block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""4+0W-cb/Y/GljlO_G}La"">
                            <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                          </block>
                        </value>
                        <next>
                          <block type=""sql_execute"" id=""pAhgQ[5-5@qiR*!eR2.3"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""^PL;J=BNa7c35}30r/7C"">
                                <field name=""SQL_QUERY"">select distinct ov2.value as ""color""&amp;#10;from ((((collections c &amp;#10;inner join ""productCollection"" pc &amp;#10;on c.id = pc.""collectionId"" )&amp;#10;inner join ""productOption"" po &amp;#10;on pc.""productId"" = po.""productId"" )&amp;#10;inner  join ""optionValues"" ov2 &amp;#10;on po.""optionId"" = ov2.""optionId"" )&amp;#10;inner join ""option"" o2 &amp;#10;on ov2.""optionId"" = o2.id )&amp;#10;where o2.""name"" = 'Color'&amp;#10;and c.id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""PlbGU+4vGFTh4p/t|.B-""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""hO.$R~^R/2!B/6WJg-q-"">
                                <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                              </block>
                            </value>
                            <next>
                              <block type=""sql_execute"" id=""!rT([kKP32hT1!x=}pWj"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""!EiUE$LJYtmo|/rt`MJ%"">
                                    <field name=""SQL_QUERY"">select distinct p.vendor as ""brand""&amp;#10;from ((collections c &amp;#10;inner join ""productCollection"" pc &amp;#10;on c.id = pc.""collectionId"" )&amp;#10;inner join ""Products"" p &amp;#10;on pc.""productId"" = p.id )&amp;#10;where c.id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_automap"" id=""zLjUOWC.=N4crRTNfC[f""></block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""5PRgl:Wp7~Mc!^,I.b8e"">
                                    <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""targetcontext_save_row"" id=""ql2%_*ICDIU^^(Iju6BH""></block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_callnoreturn"" id=""7*7uWv8xRptOIYK``hxi"" disabled=""true"" x=""438"" y=""138"">
    <mutation name=""CategoriesTable""></mutation>
  </block>
  <block type=""procedures_defnoreturn"" id=""nDs1?d1vWikqc^kOK=cD"" disabled=""true"" x=""263"" y=""187"">
    <field name=""NAME"">CategoriesTable</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""9aQ=,sG;O$0.f=-@*MLR"">
        <field name=""CONTEXT_SELECT"">categories</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""iUn9M#_KRUa6~s2+aJ7."">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="")qfP[lf,9_/o^9[.=$G}"">
                <field name=""SQL_QUERY"">Select &amp;#10;collections.""id"" as id,&amp;#10;collections.""handle"" as name,&amp;#10;collections.""description"" as description,&amp;#10;collections.""stringId"" as parentCategoryId,&amp;#10;collections.""title"" as pageTitle,&amp;#10;collections.""description"" as pageDesc,&amp;#10;collections.""SeoTitle"" as pageKeyword &amp;#10;from &amp;#10;""collections""</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""targetcontext_automap"" id=""O:z/18XiM82oxJ@5j}ZI"">
                <next>
                  <block type=""variables_set"" id=""wbw}JX$}m+~b~ovL3Ox/"">
                    <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                    <value name=""VALUE"">
                      <block type=""targetcontext_refer_columns"" id=""/lXPxkNB*(DJocZg2Gk("">
                        <field name=""COLUMN"">id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""=)F5zxwi*~YdT).69Y%9"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                        <field name=""CONTEXT_SELECT"">categories  displayNames</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""RNh9Y/^O`ppW9N/PO17X"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""O3x:k973pNdgr/viI#`}"">
                                <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang, &amp;#10;translation.value as value &amp;#10;from &amp;#10;translation,""collectionTranslation"" &amp;#10;where&amp;#10;translation.id = ""collectionTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'title' &amp;#10;and &amp;#10;""collectionTranslation"".""collectionId"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""@lNB{]rm1kwfT)`z~VU]"">
                                <next>
                                  <block type=""targetcontext_append_row"" id=""]KIbO(@=ya6jB!~cLMiS""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""lH3==RLO;35]u.?uah5u"">
                                <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_arraystruct"" id=""7$`J.9qW|CqqxyedgJ-!"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                            <field name=""CONTEXT_SELECT"">categories  descriptions</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""WMH4J)Yw}zME)-n)QW,3"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""vHnV10mDQ%?kG.y9T.O;"">
                                    <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang, &amp;#10;translation.value as value &amp;#10;from &amp;#10;translation,""collectionTranslation"" &amp;#10;where&amp;#10;translation.id = ""collectionTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'body_html' &amp;#10;and &amp;#10;""collectionTranslation"".""collectionId"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_automap"" id=""~zgdt~u$y.Wy=^z,xf3W"">
                                    <next>
                                      <block type=""targetcontext_append_row"" id=""c0[m#-$nW*cAo~1VP=pV""></block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""Z`QcJn7I=/wS+@v+1XDI"">
                                    <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""targetcontext_arraystruct"" id=""=?I)Fj5knc#,C-tvzo=p"">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                <field name=""CONTEXT_SELECT"">categories  pageTitles</field>
                                <statement name=""CONTEXT_DO"">
                                  <block type=""sql_execute"" id=""aMGnuiO1C;?GxA_mjT(7"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id="":eWR,!PgAN6LP*^(wh5v"">
                                        <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang, &amp;#10;translation.value as value &amp;#10;from &amp;#10;translation,""collectionTranslation"" &amp;#10;where&amp;#10;translation.id = ""collectionTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'title' &amp;#10;and &amp;#10;""collectionTranslation"".""collectionId"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_automap"" id=""H=^8o~W$)/7MFNYJM}8M"">
                                        <next>
                                          <block type=""targetcontext_append_row"" id=""N2BmriDp(swfWawd8Xrj""></block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""ub?EipQ8p;YWr};`-Mjk"">
                                        <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type=""targetcontext_arraystruct"" id=""Jo)exoCU4e)*PiI=we8F"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                    <field name=""CONTEXT_SELECT"">categories  pageDescs</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id="")(lP%zIvbrQRdLKwXbNa"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""Gp3BV=P#8PO0e||Y;1x#"">
                                            <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang, &amp;#10;translation.value as value &amp;#10;from &amp;#10;translation,""collectionTranslation"" &amp;#10;where&amp;#10;translation.id = ""collectionTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'body_html' &amp;#10;and &amp;#10;""collectionTranslation"".""collectionId"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_automap"" id=""_QGvg{uK=AZN-L*IzSM1"">
                                            <next>
                                              <block type=""targetcontext_append_row"" id=""~Wb;tS#UDjXQ379R:oFY""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""g:KKd|l,A*d8OCc%Tih!"">
                                            <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""utLI0dz]yFX-R7Ki/Dam"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">categories  pageKeywords</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""xnAqKK3d]QI3:N9+mEO,"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""oV/thq6%~,k,+v+o?!@}"">
                                                <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang, &amp;#10;translation.value as value &amp;#10;from &amp;#10;translation,""collectionTranslation"" &amp;#10;where&amp;#10;translation.id = ""collectionTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'meta_description' &amp;#10;and &amp;#10;""collectionTranslation"".""collectionId"" = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""0I|7qVj|Hnm_n-%Qk.wW"">
                                                <next>
                                                  <block type=""targetcontext_append_row"" id=""H1)EcFA+]6NT]m=WR7,C""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""uzsU(5$20_H.NPkC=!@9"">
                                                <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type=""targetcontext_arraystruct"" id=""9_/CYNw%j4[Mo:q.S{:K"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                            <field name=""CONTEXT_SELECT"">categories  customAttributes</field>
                                            <statement name=""CONTEXT_DO"">
                                              <block type=""sql_execute"" id=""e4^EuH|dXmL18OKe,5|R"">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""Uwg$qj7?/8upD*+(QQ3x"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;metafield.id as attributeId, &amp;#10;metafield.key as value &amp;#10;from &amp;#10;metafield , ""collectionMetafield""&amp;#10;where &amp;#10;""ownerType"" = 'COLLECTION' &amp;#10;and &amp;#10;metafield.id = ""collectionMetafield"".""metafieldId"" &amp;#10;and &amp;#10;""collectionMetafield"".""collectionId"" = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_automap"" id=""T?`rCjKTWNUMRB)f?)/P"">
                                                    <next>
                                                      <block type=""targetcontext_append_row"" id=""WTKflbZ/v.[@u@6(9LFT"">
                                                        <next>
                                                          <block type=""targetcontext_array"" id=""H}uY+rE~H5BdAgV4GIq}"">
                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories  customAttributes""></mutation>
                                                            <field name=""CONTEXT_SELECT"">categories  customAttributes  values</field>
                                                            <statement name=""CONTEXT_DO"">
                                                              <block type=""sql_execute"" id=""D;4Pw0Ksi%]3y*0j#dTk"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""[p,=kZR[#Q-*4I8mHnfs"">
                                                                    <field name=""SQL_QUERY"">select m2.value as ""value"" &amp;#10;from ((collections c &amp;#10;inner join ""collectionMetafield"" cm &amp;#10;on c.id = cm.""collectionId"" )&amp;#10;inner join metafield m2 &amp;#10;on cm.""metafieldId"" = m2.id )&amp;#10;where c.id = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_automap"" id="")Q4~8a)OC`K@20cu].lG"">
                                                                    <next>
                                                                      <block type=""targetcontext_append_row"" id=""1L,i;p[cGmb5q0]*DW#4""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""M({O2dYZNwveXDFAaMc^"">
                                                                    <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""j#my^qA6yQbyi+dp2q20"">
                                                    <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""targetcontext_arraystruct"" id=""O4r[f9$npS}Wf/4,!EDm"">
                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                                <field name=""CONTEXT_SELECT"">categories  attributes</field>
                                                <statement name=""CONTEXT_DO"">
                                                  <block type=""sql_execute"" id=""/0,Lf{k0RkK~Ujs[`XE;"">
                                                    <mutation bindsCount=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""BBO/7)SrMd?It?$I,mq2"">
                                                        <field name=""SQL_QUERY"">select distinct ov2.value as ""size""&amp;#10;from ((((collections c &amp;#10;inner join ""productCollection"" pc &amp;#10;on c.id = pc.""collectionId"" )&amp;#10;inner join ""productOption"" po &amp;#10;on pc.""productId"" = po.""productId"" )&amp;#10;inner  join ""optionValues"" ov2 &amp;#10;on po.""optionId"" = ov2.""optionId"" )&amp;#10;inner join ""option"" o2 &amp;#10;on ov2.""optionId"" = o2.id )&amp;#10;where  o2.""name"" = 'Size' &amp;#10;and c.id = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_automap"" id=""{_Xj_%VLMUgX;}jD0Gb!"">
                                                        <next>
                                                          <block type=""targetcontext_append_row"" id=""={Iu?..K58r%p,c8!dg,""></block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id=""ifT*nOWJJsMY++$^IlB!"">
                                                        <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type=""sql_execute"" id=""TY!QM/.0FN4I%YjYkghU"">
                                                        <mutation bindsCount=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""+kN:tT}?!A6HjHf4^u`}"">
                                                            <field name=""SQL_QUERY"">select distinct ov2.value as ""color""&amp;#10;from ((((collections c &amp;#10;inner join ""productCollection"" pc &amp;#10;on c.id = pc.""collectionId"" )&amp;#10;inner join ""productOption"" po &amp;#10;on pc.""productId"" = po.""productId"" )&amp;#10;inner  join ""optionValues"" ov2 &amp;#10;on po.""optionId"" = ov2.""optionId"" )&amp;#10;inner join ""option"" o2 &amp;#10;on ov2.""optionId"" = o2.id )&amp;#10;where o2.""name"" = 'Color'&amp;#10;and c.id = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""targetcontext_automap"" id=""{ur~OP|:8S|9=N|o*.Q6"">
                                                            <next>
                                                              <block type=""targetcontext_append_row"" id=""cV:F+CL1lcb-OwJ61jLI""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""41shz~t9VA4`S:%~w_xj"">
                                                            <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type=""sql_execute"" id=""%NqJB!ztDzO:+f#UtNtd"">
                                                            <mutation bindsCount=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id=""s)#L_H7m|7,h,mKHG*vG"">
                                                                <field name=""SQL_QUERY"">select distinct p.vendor as ""brand""&amp;#10;from ((collections c &amp;#10;inner join ""productCollection"" pc &amp;#10;on c.id = pc.""collectionId"" )&amp;#10;inner join ""Products"" p &amp;#10;on pc.""productId"" = p.id )&amp;#10;where c.id = %s</field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""targetcontext_automap"" id=""BI.5)a.qw9!B/6p[|@mE"">
                                                                <next>
                                                                  <block type=""targetcontext_append_row"" id=""`77;U;B4jE5|!|}%D1@P""></block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get"" id=""YWeG`:BINE~oxa|P]rdm"">
                                                                <field name=""VAR"" id=""jh(aUU@U,E?xQj3$O$:n"">collectionid</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <next>
                                                  <block type=""targetcontext_save_row"" id=""LaCp(Zv%Lw.,##;}VbG:""></block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""initialization"" id=""d6*c_NyPJUG|wC4gOeD5"" x=""2538"" y=""88"">
    <statement name=""CODE"">
      <block type=""procedures_callnoreturn"" id=""5HCuCZI62+dK+AicvP8S"">
        <mutation name=""Prod_by_Size_Table""></mutation>
      </block>
    </statement>
  </block>
  <block type=""procedures_callnoreturn"" id=""yAU6M30r_a5jfam`+TA|"" disabled=""true"" x=""1538"" y=""163"">
    <mutation name=""Prod_by_color_Table""></mutation>
  </block>
  <block type=""procedures_defnoreturn"" id=""54*0LH8{$A03kNZT;Qb-"" disabled=""true"" x=""1568"" y=""216"">
    <field name=""NAME"">Prod_by_color_Table</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id="")83n.T-xHpRvX@5Z}t;W"">
        <field name=""CONTEXT_SELECT"">products_by_color</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id="":?lAoHKF1zDuU~w~xgU}"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="",xb;L=Mg3N@P%^dIc:Ji"">
                <field name=""SQL_QUERY"">select distinct p.id &amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""|VtMm8pfyOG~}S2mqY#b"">
                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""uiudcAZ3~k+B]9^d,mU="">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""XVOJaq4akdgGx9=:I1k("">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""o@]+*YohQ+}t/B]L*0Wp"">
                        <field name=""SQL_QUERY"">select distinct ov.value as  ""Color""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and p.id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""variables_set"" id=""}K{%?Ls{4[98CyE2R?!:"">
                        <field name=""VAR"" id=""(K/e)45TE:j~SHNa7U=."">Color</field>
                        <value name=""VALUE"">
                          <block type=""targetcontext_refer_columns"" id=""XN4e*(-p+Snf`FBvR{B8"">
                            <field name=""COLUMN"">Color</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""C}5zulS`4`h_6osh8;Ch"">
                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                      </block>
                    </value>
                    <next>
                      <block type=""sql_execute"" id=""EOy?X=`!/lml(vzR*4]H"">
                        <mutation bindsCount=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""9?(RT?I?MEvwp3O1gfb~"">
                            <field name=""SQL_QUERY"">select distinct v.id as ""prodbycolorId""&amp;#10;from (((variant v &amp;#10;inner join ""variantOption"" vo &amp;#10;on v.id = vo.""variantId"" )&amp;#10;inner join ""optionValues"" ov &amp;#10;on vo.""optionId"" = ov.""optionId"" )&amp;#10;inner join ""option"" o &amp;#10;on ov.""optionId"" = o.id )&amp;#10;where o.""name"" = 'Color'&amp;#10;and ov.value = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""variables_set"" id=""aOMq`@c0W_uUkWMkH#1T"">
                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                            <value name=""VALUE"">
                              <block type=""targetcontext_refer_columns"" id=""RVH-S{!D.#A|R^B;j09;"">
                                <field name=""COLUMN"">prodbycolorId</field>
                              </block>
                            </value>
                            <next>
                              <block type=""targetcontext_field"" id=""drPQh2]qUVKu6#c;VJaC"">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                <field name=""CONTEXT_SELECT"">products_by_color  prim_id</field>
                                <value name=""FIELD"">
                                  <block type=""text_join"" id=""0sD_UsvG,{k2}(}QOg9?"">
                                    <mutation items=""3""></mutation>
                                    <value name=""ADD0"">
                                      <block type=""variables_get"" id=""~IpF|xYoqT-~-uQ:*;Y+"">
                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                      </block>
                                    </value>
                                    <value name=""ADD1"">
                                      <block type=""text"" id=""gQt{aO?[X.!]?.k{TX%!"">
                                        <field name=""TEXT"">_</field>
                                      </block>
                                    </value>
                                    <value name=""ADD2"">
                                      <block type=""variables_get"" id=""`=.#?p#=0ZLQ0PA!2NU]"">
                                        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type=""sql_execute"" id=""Q!:@|Hy4B:Y2pp1R)wl6"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""^o5T?8aH9,/ZS:hkV}5H"">
                                        <field name=""SQL_QUERY"">select v.id as ""id"", &amp;#10;v.""stringId"" as ""prim_id"", &amp;#10;v.barcode as ""ean"",&amp;#10;v.""weightUnit"" as ""unit"",&amp;#10;v.barcode as ""upc"",&amp;#10;v.""displayName"" as ""name"",&amp;#10;v.title as ""shortDescription"",&amp;#10;p2.description as ""longDescription"",&amp;#10;v.""availableForSale"" as ""availableFlag"",&amp;#10;pm.""isPrivate"" as ""searchableFlag"",&amp;#10;v.""taxCode"" as ""taxClassId"",&amp;#10;p2.""SeoTitle"" as  ""pageKeyword"", &amp;#10;p2.""onlineStoreUrl"" as ""pageUrl"", &amp;#10;v.price as ""price"",&amp;#10;v.""inventoryQuantity"" as ""ats"",&amp;#10;iiuc.""currencyCode"" as ""currency"",&amp;#10;p2.""vendor"" as ""brand""&amp;#10;from (((variant v &amp;#10;inner join ""Products"" p2&amp;#10;on v.""productId"" = p2.id )&amp;#10;inner join ""InventoryItemsUnitCost"" iiuc &amp;#10;on v.""inventoryItemId"" = iiuc.id )&amp;#10;inner join ""productMetafield"" pm &amp;#10;on v.""productId"" = pm.""productId"" )&amp;#10;where v.id = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_automap"" id=""!wII/fS0Z}[6#?s@d%`B"">
                                        <next>
                                          <block type=""sql_execute"" id=""IGHTEm2N(q(KtUzRI1|W"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""]b;U@~{%v?E@$+w;z9Zh"">
                                                <field name=""SQL_QUERY"">select distinct p.id as masterid,&amp;#10;case &amp;#10;when p.id = v2.""productId"" then 'True'&amp;#10;end as ismaster &amp;#10;from ""Products"" p&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" &amp;#10;where v2.id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""VXJUGDg+D4YmKL-~z0A7""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""u:~bfYA^71NqAuR{q8YN"">
                                                <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type=""sql_execute"" id=""lnyhbcX/Lf.=ac-5k25`"">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""`TZ}EQ@}{xjeJSDlRu20"">
                                                    <field name=""SQL_QUERY"">select c.title as ""pageTitle"", c.""SeoDescription"" as  ""pageDesc"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productCollection"" pc &amp;#10;on p.id = pc.""productId"" )&amp;#10;inner join collections c &amp;#10;on pc.""collectionId"" = c.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_automap"" id=""y?oR(DYf7/_YT!5{Ly]!""></block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""4_1Us0QU%H_Y]=5I]?Ua"">
                                                    <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""targetcontext_array"" id=""k/}2-Y|[RH2Qes#IRXZZ"">
                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                    <field name=""CONTEXT_SELECT"">products_by_color  categories</field>
                                                    <statement name=""CONTEXT_DO"">
                                                      <block type=""sql_execute"" id=""JV+EtKi3%c!wa8QR|E7Y"">
                                                        <mutation bindsCount=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""O?Z6Gl)txb4@egy@]p_6"">
                                                            <field name=""SQL_QUERY"">select c.id as ""catalogId""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productCollection"" pc &amp;#10;on p.id = pc.""productId"" )&amp;#10;inner join collections c &amp;#10;on pc.""collectionId"" = c.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""targetcontext_append_row"" id=""RUsvEm/V*M.9=6xp!OJR"">
                                                            <next>
                                                              <block type=""targetcontext_automap"" id=""@$zCFMlcY(smv}*h2CFF""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id="".fTy^048wR)))irN_n7W"">
                                                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""sql_execute"" id=""Z|%C1g*=Dx_hi2rNmLT!"">
                                                        <mutation bindsCount=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""nHR(KEfE}A?oD}01DmI]"">
                                                            <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and v2.id = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""targetcontext_automap"" id=""GS7dN`4Rouj$PI?c_HkN""></block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""WHaA6aMqL@W)!}0ka+d%"">
                                                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type=""sql_execute"" id=""GC`i7fPu`T76sk)E}?]F"">
                                                            <mutation bindsCount=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id=""vO+_o-MVx%}dHsYP]|ft"">
                                                                <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""targetcontext_automap"" id=""T|yPG2^0?l%z;`kos]a=""></block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get"" id=""[Xxf.8/;M*fed6trxnIC"">
                                                                <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type=""targetcontext_arraystruct"" id=""W}CIb2m3#OEEC)qSa)+9"">
                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                <field name=""CONTEXT_SELECT"">products_by_color  shortDescriptions</field>
                                                                <statement name=""CONTEXT_DO"">
                                                                  <block type=""sql_execute"" id=""J#f1jIZJ$J0?VkPx.gvd"">
                                                                    <mutation bindsCount=""1""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""O!!]Dy~`2:D;g9h*5^I,"">
                                                                        <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'meta_title'&amp;#10;and v2.id = %s </field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""targetcontext_automap"" id=""-57bZbCI(3A~h-(Eb{eu"">
                                                                        <next>
                                                                          <block type=""targetcontext_append_row"" id=""IP5A~s}Nh|Kpe@jbir.P""></block>
                                                                        </next>
                                                                      </block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get"" id=""43Y#p{d?@18l]b#bf{t-"">
                                                                        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </statement>
                                                                <next>
                                                                  <block type=""targetcontext_arraystruct"" id=""hqiFV0,F`V*_^qcNw069"">
                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                    <field name=""CONTEXT_SELECT"">products_by_color  longDescriptions</field>
                                                                    <statement name=""CONTEXT_DO"">
                                                                      <block type=""sql_execute"" id=""wVA(O|V%h*f@Cv!N{,Y7"">
                                                                        <mutation bindsCount=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""m2cFxvzcT/Hj}`ol(6C9"">
                                                                            <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'meta_description'&amp;#10;and v2.id = %s </field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""targetcontext_automap"" id=""[n6jFqr5=v:D4*4zllN%"">
                                                                            <next>
                                                                              <block type=""targetcontext_append_row"" id=""_[{9/:8G6Rm`t/nAB`tz""></block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get"" id=""9:-WSQH[-+,4$1*4s*}."">
                                                                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </statement>
                                                                    <next>
                                                                      <block type=""targetcontext_arraystruct"" id=""+Y0]#3R^%[a]%m.7F,cd"">
                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                        <field name=""CONTEXT_SELECT"">products_by_color  pageTitles</field>
                                                                        <statement name=""CONTEXT_DO"">
                                                                          <block type=""sql_execute"" id=""`woR9Zo#G[rsxmBbu2l."">
                                                                            <mutation bindsCount=""1""></mutation>
                                                                            <value name=""SQL_QUERY"">
                                                                              <block type=""sql_query"" id=""Y4xV9ML:(_p)[u[TC:,u"">
                                                                                <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'title'&amp;#10;and v2.id = %s </field>
                                                                              </block>
                                                                            </value>
                                                                            <statement name=""DO"">
                                                                              <block type=""targetcontext_automap"" id=""Viu=pg_GGmVMI`ZT^8wA"">
                                                                                <next>
                                                                                  <block type=""targetcontext_append_row"" id=""|Ck$M^WXB)cc6]fEZU!-""></block>
                                                                                </next>
                                                                              </block>
                                                                            </statement>
                                                                            <value name=""SQLOPTION1"">
                                                                              <block type=""variables_get"" id=""T]ux?yI5yA0ZPZ)_G82,"">
                                                                                <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                              </block>
                                                                            </value>
                                                                          </block>
                                                                        </statement>
                                                                        <next>
                                                                          <block type=""targetcontext_arraystruct"" id=""%P=SPh!qJ0DXLtBi4_ky"">
                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                            <field name=""CONTEXT_SELECT"">products_by_color  pageDescs</field>
                                                                            <statement name=""CONTEXT_DO"">
                                                                              <block type=""sql_execute"" id=""-c^l!f4WA2PQhzg{:ueW"">
                                                                                <mutation bindsCount=""1""></mutation>
                                                                                <value name=""SQL_QUERY"">
                                                                                  <block type=""sql_query"" id=""[o,)pr~K?oVLEekq[#T-"">
                                                                                    <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'body_html'&amp;#10;and v2.id = %s </field>
                                                                                  </block>
                                                                                </value>
                                                                                <statement name=""DO"">
                                                                                  <block type=""targetcontext_automap"" id=""T^W:7[{(lW$Xj`kX{@lF"">
                                                                                    <next>
                                                                                      <block type=""targetcontext_append_row"" id=""bZ?.C.+;uzI=7Q6qg1kz""></block>
                                                                                    </next>
                                                                                  </block>
                                                                                </statement>
                                                                                <value name=""SQLOPTION1"">
                                                                                  <block type=""variables_get"" id=""x$i#?7R|*CEf:`3zDWj,"">
                                                                                    <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                  </block>
                                                                                </value>
                                                                              </block>
                                                                            </statement>
                                                                            <next>
                                                                              <block type=""targetcontext_arraystruct"" id=""!A:yeS8pyRt557HfU,sl"">
                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                <field name=""CONTEXT_SELECT"">products_by_color  pageKeywords</field>
                                                                                <statement name=""CONTEXT_DO"">
                                                                                  <block type=""sql_execute"" id=""wCtF`$ahTP2N#xKn;N+o"">
                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id=""Dl]9/~(FqK9^J%W]f!NV"">
                                                                                        <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'meta_description'&amp;#10;and v2.id = %s </field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""targetcontext_automap"" id=""{!zw;fxg}~_E!cZr@sIk"">
                                                                                        <next>
                                                                                          <block type=""targetcontext_append_row"" id=""O]`@XqIrXG2eZOJ,/A$l""></block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get"" id=""$Me@n6#ne?zdjF*YREq]"">
                                                                                        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                                <next>
                                                                                  <block type=""targetcontext_arraystruct"" id=""BH}dvcT6HkO}zMCC2o6("">
                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                    <field name=""CONTEXT_SELECT"">products_by_color  customAttributes</field>
                                                                                    <statement name=""CONTEXT_DO"">
                                                                                      <block type=""sql_execute"" id=""ysP~g2o=;H./uwZC9!?6"">
                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""u?Sz(Tby}2lU^7G+rgZx"">
                                                                                            <field name=""SQL_QUERY"">select m.id as ""attributeId"", m.value as ""value"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id) &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""targetcontext_automap"" id=""S9yMev8zjRk?6Um.QFmk"">
                                                                                            <next>
                                                                                              <block type=""targetcontext_append_row"" id=""xXp;Bwq2fgifepRSQC39"">
                                                                                                <next>
                                                                                                  <block type=""targetcontext_array"" id=""(wu.7EJK@b~yeAv$JdMp"">
                                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color  customAttributes""></mutation>
                                                                                                    <field name=""CONTEXT_SELECT"">products_by_color  customAttributes  values</field>
                                                                                                    <statement name=""CONTEXT_DO"">
                                                                                                      <block type=""sql_execute"" id=""kOuRS!-AL;Io$^XrIu:^"">
                                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""%!G),F;J#VO*y36~U0Wj"">
                                                                                                            <field name=""SQL_QUERY"">select m.value as ""value"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id) &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""targetcontext_automap"" id=""`+nSvFrklzTnMcSf^5uP"">
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_append_row"" id=""W(Xj,y:yM!Cu(_:1Nr{P""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""{R[nCG_OO@%zjaCTpzgg"">
                                                                                                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get"" id=""+?tn6Uvu~:-S,.+R@7O!"">
                                                                                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                          </block>
                                                                                        </value>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <next>
                                                                                      <block type=""targetcontext_arraystruct"" id=""|oMyW`CY`Is[)6=i9-,v"">
                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                        <field name=""CONTEXT_SELECT"">products_by_color  attributes</field>
                                                                                        <statement name=""CONTEXT_DO"">
                                                                                          <block type=""sql_execute"" id=""wz(E-JUzU}2bBHS$:gZ$"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""kIG8nt~qTU[3Kr^c{+@k"">
                                                                                                <field name=""SQL_QUERY"">select m.id as ""attributeId"",v2.id as ""variationAttributeId"", p.handle as ""name""&amp;#10;from ((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId""&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id )&amp;#10;where v2.id = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""targetcontext_automap"" id=""[?a)AMXWde!/I*6#AY5j"">
                                                                                                <next>
                                                                                                  <block type=""targetcontext_append_row"" id=""y[07~np$;T,%a]0LD]w*"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_arraystruct"" id=""5m(3HkE;q?++G__nT%/l"">
                                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color  attributes""></mutation>
                                                                                                        <field name=""CONTEXT_SELECT"">products_by_color  attributes  values</field>
                                                                                                        <statement name=""CONTEXT_DO"">
                                                                                                          <block type=""sql_execute"" id=""5R*zQ||z_JuwQfW)z|%R"">
                                                                                                            <value name=""SQL_QUERY"">
                                                                                                              <block type=""sql_query"" id=""pDo$GEiX:F[f7]Vvz-7N"">
                                                                                                                <field name=""SQL_QUERY"">select o.""name"" as ""atrid""&amp;#10;from ""option"" o </field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""variables_set"" id=""q38CdC#Hx4q]YZoP?-rH"">
                                                                                                                <field name=""VAR"" id=""hTGz$1QKQP/-Vpz8_1G|"">atrid</field>
                                                                                                                <value name=""VALUE"">
                                                                                                                  <block type=""targetcontext_refer_columns"" id=""FVLRqTWf:%-PcNu9-J])"">
                                                                                                                    <field name=""COLUMN"">atrid</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type=""sql_execute"" id=""-PpQQMP`74~`1z/nwC12"">
                                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                                    <value name=""SQL_QUERY"">
                                                                                                                      <block type=""sql_query"" id=""mm:hh?!^5QYxz~%o~rP_"">
                                                                                                                        <field name=""SQL_QUERY"">select distinct ov.value as ""value"", ov.value as ""displayValue"", t.locale as ""lang""&amp;#10;from (((((""Products"" p&amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on o.id = po.""optionId"" )&amp;#10;inner join ""optionValues"" ov &amp;#10;on po.""optionId"" = ov.""optionId"" )&amp;#10;inner join ""productOptionTranslation"" pot &amp;#10;on po.""optionId"" = pot.""productOptionId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pot.""translationId"" = t.id )&amp;#10;where o.""name"" = 'Color'</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <statement name=""DO"">
                                                                                                                      <block type=""targetcontext_automap"" id=""CG4tY3o]v-;4n1sCj{uA"">
                                                                                                                        <next>
                                                                                                                          <block type=""targetcontext_append_row"" id=""B_gQ3@O@52mAoIxUgSck""></block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </statement>
                                                                                                                    <value name=""SQLOPTION1"">
                                                                                                                      <block type=""variables_get"" id="";A4,p/hJx40Njp_g_Ph!"">
                                                                                                                        <field name=""VAR"" id=""hTGz$1QKQP/-Vpz8_1G|"">atrid</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""C~FiIl5b7n)4tSpIZn7U"">
                                                                                                <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <next>
                                                                                          <block type=""targetcontext_arraystruct"" id=""J.qpy?:NoKflP5#5!bRg"">
                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                            <field name=""CONTEXT_SELECT"">products_by_color  imageGroups</field>
                                                                                            <statement name=""CONTEXT_DO"">
                                                                                              <block type=""sql_execute"" id=""M_INBfqI-!Qe7*dEFwbu"">
                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""-Py$LqUwPTmW3?WTPrB/"">
                                                                                                    <field name=""SQL_QUERY"">select i.""transformedSrc"" as ""viewType"", i.""altText"" as ""variationValue""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productImage"" pi2 &amp;#10;on p.id = pi2.""productId"" )&amp;#10;inner join image i &amp;#10;on pi2.""imageId"" = i.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""targetcontext_append_row"" id=""t+(~anL..wqdW*N;3yvz"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_automap"" id=""Pwi1a@l!PHIz=M($Uar#"">
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_arraystruct"" id="",^f4{I9Zvk|VJRdkPZa;"">
                                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color  imageGroups""></mutation>
                                                                                                            <field name=""CONTEXT_SELECT"">products_by_color  imageGroups  images</field>
                                                                                                            <statement name=""CONTEXT_DO"">
                                                                                                              <block type=""sql_execute"" id=""lr|Xn}jW6rhtSqTdm}I["">
                                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""TQ@)w{E$slau,]~GFBaa"">
                                                                                                                    <field name=""SQL_QUERY"">select i.""originalSrc"" as ""path"", i.""altText"" as ""alt"",p.title as ""title""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productImage"" pi2 &amp;#10;on p.id = pi2.""productId"" )&amp;#10;inner join image i &amp;#10;on pi2.""imageId"" = i.id )&amp;#10;inner  join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where v2.id = %s</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""targetcontext_append_row"" id=""?RGY.uf@FA.ZatOp5vcB"">
                                                                                                                    <next>
                                                                                                                      <block type=""targetcontext_automap"" id=""JL[sQ3YCm5,Ot,|bZNmL""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                  <block type=""variables_get"" id=""#$vn/NNNWu(~[/MAd/RQ"">
                                                                                                                    <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id="";J1IZd-Ei@?rBUsr.^,o"">
                                                                                                    <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <next>
                                                                                              <block type=""targetcontext_struct"" id=""uhC.%!Mqvsg}pGJ$]Y/h"">
                                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                                <field name=""CONTEXT_SELECT"">products_by_color  inventory</field>
                                                                                                <statement name=""CONTEXT_DO"">
                                                                                                  <block type=""sql_execute"" id=""y$FA^]9-hhe]m3VUc{XC"">
                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                    <value name=""SQL_QUERY"">
                                                                                                      <block type=""sql_query"" id=""7vr,Schy7o}[E4_FASPt"">
                                                                                                        <field name=""SQL_QUERY"">select ii.""createdAt"" as ""allocationTimestamp"", v.""inventoryQuantity"" as ""ats"", v.""availableForSale"" as ""perpetual""&amp;#10;from ((""Products"" p2 &amp;#10;inner join variant v &amp;#10;on p2.id = v.""productId"" )&amp;#10;inner join ""InventoryItems"" ii &amp;#10;on v.""inventoryItemId"" = ii.id )&amp;#10;where v.id = %s</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""targetcontext_append_row"" id=""q$31n??MI4XOlDrf_ruH"">
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_automap"" id=""y05@^}Tie%00*ftZ_.tN""></block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                    <value name=""SQLOPTION1"">
                                                                                                      <block type=""variables_get"" id=""*cCH#5@hHVARDzso6xpQ"">
                                                                                                        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <next>
                                                                                                  <block type=""targetcontext_arraystruct"" id=""O@{oq+@NkPZB}K;fl@O0"">
                                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                                    <field name=""CONTEXT_SELECT"">products_by_color  variants</field>
                                                                                                    <statement name=""CONTEXT_DO"">
                                                                                                      <block type=""sql_execute"" id=""G8ys{]6=_R}=#;M*HtKS"">
                                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""6:B4EmkPyk%|,tV]d;Yd"">
                                                                                                            <field name=""SQL_QUERY"">select v.id as ""id"", v.price as ""price"" , v.""inventoryQuantity"" as ""ats"" &amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId""&amp;#10;where v.id = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""targetcontext_append_row"" id=""*JWb@~[*]WFQ=u~{Q7L_"">
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_automap"" id="".nd1jCR+Nelg(ZcmfWl9""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""ezhVV]z-toW]XBifI/Gj"">
                                                                                                            <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type=""sql_execute"" id=""3)X[T.idY2r=~Z2Eg_|E"">
                                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                                            <value name=""SQL_QUERY"">
                                                                                                              <block type=""sql_query"" id="".9C,24-/fHccBv26DGXN"">
                                                                                                                <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and v2.id = %s</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""targetcontext_append_row"" id="".E6I:3Dffal/`9.[1U{y"">
                                                                                                                <next>
                                                                                                                  <block type=""targetcontext_automap"" id=""]f18:=?r7[luaS{/~?J9""></block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                            <value name=""SQLOPTION1"">
                                                                                                              <block type=""variables_get"" id=""}Tj-Yqi;K{)kz$^pX+P-"">
                                                                                                                <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <next>
                                                                                                              <block type=""sql_execute"" id=""X@8VK-lG-VZe*;v2ca,V"">
                                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""Iq/3tIi^.m%)Q#ZpHgi_"">
                                                                                                                    <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""targetcontext_append_row"" id=""y?3Cc,Q[S;b;oF6^jyZ9"">
                                                                                                                    <next>
                                                                                                                      <block type=""targetcontext_automap"" id=""31$^go4|6XB+)GFcJP-Y""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                  <block type=""variables_get"" id=""i$7H|~zE_iMTpL65H~S;"">
                                                                                                                    <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type=""sql_execute"" id=""PLa?Cz5ALJ%rAQ0xn#.c"">
                                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                                    <value name=""SQL_QUERY"">
                                                                                                                      <block type=""sql_query"" id=""fK.?0QBDsECT@30umWHj"">
                                                                                                                        <field name=""SQL_QUERY"">select distinct ov.value as  ""mainColor""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <statement name=""DO"">
                                                                                                                      <block type=""targetcontext_append_row"" id=""^Uc@Kba_$K2-a+Q|Ll*Q"">
                                                                                                                        <next>
                                                                                                                          <block type=""targetcontext_automap"" id=""Dc0;oTkbw4:,a!69E)X=""></block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </statement>
                                                                                                                    <value name=""SQLOPTION1"">
                                                                                                                      <block type=""variables_get"" id=""vZ$T#m9W0f/c#8oD^Ur~"">
                                                                                                                        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_array"" id=""2_6oN+`$QxgoE.Y-|Wab"">
                                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                                        <field name=""CONTEXT_SELECT"">products_by_color  sizes</field>
                                                                                                        <statement name=""CONTEXT_DO"">
                                                                                                          <block type=""sql_execute"" id=""uiJ,uD+:2_6|;q1IO`W5"">
                                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                                            <value name=""SQL_QUERY"">
                                                                                                              <block type=""sql_query"" id=""Z5K$XZ~1^!,}a]ooct,e"">
                                                                                                                <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and v2.id = %s</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""targetcontext_append_row"" id=""t(3akNj%N?Sd3O8_`rlN"">
                                                                                                                <next>
                                                                                                                  <block type=""targetcontext_automap"" id=""GhkoMTTNw7q4lu{q,e^M""></block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                            <value name=""SQLOPTION1"">
                                                                                                              <block type=""variables_get"" id="";=n{POBX|it/q4Y`ZUFW"">
                                                                                                                <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_array"" id=""gD~kKfHj^Q76-#H*fufH"">
                                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_color""></mutation>
                                                                                                            <field name=""CONTEXT_SELECT"">products_by_color  colors</field>
                                                                                                            <statement name=""CONTEXT_DO"">
                                                                                                              <block type=""sql_execute"" id=""Oc;CTLlqY/2vTV^.fMTE"">
                                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""]0!JL6x,KMaqi*N%av4p"">
                                                                                                                    <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""targetcontext_append_row"" id=""u1hXaq/[eYj_`c[6GCRl"">
                                                                                                                    <next>
                                                                                                                      <block type=""targetcontext_automap"" id=""h{@yL-JFF,M_F}U+w(),""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                  <block type=""variables_get"" id=""?5d]+=jF0^XEBAtjUz5L"">
                                                                                                                    <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""^ndOtR/Qo41QuF4z]nYR"">
                                        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""targetcontext_save_row"" id=""z|(^g*yB$X:wRG:n_Ta8""></block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""H|d0=SC$[C_w-28eoA^h"">
                            <field name=""VAR"" id=""(K/e)45TE:j~SHNa7U=."">Color</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""Ujt(MOq}mm/zowTbJ-O)"" disabled=""true"" x=""-688"" y=""368"">
    <field name=""NAME"">ProductTable</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""ixLB[(BOVDV:NHZUGf,4"">
        <field name=""CONTEXT_SELECT"">products</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""8.N[NfVaxTNC^DYi)`2|"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""#H*jq9Du!5C]G7yp_C$V"">
                <field name=""SQL_QUERY"">select &amp;#10;""Products"".""id"" as id, &amp;#10;""Products"".""stringId"" as prim_id, &amp;#10;""Products"".""handle"" as name,  &amp;#10;""Products"".""tracksInventory"" as availableFlag, &amp;#10;""Products"".""description"" as pageDesc, &amp;#10;""Products"".""SeoTitle"" as pageKeyword, &amp;#10;""Products"".""onlineStoreUrl"" as pageUrl,  &amp;#10;""Products"".""storefrontId"" as catalogId, &amp;#10;""Products"".""totalInventory"" as ats, &amp;#10;""Products"".""vendor"" as brand &amp;#10;from  &amp;#10;""Products""</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""targetcontext_automap"" id=""T~+VLVBaO=Oe?LpEV[ks"">
                <next>
                  <block type=""variables_set"" id=""V7~KXo[^LqUVvzaL:D1."">
                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                    <value name=""VALUE"">
                      <block type=""targetcontext_refer_columns"" id=""s|Qx(J4vTJ%qP=tv]W#]"">
                        <field name=""COLUMN"">id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""sql_execute"" id=""efN}GS,Ll5~d7v,Epjp,"">
                        <mutation bindsCount=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""]({r%=+!0qg-5Dk.w3l@"">
                            <field name=""SQL_QUERY"">select distinct p.id as masterid,&amp;#10;case &amp;#10;when p.id = v2.""productId"" then 'True'&amp;#10;end as ismaster &amp;#10;from ""Products"" p&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" &amp;#10;where p.id = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""targetcontext_automap"" id=""0uKYKD~pfMhRh5/j`_x$""></block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""/iJCiF)+0F4G+evZ:r1,"">
                            <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                          </block>
                        </value>
                        <next>
                          <block type=""sql_execute"" id=""4e3wp[*bl7PvZh7Y/SuK"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""mMUB{{PL[eX[1XQtrWtK"">
                                <field name=""SQL_QUERY"">select v.barcode as ""ean"",v.barcode as ""upc""&amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" &amp;#10;where p.id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""GAXHE^iSfuX}OOBqo3Z^""></block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""Hd53]bM0kpvUVaW!DY*d"">
                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                              </block>
                            </value>
                            <next>
                              <block type=""sql_execute"" id=""QcxHN%NS@C@4*%vL--t9"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""BP/aeQq7A19?%pxWF1Af"">
                                    <field name=""SQL_QUERY"">select v.price as ""price"" &amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" &amp;#10;where p.id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_automap"" id=""#fs9Z*bfa1rW:AyOSAFl""></block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""_4BVP82%b:Ovr8ElcVi9"">
                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""sql_execute"" id=""[Rh5T_B|,/KKNI(t96V]"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""vbDr@oq=9t#zWV?WCy=b"">
                                        <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and p.id = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_automap"" id=""L7?~H.N+0|BR_?}Pqb!v""></block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""IZZ.s4H;Vc4$}L1l=FKW"">
                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""sql_execute"" id=""z{+]LSZ`ojMH{qx$79(L"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""w]h@9aptu8(P}i|=*TSx"">
                                            <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and p.id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_automap"" id=""BNn05n|n)(t=}6SrK#pC""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""ma!$#ghAZY.[n9+VQ6*{"">
                                            <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""targetcontext_arraystruct"" id=""-5FTs/TI;)y0zc18SLJf"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                            <field name=""CONTEXT_SELECT"">products  shortDescriptions</field>
                                            <statement name=""CONTEXT_DO"">
                                              <block type=""sql_execute"" id=""i]~r^-49JAd,n{g_8f%Q"">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id="":^[,0AA?0jBPVaFrXf~E"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang,&amp;#10;translation.value as value &amp;#10;from &amp;#10;translation, ""productTranslation"" &amp;#10;where &amp;#10;translation.id = ""productTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'body_html' &amp;#10;and &amp;#10;""productTranslation"".""productId"" = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_automap"" id=""A-W%{yHYq{+!zM4|P+g~"">
                                                    <next>
                                                      <block type=""targetcontext_append_row"" id=""WSmWH}nK;wM|-h[c#1v2""></block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""[;,sFFr8;R=n]GN+G9;["">
                                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""targetcontext_arraystruct"" id=""$V~fuFCeE5g9./2LA,kC"">
                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                <field name=""CONTEXT_SELECT"">products  longDescriptions</field>
                                                <statement name=""CONTEXT_DO"">
                                                  <block type=""sql_execute"" id="";d,GD7U+xXhg):1jx4rA"">
                                                    <mutation bindsCount=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id="",93=Hw,N{{v0$!6HhfoK"">
                                                        <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang,&amp;#10;translation.value as value &amp;#10;from &amp;#10;translation, ""productTranslation"" &amp;#10;where &amp;#10;translation.id = ""productTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'body_html' &amp;#10;and &amp;#10;""productTranslation"".""productId"" = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_automap"" id=""eTUdTC%5u!h7XE2{R9Wy"">
                                                        <next>
                                                          <block type=""targetcontext_append_row"" id=""2l6K#x)2vWIyj(JDdVzf""></block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id=""g=C$#yOBef:1U2VuHlFf"">
                                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </statement>
                                                <next>
                                                  <block type=""targetcontext_arraystruct"" id=""qP[VIY:/fJd^wmZ,]xyj"">
                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                    <field name=""CONTEXT_SELECT"">products  pageTitles</field>
                                                    <statement name=""CONTEXT_DO"">
                                                      <block type=""sql_execute"" id="".atveDI;2mzv$A$s$d9~"">
                                                        <mutation bindsCount=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""2HXPLCt]SqYL:o5#1|jf"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang,&amp;#10;translation.value as value &amp;#10;from &amp;#10;translation, ""productTranslation"" &amp;#10;where &amp;#10;translation.id = ""productTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'title' &amp;#10;and &amp;#10;""productTranslation"".""productId"" = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""targetcontext_automap"" id=""FI}^X*I$Ikhy(7Qe[},g"">
                                                            <next>
                                                              <block type=""targetcontext_append_row"" id=""*,,4=F7LoJWY^0Bt5Ego""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""21v]0T|NBJlG|rj*,{40"">
                                                            <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""targetcontext_arraystruct"" id=""e8U%-qwLc6_]=!`_81[{"">
                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                        <field name=""CONTEXT_SELECT"">products  pageDescs</field>
                                                        <statement name=""CONTEXT_DO"">
                                                          <block type=""sql_execute"" id=""Ly@;tY8QdGlKu2fe2f]`"">
                                                            <mutation bindsCount=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id=""7JW.8Y6G]m#3O,rI:*7x"">
                                                                <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang,&amp;#10;translation.value as value &amp;#10;from &amp;#10;translation, ""productTranslation"" &amp;#10;where &amp;#10;translation.id = ""productTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'body_html' &amp;#10;and &amp;#10;""productTranslation"".""productId"" = %s</field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""targetcontext_automap"" id=""kUOUMA_wZa2~MqtWHHMm"">
                                                                <next>
                                                                  <block type=""targetcontext_append_row"" id=""t+d3.GLH,Bm!zwScwlQp""></block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get"" id=""HxTi=qZQCxC5iZ:EyI%W"">
                                                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </statement>
                                                        <next>
                                                          <block type=""targetcontext_arraystruct"" id=""R[AYkHZ99H,Xo/zt}=pR"">
                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                            <field name=""CONTEXT_SELECT"">products  pageKeywords</field>
                                                            <statement name=""CONTEXT_DO"">
                                                              <block type=""sql_execute"" id=""l2Gb?hmW.u_3?eN!;~vd"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""~FPVVr={@5x{?-TLqFiT"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;translation.locale as lang,&amp;#10;translation.value as value &amp;#10;from &amp;#10;translation, ""productTranslation"" &amp;#10;where &amp;#10;translation.id = ""productTranslation"".""translationId"" &amp;#10;and &amp;#10;translation.key = 'meta_description' &amp;#10;and &amp;#10;""productTranslation"".""productId"" = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_automap"" id=""W;BJNCVaKdIV+C}#?JM,"">
                                                                    <next>
                                                                      <block type=""targetcontext_append_row"" id=""J8=Jm+H];qSY{o-,RE{p""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""?J2!N/eK(h~39kRz_~An"">
                                                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                            <next>
                                                              <block type=""targetcontext_arraystruct"" id=""qNa]@XN?sWJ9yOIe2NgD"">
                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                <field name=""CONTEXT_SELECT"">products  customAttributes</field>
                                                                <statement name=""CONTEXT_DO"">
                                                                  <block type=""sql_execute"" id=""fx8g-o9.vd%!W)?l{+yT"">
                                                                    <mutation bindsCount=""1""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""gAZG+ZcBXS2l+Y.A3343"">
                                                                        <field name=""SQL_QUERY"">select &amp;#10;metafield.id as attributeId, &amp;#10;metafield.key as value &amp;#10;from &amp;#10;metafield , ""productMetafield""&amp;#10;where &amp;#10;""ownerType"" = 'PRODUCT' &amp;#10;and &amp;#10;metafield.id = ""productMetafield"".""metafieldId"" &amp;#10;and &amp;#10;""productMetafield"".""productId"" = %s</field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""targetcontext_automap"" id=""N$Z|0.cfvB~y6Lt^/ex2"">
                                                                        <next>
                                                                          <block type=""targetcontext_append_row"" id="":{kK1~zHRNi/pd!3;t7W"">
                                                                            <next>
                                                                              <block type=""targetcontext_array"" id=""E,3k*K7:cP7TS.:/ZZNG"">
                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  customAttributes""></mutation>
                                                                                <field name=""CONTEXT_SELECT"">products  customAttributes  values</field>
                                                                                <statement name=""CONTEXT_DO"">
                                                                                  <block type=""sql_execute"" id=""LvZxzFf)$]tzVS@RL5hY"">
                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id=""kjt{LZTbTYD|~?~pj@n@"">
                                                                                        <field name=""SQL_QUERY"">select m.value as ""value"" &amp;#10;from ((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id)&amp;#10;where p.id = %s</field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""targetcontext_automap"" id=""bBT_VEp])(-T+{/Z++#B"">
                                                                                        <next>
                                                                                          <block type=""targetcontext_append_row"" id=""1k/#:i.G|2UmJ}[RzCns""></block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get"" id=""s$u!Da?:a*#Npj!MqZOQ"">
                                                                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get"" id=""`g9.1H`3y_0_19Q[X[E8"">
                                                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </statement>
                                                                <next>
                                                                  <block type=""targetcontext_array"" id=""pO=/9Q~)M~q@+Ym8sX|^"">
                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                    <field name=""CONTEXT_SELECT"">products  categories</field>
                                                                    <statement name=""CONTEXT_DO"">
                                                                      <block type=""sql_execute"" id=""5:+oFZ][nm[=m:a$v~r@"">
                                                                        <mutation bindsCount=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""cx2A30PO4L/.Mnb#CKMe"">
                                                                            <field name=""SQL_QUERY"">select&amp;#10;""collectionId"" as categories&amp;#10;from &amp;#10;""productCollection""&amp;#10;where &amp;#10;""productCollection"".""productId"" = %s</field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""targetcontext_automap"" id=""[n%,?^x%]`H]8Dnza4.]"">
                                                                            <next>
                                                                              <block type=""targetcontext_append_row"" id=""r$?t:{#HHBTn[4j-#Q9.""></block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get"" id=""$um~y.%(u6Z_;I;k!zI3"">
                                                                            <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </statement>
                                                                    <next>
                                                                      <block type=""targetcontext_arraystruct"" id=""bl5WUcj]X3Sx6fR(3L!y"">
                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                        <field name=""CONTEXT_SELECT"">products  attributes</field>
                                                                        <statement name=""CONTEXT_DO"">
                                                                          <block type=""sql_execute"" id=""v81E(Zrs],cWV-wxmbrn"">
                                                                            <mutation bindsCount=""1""></mutation>
                                                                            <value name=""SQL_QUERY"">
                                                                              <block type=""sql_query"" id="":EMEEh]Pu0do3LzuNktr"">
                                                                                <field name=""SQL_QUERY"">select m.id as ""attributeId"",v2.id as ""variationAttributeId"", p.handle as ""name""&amp;#10;from ((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId""&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id )&amp;#10;where p.id = %s</field>
                                                                              </block>
                                                                            </value>
                                                                            <statement name=""DO"">
                                                                              <block type=""targetcontext_append_row"" id=""7{v8xe79.:X,DoTHqyXR"">
                                                                                <next>
                                                                                  <block type=""targetcontext_automap"" id=""e0VYZjBe.+]VzuyWEhh/"">
                                                                                    <next>
                                                                                      <block type=""targetcontext_arraystruct"" id="".cBQ=_rY@X97o0)|}yR9"">
                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  attributes""></mutation>
                                                                                        <field name=""CONTEXT_SELECT"">products  attributes  values</field>
                                                                                        <statement name=""CONTEXT_DO"">
                                                                                          <block type=""sql_execute"" id=""/v6ELWzT_TjaC:!644}F"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""`9pW?ed7z/pJLJm@RJ+%"">
                                                                                                <field name=""SQL_QUERY"">&amp;#10;select ov.value as ""value"", ov.value as ""displayValue"", t.locale as""lang""&amp;#10;from (((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""optionValues"" ov &amp;#10;on po.""optionId"" = ov.""optionId"" )&amp;#10;inner join ""productOptionTranslation"" pot &amp;#10;on po.""optionId"" = pot.""productOptionId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pot.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where p.id = '5786460913832'</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""targetcontext_append_row"" id=""o1U]s-W{B*u0D$,tbw4E"">
                                                                                                <next>
                                                                                                  <block type=""targetcontext_automap"" id=""!I:0KAcevYxx5~cI7n_k""></block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""EvqA]n+Ebd:8sbM+|hd-"">
                                                                                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </statement>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </statement>
                                                                            <value name=""SQLOPTION1"">
                                                                              <block type=""variables_get"" id=""01Y#5^M(On~6sY+T%k[k"">
                                                                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                              </block>
                                                                            </value>
                                                                          </block>
                                                                        </statement>
                                                                        <next>
                                                                          <block type=""targetcontext_arraystruct"" id=""}*^e3?=-:*_5(p7~)v91"">
                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                            <field name=""CONTEXT_SELECT"">products  imageGroups</field>
                                                                            <statement name=""CONTEXT_DO"">
                                                                              <block type=""sql_execute"" id=""$3i/W~JL~U*D6%^ECG(D"">
                                                                                <mutation bindsCount=""1""></mutation>
                                                                                <value name=""SQL_QUERY"">
                                                                                  <block type=""sql_query"" id=""%XBH2:X[7`fKX6ecJ6#r"">
                                                                                    <field name=""SQL_QUERY"">select i.""transformedSrc"" as ""viewType"", i.""altText"" as ""variationValue""&amp;#10;from ((""Products"" p &amp;#10;inner join ""productImage"" pi2 &amp;#10;on p.id = pi2.""productId"" )&amp;#10;inner join image i &amp;#10;on pi2.""imageId"" = i.id )&amp;#10;where p.id = %s </field>
                                                                                  </block>
                                                                                </value>
                                                                                <statement name=""DO"">
                                                                                  <block type=""targetcontext_append_row"" id=""l)[!9+91T-sNf7[b/KBM"">
                                                                                    <next>
                                                                                      <block type=""targetcontext_automap"" id=""8qq)xM*f.aJ8YwPrGP.v"">
                                                                                        <next>
                                                                                          <block type=""targetcontext_arraystruct"" id=""nwqVV.moM:@Au,D^JPB4"">
                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  imageGroups""></mutation>
                                                                                            <field name=""CONTEXT_SELECT"">products  imageGroups  images</field>
                                                                                            <statement name=""CONTEXT_DO"">
                                                                                              <block type=""sql_execute"" id=""t5%7c`h#bn-mM`NG5;C,"">
                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""S3jZ4[QJ^i9VeES%,o$?"">
                                                                                                    <field name=""SQL_QUERY"">select i.""originalSrc"" as ""path"", i.""altText"" as ""alt"",p.title as ""title""&amp;#10;from ((""Products"" p &amp;#10;inner join ""productImage"" pi2 &amp;#10;on p.id = pi2.""productId"" )&amp;#10;inner join image i &amp;#10;on pi2.""imageId"" = i.id )&amp;#10;where p.id = %s </field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""targetcontext_append_row"" id=""bJm?;zn[*cc$!FN]/3,j"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_automap"" id=""9vx)CP8SeLmc]6nrAyo[""></block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id=""?jSN^R[*64N4{VuxTFAu"">
                                                                                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                              </block>
                                                                                            </statement>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </statement>
                                                                                <value name=""SQLOPTION1"">
                                                                                  <block type=""variables_get"" id=""IMpIk*z8yL-g)%K9d7(-"">
                                                                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                  </block>
                                                                                </value>
                                                                              </block>
                                                                            </statement>
                                                                            <next>
                                                                              <block type=""targetcontext_struct"" id=""@C%T=4}/p5]j@{LnD8Vj"">
                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                                <field name=""CONTEXT_SELECT"">products  inventory</field>
                                                                                <statement name=""CONTEXT_DO"">
                                                                                  <block type=""sql_execute"" id=""c_z!5#}G@o60(=$~I~w="">
                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id=""%8yk`@G6m9V7xQ4ABbj^"">
                                                                                        <field name=""SQL_QUERY"">select ii.""createdAt"" as ""allocationTimestamp"", v.""inventoryQuantity"" as ""ats"", v.""availableForSale"" as ""perpetual""&amp;#10;from ((""Products"" p2 &amp;#10;inner join variant v &amp;#10;on p2.id = v.""productId"" )&amp;#10;inner join ""InventoryItems"" ii &amp;#10;on v.""inventoryItemId"" = ii.id )&amp;#10;where p2.id = %s </field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""targetcontext_append_row"" id=""NxOj*dkF$j6iE6%CFU2V"">
                                                                                        <next>
                                                                                          <block type=""targetcontext_automap"" id=""ojj{q]kzTp+%,gD(cwlF""></block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get"" id=""%!!^R$=.x8JRGTV~SXgb"">
                                                                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                                <next>
                                                                                  <block type=""targetcontext_arraystruct"" id=""*[BK-E9+gBmaz[yA-USs"">
                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                                    <field name=""CONTEXT_SELECT"">products  variants</field>
                                                                                    <statement name=""CONTEXT_DO"">
                                                                                      <block type=""sql_execute"" id=""gEXX1BTidpY#st,Q5A!!"">
                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""@jlvq-}Nayc4UF0vzn]9"">
                                                                                            <field name=""SQL_QUERY"">select v.id as ""id"", v.price as ""price"" , v.""inventoryQuantity"" as ""ats"" &amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" &amp;#10;where p.id = %s</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""targetcontext_append_row"" id=""Wa^p@Sr3[6R29-qOMLBK"">
                                                                                            <next>
                                                                                              <block type=""targetcontext_automap"" id=""K%b0v%#A#abJH8:.f2E)""></block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get"" id=""!^fd7Y5JL3YmCr4*helm"">
                                                                                            <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type=""sql_execute"" id=""H64+vU#i,P~KY~_@R.WT"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""I[d/a6@MMAy{gg`FOX!l"">
                                                                                                <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and p.id = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""targetcontext_append_row"" id=""H+/_N8eqq=a@4uEXq~,+"">
                                                                                                <next>
                                                                                                  <block type=""targetcontext_automap"" id=""{~)8-KjhiT9Q67n*pz07""></block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""Q^wB/i.,)cNyfnm6H.*P"">
                                                                                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <next>
                                                                                              <block type=""sql_execute"" id=""J#+16bybLg^{!D)[{e^7"">
                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""%6nzMIkJMXT-ma/wJ0m0"">
                                                                                                    <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and p.id = %s</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""targetcontext_append_row"" id=""@^X`S)mk*xrT0Kdkp~]q"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_automap"" id=""dNxX2)nqgl2{Bf2wz[!W""></block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id=""}XmyW(;)s*Ebw}JAmSw."">
                                                                                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <next>
                                                                                      <block type=""targetcontext_array"" id=""-Z,8%Y@[,QMWff}Yqrk("">
                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                                        <field name=""CONTEXT_SELECT"">products  sizes</field>
                                                                                        <statement name=""CONTEXT_DO"">
                                                                                          <block type=""sql_execute"" id=""SP}G}JL0-?-|upU[ADX3"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""Z`9j1id1XZFNB;mg+q:("">
                                                                                                <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and p.id = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""targetcontext_automap"" id=""j{*r*ZS3_(3mJw2!~x0|"">
                                                                                                <next>
                                                                                                  <block type=""targetcontext_append_row"" id=""_tK@V!86tll#UzBOe:oY""></block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id="")W=5cbkOb^iSg[H2-]2x"">
                                                                                                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <next>
                                                                                          <block type=""targetcontext_array"" id=""06Vst$~IC5z^-c-=|2A]"">
                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                                            <field name=""CONTEXT_SELECT"">products  colors</field>
                                                                                            <statement name=""CONTEXT_DO"">
                                                                                              <block type=""sql_execute"" id=""xoYmAf9XF+k?fg+}~WD|"">
                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""j9H~:g+1DV$,VgYuE90e"">
                                                                                                    <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and p.id = %s</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""targetcontext_automap"" id=""7483(m337!Tjn7GJY~x`"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_append_row"" id=""0Bh]09LP^u4gG)Hl410}""></block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id=""L9x};CtAgwx8SWX]rVRm"">
                                                                                                    <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <next>
                                                                                              <block type=""targetcontext_save_row"" id=""s[(2C8C5%Di#X9,QE5M!""></block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_callnoreturn"" id=""i(?(;|Tab6(f4^nPYK`."" disabled=""true"" x=""-337"" y=""363"">
    <mutation name=""ProductTable""></mutation>
  </block>
  <block type=""procedures_defnoreturn"" id=""(]-H:3;U!U17P9-,:2Ye"" x=""2538"" y=""213"">
    <field name=""NAME"">Prod_by_Size_Table</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""IY^*M~b#Wae8X.Ijiaq:"">
        <field name=""CONTEXT_SELECT"">products_by_size</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""6X`??%-||#01{|mm:geF"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""{|O=pa80r~5?}e~6EerB"">
                <field name=""SQL_QUERY"">select distinct p.id &amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""f:7Y_[i2;?unzf9Ek,v5"">
                <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id="";gMYXv.M@Ap=.p~G|/K_"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""Tjo/H*#7YQuG1x2WcT0d"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""6*c^Y/gugIa3%U(ti?U-"">
                        <field name=""SQL_QUERY"">select distinct ov.value as  ""Size""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;where o.""name"" = 'Size'&amp;#10;and p.id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""variables_set"" id=""_#_?N;:1OBMNKh!#nt4w"">
                        <field name=""VAR"" id=""|J~WVCE=w+Bik?t!i]P$"">Size</field>
                        <value name=""VALUE"">
                          <block type=""targetcontext_refer_columns"" id=""*V@t=gVUMJ0k^W0v.t%|"">
                            <field name=""COLUMN"">Size</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""DzJP$pSInUY!oZtfX@fs"">
                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                      </block>
                    </value>
                    <next>
                      <block type=""sql_execute"" id=""T^ua4#jTtx%8N%NOOe#K"">
                        <mutation bindsCount=""1""></mutation>
                        <value name=""SQL_QUERY"">
                          <block type=""sql_query"" id=""u%[!*d/AL*1JR^[[/c/`"">
                            <field name=""SQL_QUERY"">select distinct v.id as ""prodbysizeId""&amp;#10;from (((variant v &amp;#10;inner join ""variantOption"" vo &amp;#10;on v.id = vo.""variantId"" )&amp;#10;inner join ""optionValues"" ov &amp;#10;on vo.""optionId"" = ov.""optionId"" )&amp;#10;inner join ""option"" o &amp;#10;on ov.""optionId"" = o.id )&amp;#10;where o.""name"" = 'Size'&amp;#10;and ov.value = %s</field>
                          </block>
                        </value>
                        <statement name=""DO"">
                          <block type=""variables_set"" id=""R-|^yB`Foch4.$!5=dsG"">
                            <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                            <value name=""VALUE"">
                              <block type=""targetcontext_refer_columns"" id=""QOG`:*{cv-}TEs6?t+],"">
                                <field name=""COLUMN"">prodbysizeId</field>
                              </block>
                            </value>
                            <next>
                              <block type=""targetcontext_field"" id=""H.,7h[m=v:{0M7Tmudb="">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                <field name=""CONTEXT_SELECT"">products_by_size  prim_id</field>
                                <value name=""FIELD"">
                                  <block type=""text_join"" id=""V-pxmn*%gF/pXxS:(Xh+"">
                                    <mutation items=""3""></mutation>
                                    <value name=""ADD0"">
                                      <block type=""variables_get"" id=""=QrN74w(p|U1v~gPiS}g"">
                                        <field name=""VAR"" id=""4rX:CwO#hCHqzy=]:H`Y"">productid</field>
                                      </block>
                                    </value>
                                    <value name=""ADD1"">
                                      <block type=""text"" id=""U:w|CjG07}BN/ITBua~H"">
                                        <field name=""TEXT"">_</field>
                                      </block>
                                    </value>
                                    <value name=""ADD2"">
                                      <block type=""variables_get"" id=""T|yQ~U3Q{z))b9+;.V=q"">
                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type=""targetcontext_automap"" id=""[.cc%ja$5n,Ls2}i8rNk"">
                                    <next>
                                      <block type=""sql_execute"" id=""#x=fu-6aucBv`XZ_B/Fj"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""Cd%=fsu/~ESzu}SUSI)-"">
                                            <field name=""SQL_QUERY"">select v.id as ""id"", &amp;#10;v.""stringId"" as ""prim_id"", &amp;#10;v.barcode as ""ean"",&amp;#10;v.""weightUnit"" as ""unit"",&amp;#10;v.barcode as ""upc"",&amp;#10;v.""displayName"" as ""name"",&amp;#10;v.title as ""shortDescription"",&amp;#10;p2.description as ""longDescription"",&amp;#10;v.""availableForSale"" as ""availableFlag"",&amp;#10;pm.""isPrivate"" as ""searchableFlag"",&amp;#10;v.""taxCode"" as ""taxClassId"",&amp;#10;p2.""SeoTitle"" as  ""pageKeyword"", &amp;#10;p2.""onlineStoreUrl"" as ""pageUrl"", &amp;#10;v.price as ""price"",&amp;#10;v.""inventoryQuantity"" as ""ats"",&amp;#10;iiuc.""currencyCode"" as ""currency"",&amp;#10;p2.""vendor"" as ""brand""&amp;#10;from (((variant v &amp;#10;inner join ""Products"" p2&amp;#10;on v.""productId"" = p2.id )&amp;#10;inner join ""InventoryItemsUnitCost"" iiuc &amp;#10;on v.""inventoryItemId"" = iiuc.id )&amp;#10;inner join ""productMetafield"" pm &amp;#10;on v.""productId"" = pm.""productId"" )&amp;#10;where v.id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_automap"" id=""YDnWS*8TEi|r@|KO?l#X"">
                                            <next>
                                              <block type=""sql_execute"" id=""ot.fV)=r$lTUEF~lk%]l"">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""woMHcNuCI`*]K0R];M#m"">
                                                    <field name=""SQL_QUERY"">select distinct p.id as masterid,&amp;#10;case &amp;#10;when p.id = v2.""productId"" then 'True'&amp;#10;end as ismaster &amp;#10;from ""Products"" p&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" &amp;#10;where v2.id = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_automap"" id=""ZWXKP)jzE6r:|B4D^e@}""></block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""AJ44=zQjgOp8Y+d}aO=c"">
                                                    <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""sql_execute"" id=""Ia!E3h%(rPRALd}iwD54"">
                                                    <mutation bindsCount=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""b7qE+*Moj-_jslM~V/SP"">
                                                        <field name=""SQL_QUERY"">select c.title as ""pageTitle"", c.""SeoDescription"" as  ""pageDesc"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productCollection"" pc &amp;#10;on p.id = pc.""productId"" )&amp;#10;inner join collections c &amp;#10;on pc.""collectionId"" = c.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_automap"" id=""Q3g^Dn*u9:n%d##*Pz)s""></block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id=""r=kF)Wg);q(~[p`JcT,$"">
                                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type=""targetcontext_array"" id=""PcKGl?9@E/KBb/Q|r^m+"">
                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                        <field name=""CONTEXT_SELECT"">products_by_size  categories</field>
                                                        <statement name=""CONTEXT_DO"">
                                                          <block type=""sql_execute"" id=""_A_1T,:CH_v8AF]=P+6i"">
                                                            <mutation bindsCount=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id="":?KMF`Ud~yO,:|fk,J@Y"">
                                                                <field name=""SQL_QUERY"">select c.id as ""catalogId""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productCollection"" pc &amp;#10;on p.id = pc.""productId"" )&amp;#10;inner join collections c &amp;#10;on pc.""collectionId"" = c.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""targetcontext_append_row"" id=""Sj7GJU+N{`}p!Oo]z,*N"">
                                                                <next>
                                                                  <block type=""targetcontext_automap"" id=""PI+tb@~KwlCYH/]VC:om""></block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get"" id=""_!V=?[LW+*LJdXvp]Ji+"">
                                                                <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </statement>
                                                        <next>
                                                          <block type=""sql_execute"" id=""L_11c:A4eys[#}gCLl/6"">
                                                            <mutation bindsCount=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id=""i=[sEuTv7^}fY#aXn#f}"">
                                                                <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and v2.id = %s</field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""targetcontext_automap"" id=""F`RWpArp!YWA.Z~x25O)""></block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get"" id=""I*GS6rIdmUzUWm0Fc}H4"">
                                                                <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type=""sql_execute"" id=""M:*{QUbyTyL;squY-R/F"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""Z95Y.Du/TE%L|g_Kr/2#"">
                                                                    <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_automap"" id=""hUkS!7%U5gZx}PyR/WA/""></block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""az7+1GvT95-*SD?,{}J?"">
                                                                    <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type=""targetcontext_arraystruct"" id=""Umj_]lbpJ94{?F_vei?i"">
                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                    <field name=""CONTEXT_SELECT"">products_by_size  shortDescriptions</field>
                                                                    <statement name=""CONTEXT_DO"">
                                                                      <block type=""sql_execute"" id=""dR#mC|g9!mU_.OKK|iD@"">
                                                                        <mutation bindsCount=""1""></mutation>
                                                                        <value name=""SQL_QUERY"">
                                                                          <block type=""sql_query"" id=""V|1ekb{MW.W7bZ^QZ(qc"">
                                                                            <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'meta_title'&amp;#10;and v2.id = %s </field>
                                                                          </block>
                                                                        </value>
                                                                        <statement name=""DO"">
                                                                          <block type=""targetcontext_automap"" id=""LX[2lQX*5Ln*r:FV*|13"">
                                                                            <next>
                                                                              <block type=""targetcontext_append_row"" id=""`@gp.dz^gVz*JwfEvm:0""></block>
                                                                            </next>
                                                                          </block>
                                                                        </statement>
                                                                        <value name=""SQLOPTION1"">
                                                                          <block type=""variables_get"" id=""(k_hX7aqGE-P+6mTq*sR"">
                                                                            <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </statement>
                                                                    <next>
                                                                      <block type=""targetcontext_arraystruct"" id=""BkDPDERAE/#OQFq.,(gP"">
                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                        <field name=""CONTEXT_SELECT"">products_by_size  longDescriptions</field>
                                                                        <statement name=""CONTEXT_DO"">
                                                                          <block type=""sql_execute"" id=""eys}Y`FLwZ)0WIxuK4k8"">
                                                                            <mutation bindsCount=""1""></mutation>
                                                                            <value name=""SQL_QUERY"">
                                                                              <block type=""sql_query"" id=""FjxnX#S}+El8aE;4:8-:"">
                                                                                <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'meta_description'&amp;#10;and v2.id = %s </field>
                                                                              </block>
                                                                            </value>
                                                                            <statement name=""DO"">
                                                                              <block type=""targetcontext_automap"" id=""+,:_l@;THArP//x-v!)G"">
                                                                                <next>
                                                                                  <block type=""targetcontext_append_row"" id=""t|{xq%jSau%p784u`K`z""></block>
                                                                                </next>
                                                                              </block>
                                                                            </statement>
                                                                            <value name=""SQLOPTION1"">
                                                                              <block type=""variables_get"" id=""BuuD;Y;,_-@]WHbY,js5"">
                                                                                <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                              </block>
                                                                            </value>
                                                                          </block>
                                                                        </statement>
                                                                        <next>
                                                                          <block type=""targetcontext_arraystruct"" id=""5ye62sMy=]B+ww~gNja0"">
                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                            <field name=""CONTEXT_SELECT"">products_by_size  pageTitles</field>
                                                                            <statement name=""CONTEXT_DO"">
                                                                              <block type=""sql_execute"" id="")1EuMqZVZ=+cn%$qld+}"">
                                                                                <mutation bindsCount=""1""></mutation>
                                                                                <value name=""SQL_QUERY"">
                                                                                  <block type=""sql_query"" id=""m646gLHD%*%_`wfj6`OC"">
                                                                                    <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'title'&amp;#10;and v2.id = %s </field>
                                                                                  </block>
                                                                                </value>
                                                                                <statement name=""DO"">
                                                                                  <block type=""targetcontext_automap"" id=""D}nr#?|p;YbQY.Acsl,~"">
                                                                                    <next>
                                                                                      <block type=""targetcontext_append_row"" id=""T;@rAM$+%aC^#c.q?9_:""></block>
                                                                                    </next>
                                                                                  </block>
                                                                                </statement>
                                                                                <value name=""SQLOPTION1"">
                                                                                  <block type=""variables_get"" id=""m:#jXq~`Es-jom~Jl*%B"">
                                                                                    <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                  </block>
                                                                                </value>
                                                                              </block>
                                                                            </statement>
                                                                            <next>
                                                                              <block type=""targetcontext_arraystruct"" id=""0Hn(dEj_4.)pad_[Lxoh"">
                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                <field name=""CONTEXT_SELECT"">products_by_size  pageDescs</field>
                                                                                <statement name=""CONTEXT_DO"">
                                                                                  <block type=""sql_execute"" id=""jsIn03jvuHy8MBsf|$6)"">
                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id=""aW9y%H)-ZCQ?{c^abb/)"">
                                                                                        <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'body_html'&amp;#10;and v2.id = %s </field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""targetcontext_automap"" id=""?$B}jLKFt@)~L@#R!W#["">
                                                                                        <next>
                                                                                          <block type=""targetcontext_append_row"" id=""TkX=y`O)g-z%,`Uwd*BS""></block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get"" id=""ny7v2#~AK@7}hphSLjtF"">
                                                                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                                <next>
                                                                                  <block type=""targetcontext_arraystruct"" id=""u92fN9l3v|_-]!ef%fU/"">
                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                    <field name=""CONTEXT_SELECT"">products_by_size  pageKeywords</field>
                                                                                    <statement name=""CONTEXT_DO"">
                                                                                      <block type=""sql_execute"" id=""TJ%m8V7mGG9`2-g+Pp2e"">
                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                        <value name=""SQL_QUERY"">
                                                                                          <block type=""sql_query"" id=""NOpeK)7Yyd-JX!F=/j89"">
                                                                                            <field name=""SQL_QUERY"">select t.locale as ""lang"", t.value as ""value""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productTranslation"" pt &amp;#10;on p.id = pt.""productId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pt.""translationId"" = t.id )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where t.""key"" = 'meta_description'&amp;#10;and v2.id = %s </field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <statement name=""DO"">
                                                                                          <block type=""targetcontext_automap"" id=""JFg}E@{X.*|:[LpaOvuZ"">
                                                                                            <next>
                                                                                              <block type=""targetcontext_append_row"" id=""daetE8;#rdYwIJJ:}%q-""></block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <value name=""SQLOPTION1"">
                                                                                          <block type=""variables_get"" id="".DtirtD1W%OZ~n#mJ-dg"">
                                                                                            <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                          </block>
                                                                                        </value>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <next>
                                                                                      <block type=""targetcontext_arraystruct"" id=""c=7UBQ(9KOS60rMN:UXq"">
                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                        <field name=""CONTEXT_SELECT"">products_by_size  customAttributes</field>
                                                                                        <statement name=""CONTEXT_DO"">
                                                                                          <block type=""sql_execute"" id=""5LCb*8eVyD!e{/#N0^H|"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""jC`,H!uZeU?dJTZgnEV7"">
                                                                                                <field name=""SQL_QUERY"">select m.id as ""attributeId"", m.value as ""value"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id) &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""targetcontext_automap"" id=""vv(=5)Bg7kKy#_fZa_S4"">
                                                                                                <next>
                                                                                                  <block type=""targetcontext_append_row"" id="";B}n=a:n9y}Fpotyl:a?"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_array"" id=""S7D~)K+1FI{riI?69jdY"">
                                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size  customAttributes""></mutation>
                                                                                                        <field name=""CONTEXT_SELECT"">products_by_size  customAttributes  values</field>
                                                                                                        <statement name=""CONTEXT_DO"">
                                                                                                          <block type=""sql_execute"" id=""i+GrTkmX~mOlFSQ%ah}z"">
                                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                                            <value name=""SQL_QUERY"">
                                                                                                              <block type=""sql_query"" id="".kb0UbS4zU;P]7kl$[^3"">
                                                                                                                <field name=""SQL_QUERY"">select m.value as ""value"" &amp;#10;from (((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id) &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""targetcontext_automap"" id=""bGVQt,W4g(6[Ri-PEn,B"">
                                                                                                                <next>
                                                                                                                  <block type=""targetcontext_append_row"" id=""KSq)w_xx4512+cpF!cbZ""></block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                            <value name=""SQLOPTION1"">
                                                                                                              <block type=""variables_get"" id=""kvUwO;Bf0:Di[?cxpd!;"">
                                                                                                                <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""C[8geud9/QREVq.u#E1g"">
                                                                                                <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </statement>
                                                                                        <next>
                                                                                          <block type=""targetcontext_arraystruct"" id=""cRzDeNA_zEDh?u=u^37A"">
                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                            <field name=""CONTEXT_SELECT"">products_by_size  attributes</field>
                                                                                            <statement name=""CONTEXT_DO"">
                                                                                              <block type=""sql_execute"" id=""I#N}%El5:Sx%Ngql5X_8"">
                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""WMm*FDEP=8kx42nD-Qwb"">
                                                                                                    <field name=""SQL_QUERY"">select m.id as ""attributeId"",v2.id as ""variationAttributeId"", p.handle as ""name""&amp;#10;from ((""Products"" p &amp;#10;inner join ""productMetafield"" pm &amp;#10;on p.id = pm.""productId""&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;inner join metafield m &amp;#10;on pm.""metafieldId"" = m.id )&amp;#10;where v2.id = %s</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""targetcontext_automap"" id=""zZ4/cYW@x%!0=hf%n;3,"">
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_append_row"" id=""RGC^Y$;{{hV|^V2Z!2ww"">
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_arraystruct"" id=""q3(0!A6@C3!h[o6iol?N"">
                                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size  attributes""></mutation>
                                                                                                            <field name=""CONTEXT_SELECT"">products_by_size  attributes  values</field>
                                                                                                            <statement name=""CONTEXT_DO"">
                                                                                                              <block type=""sql_execute"" id=""hm@,Zs[`v|:Sl9}/}v_3"">
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""3AM89qxCy][vF]j_r!!h"">
                                                                                                                    <field name=""SQL_QUERY"">select o.""name"" as ""atrid""&amp;#10;from ""option"" o </field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""variables_set"" id=""2wn9;=Kcs~U`3]^O5:k;"">
                                                                                                                    <field name=""VAR"" id=""hTGz$1QKQP/-Vpz8_1G|"">atrid</field>
                                                                                                                    <value name=""VALUE"">
                                                                                                                      <block type=""targetcontext_refer_columns"" id=""$nRcu?WKahYO@ty6:|Sr"">
                                                                                                                        <field name=""COLUMN"">atrid</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <next>
                                                                                                                      <block type=""sql_execute"" id=""GUM)m[S}h;}/mOjw#0,]"">
                                                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                                                        <value name=""SQL_QUERY"">
                                                                                                                          <block type=""sql_query"" id="";VMj2pK.@j?b~vIq,7D,"">
                                                                                                                            <field name=""SQL_QUERY"">select distinct ov.value as ""value"", ov.value as ""displayValue"", t.locale as ""lang""&amp;#10;from (((((""Products"" p&amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on o.id = po.""optionId"" )&amp;#10;inner join ""optionValues"" ov &amp;#10;on po.""optionId"" = ov.""optionId"" )&amp;#10;inner join ""productOptionTranslation"" pot &amp;#10;on po.""optionId"" = pot.""productOptionId"" )&amp;#10;inner join ""translation"" t &amp;#10;on pot.""translationId"" = t.id )&amp;#10;where o.""name"" = 'Size'</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                        <statement name=""DO"">
                                                                                                                          <block type=""targetcontext_automap"" id=""q9NYaG)p7zY@b8vw5Uh;"">
                                                                                                                            <next>
                                                                                                                              <block type=""targetcontext_append_row"" id="":X4z986tbD/bL]g.)k}m""></block>
                                                                                                                            </next>
                                                                                                                          </block>
                                                                                                                        </statement>
                                                                                                                        <value name=""SQLOPTION1"">
                                                                                                                          <block type=""variables_get"" id=""1dEpZzsW=e7Lf]TV-dGr"">
                                                                                                                            <field name=""VAR"" id=""hTGz$1QKQP/-Vpz8_1G|"">atrid</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                      </block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id=""JR+[M-x*`PzEA@h49Q2E"">
                                                                                                    <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <next>
                                                                                              <block type=""targetcontext_arraystruct"" id=""1,@q]JwPVA7L.QYaB-c["">
                                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                                <field name=""CONTEXT_SELECT"">products_by_size  imageGroups</field>
                                                                                                <statement name=""CONTEXT_DO"">
                                                                                                  <block type=""sql_execute"" id=""h7oVUYjbOH~@%;u:ZM=!"">
                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                    <value name=""SQL_QUERY"">
                                                                                                      <block type=""sql_query"" id=""yOVG`(EY6ccX7b*36KYC"">
                                                                                                        <field name=""SQL_QUERY"">select i.""transformedSrc"" as ""viewType"", i.""altText"" as ""variationValue""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productImage"" pi2 &amp;#10;on p.id = pi2.""productId"" )&amp;#10;inner join image i &amp;#10;on pi2.""imageId"" = i.id )&amp;#10;inner join variant v &amp;#10;on p.id = v.""productId"" )&amp;#10;where v.id = %s</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""targetcontext_append_row"" id=""[p_^`Aze5:JRNjJyTARE"">
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_automap"" id=""swGRsBH=5k-zYI)]yHW4"">
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_arraystruct"" id=""|@2A#FSkQ/])0B+^q_D|"">
                                                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size  imageGroups""></mutation>
                                                                                                                <field name=""CONTEXT_SELECT"">products_by_size  imageGroups  images</field>
                                                                                                                <statement name=""CONTEXT_DO"">
                                                                                                                  <block type=""sql_execute"" id=""pL%6e^meL,;d9J2D?w!u"">
                                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                                    <value name=""SQL_QUERY"">
                                                                                                                      <block type=""sql_query"" id=""7RLZBPK+WiF[O@Z#sN9l"">
                                                                                                                        <field name=""SQL_QUERY"">select i.""originalSrc"" as ""path"", i.""altText"" as ""alt"",p.title as ""title""&amp;#10;from (((""Products"" p &amp;#10;inner join ""productImage"" pi2 &amp;#10;on p.id = pi2.""productId"" )&amp;#10;inner join image i &amp;#10;on pi2.""imageId"" = i.id )&amp;#10;inner  join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where v2.id = %s</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <statement name=""DO"">
                                                                                                                      <block type=""targetcontext_append_row"" id=""m88)*^Q!X/4hXyh3d}`t"">
                                                                                                                        <next>
                                                                                                                          <block type=""targetcontext_automap"" id=""MD@3(Si5A`-NObHxd-FH""></block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </statement>
                                                                                                                    <value name=""SQLOPTION1"">
                                                                                                                      <block type=""variables_get"" id=""G?eBP5P=02hd2*.W4{sc"">
                                                                                                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                    <value name=""SQLOPTION1"">
                                                                                                      <block type=""variables_get"" id=""Ue8ON3bLw1$ecMt5RB{h"">
                                                                                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <next>
                                                                                                  <block type=""targetcontext_struct"" id=""RcvQ43Dk-n?B5l`wZPL/"">
                                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                                    <field name=""CONTEXT_SELECT"">products_by_size  inventory</field>
                                                                                                    <statement name=""CONTEXT_DO"">
                                                                                                      <block type=""sql_execute"" id=""}NvdD2#S4JHU;W~]7EWM"">
                                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""k$4w[iE^kcS.!CRYzQbX"">
                                                                                                            <field name=""SQL_QUERY"">select ii.""createdAt"" as ""allocationTimestamp"", v.""inventoryQuantity"" as ""ats"", v.""availableForSale"" as ""perpetual""&amp;#10;from ((""Products"" p2 &amp;#10;inner join variant v &amp;#10;on p2.id = v.""productId"" )&amp;#10;inner join ""InventoryItems"" ii &amp;#10;on v.""inventoryItemId"" = ii.id )&amp;#10;where v.id = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""targetcontext_append_row"" id=""q~L_{CQyNaMX_B9RMxuN"">
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_automap"" id=""5zc0Vg|QOknG|u~NO/Yp""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""IJ=5dsucdirFaqr.|j=/"">
                                                                                                            <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_arraystruct"" id=""r.~|BY!~,jN)9@xP)=QS"">
                                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                                        <field name=""CONTEXT_SELECT"">products_by_size  variants</field>
                                                                                                        <statement name=""CONTEXT_DO"">
                                                                                                          <block type=""sql_execute"" id=""*pKvBRN}MHg3e/u:*.;#"">
                                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                                            <value name=""SQL_QUERY"">
                                                                                                              <block type=""sql_query"" id=""zIJJ$#uo$V#bLNN;e]PQ"">
                                                                                                                <field name=""SQL_QUERY"">select v.id as ""id"", v.price as ""price"" , v.""inventoryQuantity"" as ""ats"" &amp;#10;from ""Products"" p &amp;#10;inner join variant v &amp;#10;on p.id = v.""productId""&amp;#10;where v.id = %s</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""targetcontext_append_row"" id=""ml.JNILXL7sz#$K}B}vq"">
                                                                                                                <next>
                                                                                                                  <block type=""targetcontext_automap"" id=""%(Gq0XMmG5gG~PViI1}8""></block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                            <value name=""SQLOPTION1"">
                                                                                                              <block type=""variables_get"" id=""Zd,xy??nH[[Jg@VTSVH!"">
                                                                                                                <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <next>
                                                                                                              <block type=""sql_execute"" id=""4v$dZgE(u)57Xe[u;vrt"">
                                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""2zqiv)![7(-pWMP,4m0`"">
                                                                                                                    <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and v2.id = %s</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""targetcontext_append_row"" id="",F#q9_~VwP0vCYg520V9"">
                                                                                                                    <next>
                                                                                                                      <block type=""targetcontext_automap"" id=""0o6`=Bzk#i}5{f|D6s)u""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                  <block type=""variables_get"" id=""bNZl]Z_Tj.5$=Ln:zU4y"">
                                                                                                                    <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type=""sql_execute"" id=""4gb0tVs3k{#h6(^{;9G0"">
                                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                                    <value name=""SQL_QUERY"">
                                                                                                                      <block type=""sql_query"" id=""K2S;eNOE*_@z#k.o$tx/"">
                                                                                                                        <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <statement name=""DO"">
                                                                                                                      <block type=""targetcontext_append_row"" id=""HBH(mD3#fJ}Kt?%p8%P7"">
                                                                                                                        <next>
                                                                                                                          <block type=""targetcontext_automap"" id=""GN;J[;:[9Hm.PqZ+hMo_""></block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </statement>
                                                                                                                    <value name=""SQLOPTION1"">
                                                                                                                      <block type=""variables_get"" id=""Z~I9DQik409j%wpAdQw2"">
                                                                                                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <next>
                                                                                                                      <block type=""sql_execute"" id=""jXN$+C0e3TxN8R:xOL-v"">
                                                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                                                        <value name=""SQL_QUERY"">
                                                                                                                          <block type=""sql_query"" id=""4FWM*E+=d/+J.YMPvuYb"">
                                                                                                                            <field name=""SQL_QUERY"">select distinct ov.value as  ""mainColor""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                        <statement name=""DO"">
                                                                                                                          <block type=""targetcontext_append_row"" id=""prWMzvf;$pROPZ5H{Wws"">
                                                                                                                            <next>
                                                                                                                              <block type=""targetcontext_automap"" id=""~5@NRXsaa_Vy0%gIwVi%""></block>
                                                                                                                            </next>
                                                                                                                          </block>
                                                                                                                        </statement>
                                                                                                                        <value name=""SQLOPTION1"">
                                                                                                                          <block type=""variables_get"" id=""m4r*9O1X+Qt1~:rY*m$r"">
                                                                                                                            <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                      </block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_array"" id=""}+2g?a@J#M5w7RB3Pb1k"">
                                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                                            <field name=""CONTEXT_SELECT"">products_by_size  sizes</field>
                                                                                                            <statement name=""CONTEXT_DO"">
                                                                                                              <block type=""sql_execute"" id=""*[cTV-$Y@DZ#f3??_|aK"">
                                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                                <value name=""SQL_QUERY"">
                                                                                                                  <block type=""sql_query"" id=""g[6J6L0?UVQx`=W*rg-M"">
                                                                                                                    <field name=""SQL_QUERY"">select distinct ov.value as ""size"" &amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Size' &amp;#10;and v2.id = %s</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <statement name=""DO"">
                                                                                                                  <block type=""targetcontext_append_row"" id=""UN!e3}t5QlC#oK5o$?/?"">
                                                                                                                    <next>
                                                                                                                      <block type=""targetcontext_automap"" id=""OJ*KyT#$L?,X/.M88=Z,""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                                <value name=""SQLOPTION1"">
                                                                                                                  <block type=""variables_get"" id=""y?:eHM.=9Vo}1JGUVK[+"">
                                                                                                                    <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_array"" id=""2FHO.6^q][!]1fJa~;=q"">
                                                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products_by_size""></mutation>
                                                                                                                <field name=""CONTEXT_SELECT"">products_by_size  colors</field>
                                                                                                                <statement name=""CONTEXT_DO"">
                                                                                                                  <block type=""sql_execute"" id=""Q;Z:Ld_{fN_!tD^|/@.4"">
                                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                                    <value name=""SQL_QUERY"">
                                                                                                                      <block type=""sql_query"" id=""Adjz8W=(Wd42{$YkgS{A"">
                                                                                                                        <field name=""SQL_QUERY"">select distinct ov.value as  ""color""&amp;#10;from ((((""Products"" p &amp;#10;inner join ""productOption"" po &amp;#10;on p.id = po.""productId"" )&amp;#10;inner join ""option"" o &amp;#10;on po.""optionId"" = o.id )&amp;#10;inner join ""optionValues"" ov &amp;#10;on o.id = ov.""optionId"" )&amp;#10;inner join variant v2 &amp;#10;on p.id = v2.""productId"" )&amp;#10;where o.""name"" = 'Color'&amp;#10;and v2.id = %s</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <statement name=""DO"">
                                                                                                                      <block type=""targetcontext_append_row"" id=""p5|LCZ,SJUY*4x_k-0F;"">
                                                                                                                        <next>
                                                                                                                          <block type=""targetcontext_automap"" id=""w1Q6aW2q|A|ATkx|;F@@""></block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </statement>
                                                                                                                    <value name=""SQLOPTION1"">
                                                                                                                      <block type=""variables_get"" id=""#f:uSsvt5{Zz^RGUF^+D"">
                                                                                                                        <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                  </block>
                                                                                                                </statement>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""_7%qC#c[8!@}SSTwtV_~"">
                                            <field name=""VAR"" id=""U+%!ie9m!jsaq3(NmMPy"">prodbysizeid</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""targetcontext_save_row"" id=""c0`V21R738LlR}|?1BTB""></block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <value name=""SQLOPTION1"">
                          <block type=""variables_get"" id=""2gH1igU?sc4F,VHf_FKW"">
                            <field name=""VAR"" id=""|J~WVCE=w+Bik?t!i]P$"">Size</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""targetcontext_automap"" id=""U4MisVMa_`H[cTeSfyVq"" disabled=""true"" x=""-2130"" y=""700""></block>
  <block type=""variables_get"" id=""|ec`4$Dl5/QP*mc(Z:Q*"" disabled=""true"" x=""2363"" y=""913"">
    <field name=""VAR"" id=""(K/e)45TE:j~SHNa7U=."">Color</field>
  </block>
  <block type=""targetcontext_struct"" id=""swuB}OAi6vZ`*$=izuKj"" disabled=""true"" x=""188"" y=""5437"">
    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""null""></mutation>
    <next>
      <block type=""sql_execute"" id=""L)_U@[g2dIp9:LmT088J"" disabled=""true"">
        <value name=""SQL_QUERY"">
          <block type=""sql_query"" id=""zhRZpDk8ID}Ie9SEudUV"">
            <field name=""SQL_QUERY"">select v.""inventoryQuantity"" as ""ats"", v.""availableForSale"" as ""perpetual""&amp;#10;from ((""Products"" p2 &amp;#10;inner join variant v &amp;#10;on p2.id = v.""productId"" )&amp;#10;inner join ""InventoryItems"" ii &amp;#10;on v.""inventoryItemId"" = ii.id )&amp;#10;where p2.id = %s </field>
          </block>
        </value>
      </block>
    </next>
  </block>
  <block type=""targetcontext_arraystruct"" id=""E`*C9?wSiOWJ)O`7]d=5"" disabled=""true"" x=""1062"" y=""5413"">
    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""null""></mutation>
  </block>
  <block type=""sql_execute"" id="",i)kiy@k?JbxUcdLR|S^"" disabled=""true"" x=""1104"" y=""5437"">
    <mutation bindsCount=""1""></mutation>
    <value name=""SQL_QUERY"">
      <block type=""sql_query"" id=""3]~fyx+FV%4?*Z1M}y)L"">
        <field name=""SQL_QUERY"">INPUT SQL QUERY</field>
      </block>
    </value>
    <statement name=""DO"">
      <block type=""targetcontext_automap"" id=""B^Uy[Jxx?)uCB3isKJ(L"">
        <next>
          <block type=""targetcontext_append_row"" id=""yyqpue~EIz1%u0Il@d/m""></block>
        </next>
      </block>
    </statement>
    <value name=""SQLOPTION1"">
      <block type=""variables_get"" id=""agR^WEojDB(e=JS]cMPz"">
        <field name=""VAR"" id=""Y}$Y?t=#*i[SADqE2tEb"">prodbycolorId</field>
      </block>
    </value>
  </block>
  <block type=""targetcontext_append_row"" id="")$-^V*,k(v1DLYj5S9!K"" disabled=""true"" x=""388"" y=""6438""></block>
</xml>",1,2020-12-22 16:23:52
4,4,dev,1,2,"import re
import sys
import operator
import logging
import requests
import psycopg2
import simplejson as json
import psycopg2.extras
from psycopg2 import pool
from decimal import Decimal
from functools import reduce
from datetime import datetime

parent = None
child = None
context_id = None
string_id = None



def get_argument(argNum):
  if len(sys.argv)-1 >= argNum:
    return sys.argv[argNum]
  else:
    logger.error(""Please specify argument: ""+str(argNum)+"""")

def datetimeParser(o):
  if isinstance(o, datetime):
    return o.__str__()

def getFromDict(dic, keys):
  for key in keys:
      dic = dic[key]
  return dic


def setInDict(dic, keys, value):
  for key in keys[:-1]:
    # Setting a default in dict
    dic = dic.setdefault(key, {})

    # Setting a default in list
    if type(dic) == list and keys[-1] not in dic[-1]:
        dic[-1].setdefault(keys[-1], {})

  if type(dic) == dict:
    if keys[-1] in dic:
        if type(dic[keys[-1]]) == list:
          dic[keys[-1]] = value
          return
        dic[keys[-1]].update(value)
    else:
      dic[keys[-1]] = value
  elif type(dic) == list:
      dic[-1][keys[-1]] = value


def parse_dotted_strlines(strlines):
  """"""Parse multiple dot seperated lines""""""
  res = {}
  for line in strlines.splitlines():
      parse_dotted_str(line, res)
  return res


def parse_dotted_str(s, res):
  """"""Parse a dot seperated lines such as:
  my.dictionary.value -> value
  my.dictionary.list[0].value -> value
  my.dictionary.list[1].value.list[0].value -> value
  into a nested JSON""""""
  if '.' in s:
      key, rest = s.split('.', 1)
      # Check if key represents a list
      match = re.search(r'(.*)[(d)]$', key)
      if match:
          # List
          key, index = match.groups()
          val = res.get(key, {}) or []
          assert type(
              val) == list, f'Cannot set key {key} as of type list as it was earlier marked as {type(val)}'
          while len(val) <= int(index):
              val.append({})
          val[index] = parse_dotted_str(rest, {})
          res[key] = val
      else:
          # Dict
          res[key] = parse_dotted_str(rest, res.get(key, {}))
  elif '->' in s:
      key, val = s.split('->')
      res[key.strip()] = val.strip()
  return res


def getmylogger(name):
  """"""Creating a logger for debugging and log file generation.""""""
  file_formatter = logging.Formatter(
      '%(asctime)s  %(name)s  %(levelname)s  %(funcName)s:%(lineno)d  %(message)s', datefmt='%m-%d-%Y %H:%M:%S')
  console_formatter = logging.Formatter('%(levelname)s -- %(message)s')

  file_handler = logging.FileHandler(""ilblockly.log"")
  file_handler.setLevel(logging.DEBUG)
  file_handler.setFormatter(file_formatter)

  console_handler = logging.StreamHandler()
  console_handler.setLevel(logging.DEBUG)
  console_handler.setFormatter(console_formatter)

  logger = logging.getLogger(name)
  logger.addHandler(file_handler)
  logger.addHandler(console_handler)
  logger.setLevel(logging.DEBUG)
  logger.propagate = False

  return logger


class DecimalEncoder (json.JSONEncoder):
  def default(self, obj):
      if isinstance(obj, Decimal):
          return int(obj)
      return json.JSONEncoder.default(self, obj)


# Logging
logger = getmylogger(__name__)
open('ilblockly.log', 'w').close()
exit_status=0

# Defining the api-endpoint
API_ENDPOINT = ""https://instantlabs-eks-iladmin-staging-us-west-1.instantlabs.io""

# Data to be sent to ILAdmin
obj = [{""action"": ""Admin.UI.GetDetail.Schema"", ""params"": {""schema_dfn_id"": 2}}]
obj = json.dumps(obj)

# Sending POST request and saving response as response object
r = requests.post(url = API_ENDPOINT, data = obj)

# Extracting useful data from response
schema_dict = json.loads(json.loads(r.text)[0]['data'])[0]['schema_dfn']
schema_dict = json.loads(schema_dict)

# Database Connection Parameters
minConnection = 5
maxConnection = 20
params = {""user"":""postgres"",""password"":""Golden123"",""host"":""127.0.0.1"",""port"":""3407"",""dbname"":""ilcore""}

try:
  threaded_pool = psycopg2.pool.ThreadedConnectionPool(
      minConnection, maxConnection, **params, options=""-c search_path=public,test_ildev"")
  logger.debug(""Threaded SQL Connection pool created successfully"")

  # Exporting logs to database
  mainconn = threaded_pool.getconn()

  # Cursor Initialize
  maincursor = mainconn.cursor(
    cursor_factory=psycopg2.extras.RealDictCursor)

  mainconn.autocommit = True

  # Create Schema if not created
  schemaName=""2_ildev_dep4""

  # Creating Schema if not exist
  maincursor.execute(
      '''CREATE SCHEMA IF NOT EXISTS ""'''+schemaName+'''"";''', ())

  # Creating queryresults Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".queryresults (
        ""id"" SERIAL NOT NULL,
        ""il_id"" SERIAL NOT NULL,
        ""il_vs"" int,
        ""tableName"" varchar(50),
        ""customerKey"" varchar(1000) PRIMARY KEY NOT NULL,
        ""returnResults"" json,
        ""last_modified"" timestamp
      );''', ())

  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET UNLOGGED;''', ())

  # Creating querylogs Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".querylogs (
        ""run_id"" SERIAL PRIMARY KEY NOT NULL,
        ""logs"" text,
        ""exit_status"" int,
        ""last_modified"" timestamp
      );''', ())


  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""myTable""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,id,id,id,id,id,id,id,id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''SELECT product_id AS ""product_id""
    FROM products;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      context_id = row['product_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT product_id AS ""id""
      FROM products
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""categories""
        context_hierarchy.append(""categories"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT pc.akey AS ""akey"",
            c.val AS ""val""
        FROM category c
            INNER JOIN products_category pc ON c.akey = pc.akey
        WHERE pc.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""ooe""
        context_hierarchy.append(""ooe"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''SELECT p.u32 AS ""u32"",
            p.u64 AS ""u64"",
            p.i32 AS ""i32"",
            p.i64 AS ""i64"",
            p.f64 AS ""f64"",
            p.d2 AS ""d2"",
            p.d5 AS ""d5"",
            p.d6 AS ""d6"",
            p.b AS ""b"",
            p.iljson AS ""iljson"",
            p.string AS ""string"",
            p.datetime AS ""datetime""
        FROM products p
        WHERE p.product_id = %s;''',(context_id,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Array Context
          try:
            data_context+=1
            context = ""au64""
            context_hierarchy.append(""au64"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''SELECT ia.ival AS ""au64""
            FROM int_array ia
                INNER JOIN products p ON ia.product_id = p.product_id
            WHERE p.product_id = %s;''',(context_id,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''SELECT string_id AS ""string_id""
      FROM manystrings
      WHERE product_id = %s;''',(context_id,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

        string_id = row['string_id']

        # Setting Struct Context
        try:
          data_context+=1
          context = ""manyStrings""
          context_hierarchy.append(""manyStrings"")
          context_type[data_context] = ""struct""

          # Variable for storing fetched row
          items[data_context] = []


          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''SELECT CONCAT('mstring', m.string_id) AS ""id"",
              m.astring AS ""manyStrings""
          FROM manystrings m
          WHERE m.string_id = %s
              AND m.product_id = %s;''',(string_id,context_id,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

        except (Exception, psycopg2.DatabaseError) as error:
          logger.exception(""Error in Setting Struct Context"")
          logger.exception(error)
          exit_status=1

        finally:
          context_hierarchy.pop()
          del context_type[data_context]
          data_context-=1


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,id,id,id,id,id,id,id,id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep4""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

except (Exception, psycopg2.DatabaseError) as error:
  logger.exception(""Threaded Connection Pool failed to initialize"")
  logger.exception(error)
  exit_status=1

finally:
  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET LOGGED;''', ())

  # Cursor Close
  maincursor.close()

  # Release the connection object and send back to connection pool
  threaded_pool.putconn(mainconn)

  # Closing database connection.
  # Use closeall method to close all the active connection if you want to turn of the application
  if (threaded_pool):
      threaded_pool.closeall
  logger.debug(""Threaded SQL connection pool is closed"")

# Exporting Logs to database
with psycopg2.connect(**params) as logconn:
    with logconn.cursor() as logcursor:

        logconn.autocommit = True

        # Create Schema if not created
        schemaName=""2_ildev_dep4""

        with open(""ilblockly.log"", 'r+') as myfile:
          log_contents = myfile.read()
          # Executing SQL query
          logcursor.execute(
              '''INSERT INTO ""'''+schemaName+'''"".querylogs (""logs"", ""exit_status"", ""last_modified"") VALUES (%s, %s, NOW());''',(log_contents, exit_status,))
","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable id=""sB#uc]%JJgYHBS]hEq=!"">parent</variable>
    <variable id=""{}#sJ0bkpDkjtbsr|hd*"">child</variable>
    <variable id=""JAAyRxcFVuo)u!mpUxB#"">context_id</variable>
    <variable id=""zgkV`y7_IiEpq72q%vU`"">string_id</variable>
  </variables>
  <block type=""initialization"" id=""~8au(mYD)Bbn5sn:xrQo"" x=""-7937"" y=""-1738"">
    <statement name=""CODE"">
      <block type=""targetcontext_table"" id=""Ajl}S+d%~xOs0?/c#x}s"">
        <field name=""CONTEXT_SELECT"">myTable</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""?PS6KLf0=b=fLm3w0TQL"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""W3qT{O5)+[q/$]Lx+@HD"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""z9ubgfm.DZDoKBSc1{,9"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id="":wm2./#-OF/il]JC}_wN"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""tPouu=sTX(Z^AQD4tCwk"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""MuRE*1lr3jhJ5F/O!QJ5"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""]DW($g=U/Ru8P4l(l]Bg""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""6f.V!JV}/`7z_Qg0hieN"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""S)xD2Pp0!`MzZ7aSQ,o;"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable  categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""0VRusy5`M9_X`TKQzTBr"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""yasg$J#`JGS.vFI65H:r"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""kVYug_kcLb,mWD2;]jYS"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""],u|Kt0c*YWA%D2TN`]f""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""#,)UAe%y$[59bG981QDH"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_struct"" id=""(]^iB/RLV.Cl^F/X$aTE"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                            <field name=""CONTEXT_SELECT"">myTable  ooe</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id="".(Nf?FEj%c*$9?_^Z/+t"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""Y^DD^%6/-%j.uhcax]i}"">
                                    <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_automap"" id="",t/Pi$%(@l^OqT#e,Fq;"">
                                    <next>
                                      <block type=""targetcontext_array"" id="",7fqs+I@;iYstUN^Z$.Y"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable  ooe""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable  ooe  au64</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""nEQB]9GU1,^cddAq*8U;"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""I}~]~aCpF65?DuYK:qX8"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""L~4^(yJmAm6DfCWd2+f`"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""#f?Z;u=fcM?P]9z$T3,p""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""f~pI%r;wy{g2Eofap$]7"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""`5]Z`%]CTmCzsyCk^F@S"">
                                    <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""sql_execute"" id=""fOf!#:NbpGe{/4-aHstH"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""+h2__B;9oQ#IXtP)Ma^Q"">
                                    <field name=""SQL_QUERY"">SELECT string_id AS ""string_id""&amp;#10;FROM manystrings&amp;#10;WHERE product_id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""variables_set"" id=""r4NwsSYb@Nd}@7W~_0|v"">
                                    <field name=""VAR"" id=""zgkV`y7_IiEpq72q%vU`"">string_id</field>
                                    <value name=""VALUE"">
                                      <block type=""targetcontext_refer_columns"" id=""x#3)P8%OyG?ww4C0qZuG"">
                                        <field name=""COLUMN"">string_id</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""targetcontext_struct"" id=""mL.*k}2Cwa$4/]![=}jG"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable  manyStrings</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""PHew[rTH]Yh~dmrSJHKX"">
                                            <mutation bindsCount=""2""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""HM$nOsaXv?m3^8mc{[($"">
                                                <field name=""SQL_QUERY"">SELECT CONCAT('mstring', m.string_id) AS ""id"",&amp;#10;    m.astring AS ""manyStrings""&amp;#10;FROM manystrings m&amp;#10;WHERE m.string_id = %s&amp;#10;    AND m.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""1-8Cx!J{B50`PPaYPhj4""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""?=yP#^/x^x32c5/:Cx#("">
                                                <field name=""VAR"" id=""zgkV`y7_IiEpq72q%vU`"">string_id</field>
                                              </block>
                                            </value>
                                            <value name=""SQLOPTION2"">
                                              <block type=""variables_get"" id=""ff!g;wmtAib8)#UQDG+r"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""kd3{QjXueRAP5z[g3eju"">
                                    <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""targetcontext_save_row"" id=""Uy2J9d6:f#uejH7#/dk}""></block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""initialization"" id=""G0{-y;($0I3w0qj/qe:p"" disabled=""true"" x=""-7038"" y=""-1712"">
    <statement name=""CODE"">
      <block type=""variables_set"" id=""=G6_iM+{@?3O#]|R^+@7"">
        <field name=""VAR"" id=""sB#uc]%JJgYHBS]hEq=!"">parent</field>
        <value name=""VALUE"">
          <block type=""argument_use"" id=""Hm#8bm`0qky*2n+Fk[lb"">
            <field name=""ARGUMENT"">1</field>
          </block>
        </value>
        <next>
          <block type=""controls_if"" id=""~+uQ*5@*1Q).D;:,:s55"">
            <mutation elseif=""2"" else=""1""></mutation>
            <value name=""IF0"">
              <block type=""logic_compare"" id=""sbJTi#f$u7qqNZ+fZrN."">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""argument_use"" id=""]Oe^F;Mny%9kK.1Cr:tc"">
                    <field name=""ARGUMENT"">1</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""text"" id=""~-BAp[,1bi$t+(]2Hs$F"">
                    <field name=""TEXT"">default</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name=""DO0"">
              <block type=""procedures_callnoreturn"" id=""?7NuBwjrc8ww`ZfvS@I2"" disabled=""true"">
                <mutation name=""default""></mutation>
              </block>
            </statement>
            <value name=""IF1"">
              <block type=""logic_compare"" id=""#$2HZ#bEYG0QNq%J~gI!"">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""variables_get"" id=""}.Lt@*iOx)t.iwn14!W_"">
                    <field name=""VAR"" id=""sB#uc]%JJgYHBS]hEq=!"">parent</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""text"" id=""H`^U}76.Ebo`e2kYG2:V"">
                    <field name=""TEXT"">struct</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name=""DO1"">
              <block type=""variables_set"" id=""!S]0ps|]0skNRmX!5mhd"">
                <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                <value name=""VALUE"">
                  <block type=""argument_use"" id=""h7_Swhnzx!=C,X5CMU_F"">
                    <field name=""ARGUMENT"">2</field>
                  </block>
                </value>
                <next>
                  <block type=""controls_if"" id=""*J`=*OO;x:[ivh9:aQ)r"">
                    <mutation elseif=""3"" else=""1""></mutation>
                    <value name=""IF0"">
                      <block type=""logic_compare"" id=""gJh-Ufqq6]1qVMPGWi|+"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""y(u`SF-qX5/q^IzJ[sF^"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""lwmg-T99u^9Fg=;V$.S#"">
                            <field name=""TEXT"">struct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO0"">
                      <block type=""procedures_callnoreturn"" id=""prV-}4=Eq1B0d7GE$8Iy"" disabled=""true"">
                        <mutation name=""struct_in_struct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF1"">
                      <block type=""logic_compare"" id=""4-+0oVjB.#Lo8{N{#6mA"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""h2[Q+:vQ%H@dNW5h7FV$"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""Q=Oj:{+q-CUWvJUu9[3@"">
                            <field name=""TEXT"">array</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO1"">
                      <block type=""procedures_callnoreturn"" id=""H:O%UnJi$g40RGo?*USY"" disabled=""true"">
                        <mutation name=""array_in_struct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF2"">
                      <block type=""logic_compare"" id=""XL.xe/OJtifJ0}+YS*AQ"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""m!aO0^!d!.;x7=.VPR#j"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""]RSX.UY%oZN@`Gm4Uf}e"">
                            <field name=""TEXT"">arrayStruct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO2"">
                      <block type=""procedures_callnoreturn"" id=""Gg0E,[x[*yQb^L|8J,FI"" disabled=""true"">
                        <mutation name=""arrayStruct_in_struct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF3"">
                      <block type=""logic_compare"" id=""pSjyh(8$r+qT,Xk@W+uL"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""GW+G?bR4#BMl$Jl}a;f/"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""a7~$DonWm.;xEOd#DK%?"">
                            <field name=""TEXT"">field</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO3"">
                      <block type=""procedures_callnoreturn"" id=""*6*C}xW@!(b7rnp;w!JA"" disabled=""true"">
                        <mutation name=""field_in_struct""></mutation>
                      </block>
                    </statement>
                    <statement name=""ELSE"">
                      <block type=""logs_error"" id=""enEH*6y2Pg?_m*|:a1QB"">
                        <value name=""LOG"">
                          <block type=""text"" id=""g}zxc21/-5!}NBH7Q9D`"">
                            <field name=""TEXT"">Arguments not allowed</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
            <value name=""IF2"">
              <block type=""logic_compare"" id=""XD(WIt]UX#;SkYWkCZTZ"">
                <field name=""OP"">EQ</field>
                <value name=""A"">
                  <block type=""variables_get"" id=""SD~~$?JmGCK2N,cSIQ=["">
                    <field name=""VAR"" id=""sB#uc]%JJgYHBS]hEq=!"">parent</field>
                  </block>
                </value>
                <value name=""B"">
                  <block type=""text"" id="":|5_w:lwDz#c*[XygCx]"">
                    <field name=""TEXT"">arrayStruct</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name=""DO2"">
              <block type=""variables_set"" id=""ono7S8)?!FnRj1p]l:Ia"">
                <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                <value name=""VALUE"">
                  <block type=""argument_use"" id=""X]#jh,]iuiU!)1nIpgWl"">
                    <field name=""ARGUMENT"">2</field>
                  </block>
                </value>
                <next>
                  <block type=""controls_if"" id=""h$L.!`/}XBFLz,,*w7@t"">
                    <mutation elseif=""3"" else=""1""></mutation>
                    <value name=""IF0"">
                      <block type=""logic_compare"" id=""X-){i2~A?.1|^Ui8p[$."">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""e-;HL0~y5*b|Hd#$^4pT"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""1hcYObsG;A5?MLO^0OS,"">
                            <field name=""TEXT"">struct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO0"">
                      <block type=""procedures_callnoreturn"" id=""+RGHLER5j!r%B7=:(HwY"" disabled=""true"">
                        <mutation name=""struct_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF1"">
                      <block type=""logic_compare"" id=""~a`J4*8.@DCaD*b[2Sia"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id="".*c?_(#hZh+6WUT8K3uD"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""^BRAKoHS`#SMozl,UA.b"">
                            <field name=""TEXT"">array</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO1"">
                      <block type=""procedures_callnoreturn"" id=""x94||Sg9TXc~`T4$f:e`"" disabled=""true"">
                        <mutation name=""array_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF2"">
                      <block type=""logic_compare"" id=""%/yt:ER(Iw8V)eTfh37M"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""SG26-Ea8DWawWzftjwSP"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""]7c`r=sTt2@SqRugPsWR"">
                            <field name=""TEXT"">arrayStruct</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO2"">
                      <block type=""procedures_callnoreturn"" id=""W!tUA=NYQ6dTbxC8*F-L"" disabled=""true"">
                        <mutation name=""arrayStruct_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <value name=""IF3"">
                      <block type=""logic_compare"" id=""=vo`^L4?h+cAYiGRo.SK"">
                        <field name=""OP"">EQ</field>
                        <value name=""A"">
                          <block type=""variables_get"" id=""p#0tL_eHIuhJssybgrNf"">
                            <field name=""VAR"" id=""{}#sJ0bkpDkjtbsr|hd*"">child</field>
                          </block>
                        </value>
                        <value name=""B"">
                          <block type=""text"" id=""kxu6F;5$u(]8C|Te-cz8"">
                            <field name=""TEXT"">field</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name=""DO3"">
                      <block type=""procedures_callnoreturn"" id=""`PlJ7aIk#dF1a1P-HG)E"" disabled=""true"">
                        <mutation name=""field_in_arrayStruct""></mutation>
                      </block>
                    </statement>
                    <statement name=""ELSE"">
                      <block type=""logs_error"" id=""jkcUm(YV$?I.B3SiDb)["">
                        <value name=""LOG"">
                          <block type=""text"" id=""x2XEOMrLUN7GhX$`l3M;"">
                            <field name=""TEXT"">Arguments not allowed</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
            <statement name=""ELSE"">
              <block type=""logs_error"" id=""-Mbx),i8mO}_JWldVg+!"">
                <value name=""LOG"">
                  <block type=""text"" id=""=ckKv6CW(0!_USSpU9rU"">
                    <field name=""TEXT"">Arguments not allowed</field>
                  </block>
                </value>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id="")*~L;X,dd4r]!nm6/JgU"" disabled=""true"" x=""-6162"" y=""-1712"">
    <field name=""NAME"">struct_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""cYu6kq|MewAf}+O)0Y/7"">
        <field name=""CONTEXT_SELECT"">myTable_struct_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""a+Zud?dty/vldhD!zK`i"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""wu/kr*@(gt)oQG.2N1X|"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""+xG+M9uOo./9yzCTyLAw"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""pE*tJ,u`CDaj3wH6PtKv"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""GNsa@Gqh-paHgsZ)c.PZ"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Ei7%~r!KA%Y)gapbkCns"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""~B$+ldnQ/6^Xm!30[_Gp""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""13bv,Q=^kphBa?c]Cc9I"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id=""oO4twTaj!e#1fc*a/LHd"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_struct_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""OX_U9[nSIEMb~!yV5S;l"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""N2eVuiqb])~/SXxn)#!P"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""x!Hx,%;t}jB71.(-ngkU"">
                                <next>
                                  <block type=""targetcontext_struct"" id=""jlIB9@Tn^%{D/l?Og`dS"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_struct  parent_ooe""></mutation>
                                    <field name=""CONTEXT_SELECT"">myTable_struct_in_struct  parent_ooe  child_ooe</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""nyJbf*/jxJy5CSr^ZJJi"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""uZbrmG)PPlS{zauWnFG7"">
                                            <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_automap"" id=""6xAd3B,0Z0Xys//JIyZ@""></block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""WxCiE^[^]X0aEg%?7`:Q"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""nC2TW.-^9*MoVUyP4]z("">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""jSjGqW;*P1RFcfJ#IQQ;""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""d~+)4ay2(UNKP?zpqcAQ"" disabled=""true"" x=""-5262"" y=""-1712"">
    <field name=""NAME"">array_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""(gEX.nmVn{Aajm5YqQA{"">
        <field name=""CONTEXT_SELECT"">myTable_array_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""ca,}6FxBfq-Ep-PoZ;_m"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""g-,E0gWfsLDF6bVtbvW1"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""~:Qf@qJEjP.-r@!wHzX:"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""N0cIbDj)UqM%!))yB`w|"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""F{{8+(UF;QBVUfTl9z1Y"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""QI%$5xG{/g+Fk9#,L/pF"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""uhDg)GQ.$!?9.O[4Xc^:""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""|~H-)B$1~#M+NQc1[;e]"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id="".VYZxg7XJoGBbB}ti]Zc"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_array_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""ZjY*L!Q9I!}xK]{^Ico4"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""{ut.X}xs~GN|UMJ[!XG@"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""ywv=jV,%-NPeFW[Ru/65"">
                                <next>
                                  <block type=""targetcontext_array"" id=""Os%B`nVfh5P;g!`JSKoj"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_struct  parent_ooe""></mutation>
                                    <field name=""CONTEXT_SELECT"">myTable_array_in_struct  parent_ooe  child_au64</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""ZvKcCKrR0fkh%JjCNCZ*"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""D)^sS:T6#9|aiK13w*TW"">
                                            <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""#jC_0i3lgjTI^;G@[h:C"">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""x)oKVk}@)Knh/fPSy{bO""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""Q;oac+R,^@GEqRAa8_=B"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""?vkZ9TVdo2F.BQhSvW^#"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""lJ`hcDIB4f$KP9=bu/IV""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id="")lvj[.u[r{Xprm4_[pHF"" disabled=""true"" x=""-4363"" y=""-1687"">
    <field name=""NAME"">arrayStruct_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""(E5|;=A~}/sx+:EI5R(H"">
        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""_~6{kDXF8$WmvX0,izjV"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id="")_N6cbom#0@$MPFcC/eq"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""%16UC6!0rm8lzTfeX/qm"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""UBAjn@_0DnU!)x|-aSb+"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""sF))U63pe0lPi)T9@wNY"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Y+QO6LV6.Rhq=bI/#):V"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""IpgMVpD/UEuyIu,yY.tF""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""F;lZ);-r)z6R4xidO)`3"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id=""[p$KB^`6`*U7JE2],un="">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""zpii#vzlTVhlq:?~jl~4"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""p]Zjh9BihpyD3Ss:cF.2"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""L0[4YLza%4(0elx+)X4p"">
                                <next>
                                  <block type=""targetcontext_arraystruct"" id=""lh{g0^yAk_$P=!^*UqkP"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_struct  parent_ooe""></mutation>
                                    <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_struct  parent_ooe  child_categories</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""-iRp1][|:IXq!!^hy$$N"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""8:d+=oi!W*HN_gIc38yc"">
                                            <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""8TglNQBzHxkfE$l{Haf="">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""r5TBUzbkbsq7Nz.U?k?,""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""A3s_y8@L`%m9j6gXPKyT"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""yS!ZG03nxH43Exk_y_D)"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""6!HiU,|h@Rv6(K?UQnJz""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""zjXNx8Qv3,I=18GQteT@"" disabled=""true"" x=""-3512"" y=""-1687"">
    <field name=""NAME"">field_in_struct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""GnI;dC}xD:r1KTIXBxaQ"">
        <field name=""CONTEXT_SELECT"">myTable_field_in_struct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""HJ9#wYuuu7*v@Uzz%czF"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""lJ,V-;|Ji.QGMcHXKQ2*"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""qns^5RNa[AfEv7?xNvMJ"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""C+_~12:bv_$mBL1T(jD#"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""T7Nps?/I%20{jUip}M({"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""V[20D9+r+w2]!?xtDaQz"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""G^)!A(KIRMd%52lA[2L,""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""D)|ySK=}M,2dC~(HtNnc"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_struct"" id=""fp^A$e~^#F`I3Ze2FsG@"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_struct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_field_in_struct  parent_ooe</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""wI?EE;TL`o_Sp!QV11DJ"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""vjBi=ZXF#0gcf,q@}ln8"">
                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_automap"" id=""q+v)qXU8UV8FeSGS0p0*"">
                                <next>
                                  <block type=""sql_execute"" id=""]bP0]K/TQMZe1jJVgdkx"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""/~a7rTvn)Y~7+kVZiF`%"">
                                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_field"" id=""PeIM737GK1#8,:/x6Y1s"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_struct  parent_ooe""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_field_in_struct  parent_ooe  child_id</field>
                                        <value name=""FIELD"">
                                          <block type=""text_join"" id=""4bKm{Qv:*/II6Foo625U"">
                                            <mutation items=""2""></mutation>
                                            <value name=""ADD0"">
                                              <block type=""text"" id=""dNS5mnL!MBiA`(`S;p^8"">
                                                <field name=""TEXT"">child_</field>
                                              </block>
                                            </value>
                                            <value name=""ADD1"">
                                              <block type=""targetcontext_refer_columns"" id=""uLiwlsF79Jc_1wB):%l("">
                                                <field name=""COLUMN"">id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""iJo)iaPN|GU0?#p|!=u~"">
                                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                      </block>
                                    </value>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""=e4,`NM3h2Il@ljfFT@H"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""`}Qao:l,,LybVXh4JK%T""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""Zri!HjK%Cj7Qo(oi0e[V"" disabled=""true"" x=""-7037"" y=""-663"">
    <field name=""NAME"">default</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""bS;3Qx{~bI@#4vC#ZK-t"">
        <field name=""CONTEXT_SELECT"">myTable</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""Szl71xBPar*FuK)FBI5U"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""A~8wY]2k4U5m@Zfq9{}T"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""yjoE1*}y(Y7KA8$G_}FG"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""o[|Ozb*xo|?_4GvJ.C.4"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""wu]uMOMDvgt+Ot1ork:i"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""qQ6!BAu}08Y[2v.a7_8*"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id="")GvQVHn[Dc%aHq,[h%xo""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""dz~$kN*[F)}:SB0hjQJd"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""JWkca8Y@b+^^X:hj5$rS"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable  categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""uqd9Zh{(4x,tRmD8/7}j"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""0*UkQ0AY}/h;J=Y4fqRH"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""3B]OrY^_f%Vk[sXv0?HU"">
                                <next>
                                  <block type=""targetcontext_automap"" id="":KPiPFU`coTwv*L)$Z7f""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""B_#5C1!w;0U$lK:j:IoH"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_struct"" id=""+$[FP,G6MAPAtQUp5GD8"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                            <field name=""CONTEXT_SELECT"">myTable  ooe</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""$)-+84Hu@|]S~lO!1Y{."">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""R;yA@mpDsov:UQOC;vl2"">
                                    <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_automap"" id=""ZA;]LOKp:v_MQ-e(?)M="">
                                    <next>
                                      <block type=""targetcontext_array"" id=""yKeYswUU_dikaL32ws,b"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable  ooe""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable  ooe  au64</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""EnrNM%%w:tA18U98P,Vj"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""CLAK|j,YHf+:wYkVoz!K"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""JBe6}Z@J.}2;-~TnE%+{"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""4nz~ED+-K-D,/67hDkX,""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""V/pQ-At,Qy92_fL6LQ5g"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""@qU[l=Ft[lOg,]!M`}OX"">
                                    <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""sql_execute"" id=""ZbgpDf8vVyM:v:h$m|$9"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""Y8X%jcoflfri[RBYlVa$"">
                                    <field name=""SQL_QUERY"">SELECT string_id AS ""string_id""&amp;#10;FROM manystrings&amp;#10;WHERE product_id = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""variables_set"" id=""[o#k/n`59Pv$JC+XLcr!"">
                                    <field name=""VAR"" id=""zgkV`y7_IiEpq72q%vU`"">string_id</field>
                                    <value name=""VALUE"">
                                      <block type=""targetcontext_refer_columns"" id=""iF!IOKn9`VYQ9Vyp4n[^"">
                                        <field name=""COLUMN"">string_id</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type=""targetcontext_struct"" id=""s=@_Aw8x;nSS4y^c1i?9"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable  manyStrings</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""Wr(6kv=5R0^r3+3a2Ie!"">
                                            <mutation bindsCount=""2""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""8m8N:@[jnU#u84v7U,x6"">
                                                <field name=""SQL_QUERY"">SELECT CONCAT('mstring', m.string_id) AS ""id"",&amp;#10;    m.astring AS ""manyStrings""&amp;#10;FROM manystrings m&amp;#10;WHERE m.string_id = %s&amp;#10;    AND m.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""~vfHPN5LJK0W8I_B?P$X""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""0++7=iA=3S[u`k.f)AD0"">
                                                <field name=""VAR"" id=""zgkV`y7_IiEpq72q%vU`"">string_id</field>
                                              </block>
                                            </value>
                                            <value name=""SQLOPTION2"">
                                              <block type=""variables_get"" id=""~iL.Z]DG;]t*BFDv{pDv"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""Pwhj$~)B+{?a^ObSgP:W"">
                                    <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                  </block>
                                </value>
                                <next>
                                  <block type=""targetcontext_save_row"" id=""tE@5F(H/pAy+M3?+G3X`""></block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""}|GH#Xkuv^d4=n0$C;`g"" disabled=""true"" x=""-6162"" y=""-437"">
    <field name=""NAME"">struct_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""5V?4:A|vl/ILS8^k]AM6"">
        <field name=""CONTEXT_SELECT"">myTable_struct_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""jD},1HZJx_xTCmvM^ZEM"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""iiqP?%/cZ_Qw([L?fR5q"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""]lIkVU3(UrG[^=Ry0+ED"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""R:mKqO^1Eop$yyzzx!Zh"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""k*j%hJ`1MV!?~o0FgNAD"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""Fm`o+sf9dkDxr4(d:KNG"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""`J[C~;:T(QX/^PqB0.$P""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""b7;cp;7#|8Pv%%h]}G~k"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""@3p!0+^$oOWeD`y#:9Xp"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_struct_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""TBet15%*gO5vFZ-LJ8=M"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""R0=zFa?:#6(4TgvgNo=X"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""PLfSeZRYZO5aZf,hgM3}"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""-Hu?X}OZt#U;]3?9u35c"">
                                    <next>
                                      <block type=""targetcontext_struct"" id=""#nISS6P$i8c;gJ;c2S;:"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_struct_in_arrayStruct  parent_categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_struct_in_arrayStruct  parent_categories  child_ooe</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""CUrPgqO#QF)!{lK:Wky3"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""R}Hz$x;uGsnWijo!Qv-1"">
                                                <field name=""SQL_QUERY"">SELECT p.u32 AS ""u32"",&amp;#10;    p.u64 AS ""u64"",&amp;#10;    p.i32 AS ""i32"",&amp;#10;    p.i64 AS ""i64"",&amp;#10;    p.f64 AS ""f64"",&amp;#10;    p.d2 AS ""d2"",&amp;#10;    p.d5 AS ""d5"",&amp;#10;    p.d6 AS ""d6"",&amp;#10;    p.b AS ""b"",&amp;#10;    p.iljson AS ""iljson"",&amp;#10;    p.string AS ""string"",&amp;#10;    p.datetime AS ""datetime""&amp;#10;FROM products p&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_automap"" id=""[3.^E^JR7o2Y!|9HQWES""></block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""3]YvGcpQ@GQo42c`Nj@U"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""V$[8@.fczO$+k;L}R%Nn"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""+`--!W=FUFMHaQ!-(!5A""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""1bgpiz(qGj9j70jmt_N4"" disabled=""true"" x=""-5262"" y=""-438"">
    <field name=""NAME"">array_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""k_Ig=:Yr!|SJREhLrsT4"">
        <field name=""CONTEXT_SELECT"">myTable_array_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""eEmMhV1n1McIDr--bOGQ"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""8ySZ@0!%Z:[H-S|N,.]3"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""2G@QsV8Nwgqf_@%2u@Ud"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""65MhlYZah;e^rSiAn}Dv"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""%bIKMpj8|-J:0dMAUn)2"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""w,d|8}VJC(g#JIUF3fEr"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""],4S)p6^dys~(kP/@vQo""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""^%.fj7cC826JUomU#%A?"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""v.kQAq5M;6-No10asI1}"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_array_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""weU^c.-B)6?yU$QH@@a#"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""g3|O:8q:L^WV|82gha8A"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""qE.`dhsL@q40p)n].q+p"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""lVXDngt/3aj1Eo5[+`ME"">
                                    <next>
                                      <block type=""targetcontext_array"" id=""VK$r^8mbiz+TyYbh0tYR"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_array_in_arrayStruct  parent_categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_array_in_arrayStruct  parent_categories  child_au64</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""W{+pL6b+z={K)/}4*b%;"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""qQ4O0,`I41|W3t`abW*4"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""SWnyISM|rc[CG9O1R$1z"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""/rv0yw/Ja!TFYi[jt.[D""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""n)W/@Ik4V,[x`Gr70@gf"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""9Cm?=zVXHvay9l|;:wCq"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""e%/r$c^LVCaLqvt^gpr/""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""NdrCO*ad)c/C`ZUtjwWj"" disabled=""true"" x=""-4362"" y=""-437"">
    <field name=""NAME"">arrayStruct_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""=u|:^B}UzK3h1F6N}B^g"">
        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""k6Az$zfF%bw7X]-m-ABF"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""-u.M`h$.82fajC6MJ:z["">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""lQqep7%-;.nRELYLt/hz"">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""R,,Ry4RT_oC4/l8g~#;("">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""P|~QwyazS~j9ZAxw@xJs"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id="";As[b_Pt]4JXf%c$fWp_"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""OWihB{{@vE@+x=GFX(S@""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""Fo-dc8NEJ_%4Jkn@|pq/"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id="".%5JDpM5L=5!GagGJVJc"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""AsfZL^7-z*FJ^Hm|cq=m"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""FyXrg9kRf(H4bHr`MnT-"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""n/*{rg4oj3LDY(Y-*Gsz"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""(BDa^;m+2g]3hk7en?aG"">
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""nL+FZ?d0W#.tUBg.tvq^"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_arrayStruct_in_arrayStruct  parent_categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">myTable_arrayStruct_in_arrayStruct  parent_categories  child_categories</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""(rYwqdp#AF%jpiwV[*B%"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""g[$QR%YzLf~:ryk-/`Zr"">
                                                <field name=""SQL_QUERY"">SELECT ia.ival AS ""au64""&amp;#10;FROM int_array ia&amp;#10;    INNER JOIN products p ON ia.product_id = p.product_id&amp;#10;WHERE p.product_id = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""8g+ne`y!|?!n+;7q%f8U"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id="".dG..t=gv9~A.7/7Gr$+""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""@.*xWk@yqqyJ{2LOoBxP"">
                                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""fBr5,P?`Qw=YW?jk@X0Z"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""*?v8O_deTl#x5c:g{JxG""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""AbcQ+ldew8}lj}9ksEa-"" disabled=""true"" x=""-3512"" y=""-437"">
    <field name=""NAME"">field_in_arrayStruct</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""[E7z=+y%C;{aQ@2rfPX]"">
        <field name=""CONTEXT_SELECT"">myTable_field_in_arrayStruct</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""nG4Y`bU(_s8I(lYx3?cj"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""e~`aS~@RgQY%D%z6:^@U"">
                <field name=""SQL_QUERY"">SELECT product_id AS ""product_id""&amp;#10;FROM products</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id="":k,4Fk`I!gSi$I,j6F{["">
                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""AU$7bR#bK4i45C7K*iOj"">
                    <field name=""COLUMN"">product_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""c+LSj*5%n3Q9FR;Vaa*b"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""OAYwOQ4ceQ1aQWRFrprN"">
                        <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""}U#kBK!uDXv7nGZzFdm-""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""UQ?^zbLyMI0Q0m$hhMdc"">
                        <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id="".lvGQQ,*-W(`H2Q0~nCU"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_arrayStruct""></mutation>
                        <field name=""CONTEXT_SELECT"">myTable_field_in_arrayStruct  parent_categories</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""{+!ccS?iQ~%+N6{)-?Cu"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""JM@4TncASr#~6}7Fg_u^"">
                                <field name=""SQL_QUERY"">SELECT pc.akey AS ""akey"",&amp;#10;    c.val AS ""val""&amp;#10;FROM category c&amp;#10;    INNER JOIN products_category pc ON c.akey = pc.akey&amp;#10;WHERE pc.product_id = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""9KN?2n(u`PT]*7suEj:C"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""98=YeDpvjD!V0z$6f)W["">
                                    <next>
                                      <block type=""sql_execute"" id=""F~vS.lC(]D5.Yllc@;[{"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id="")c{m4k@y%R^cP*pX^6X["">
                                            <field name=""SQL_QUERY"">SELECT product_id AS ""id""&amp;#10;FROM products&amp;#10;WHERE product_id = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_field"" id="",R^oTxd~r+D2=5cHrwex"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""myTable_field_in_arrayStruct  parent_categories""></mutation>
                                            <field name=""CONTEXT_SELECT"">myTable_field_in_arrayStruct  parent_categories  child_id</field>
                                            <value name=""FIELD"">
                                              <block type=""text_join"" id=""ht$Y8_pD?gJ{8BQ-L,Gz"">
                                                <mutation items=""2""></mutation>
                                                <value name=""ADD0"">
                                                  <block type=""text"" id=""wdl3|jV,_;OH/.y#QJcv"">
                                                    <field name=""TEXT"">child_</field>
                                                  </block>
                                                </value>
                                                <value name=""ADD1"">
                                                  <block type=""targetcontext_refer_columns"" id=""Z*ZxBaDC3u}U~;@^|Wq#"">
                                                    <field name=""COLUMN"">id</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""f`]|yw|KwJ8@q3]NZ=RV"">
                                            <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""Pc^j/@y$Ov`-@icHNIiI"">
                                <field name=""VAR"" id=""JAAyRxcFVuo)u!mpUxB#"">context_id</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""ek|k}.~k/Q0{Bpu=T;o0""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
</xml>",1,2021-01-26 16:22:45
2,2,salesforce,1,1,"import re
import sys
import operator
import logging
import requests
import psycopg2
import simplejson as json
import psycopg2.extras
from psycopg2 import pool
from decimal import Decimal
from functools import reduce
from datetime import datetime

GetID = None
StoreID = None
SlotID = None
productID = None
ContentID = None
ExtTypeID = None
CollectionID = None
color = None
size = None
slotCustAttr = None
storeCustAttrID = None
proCustAttrID = None
variantID = None
imgID = None

# Describe this function...
def Categories():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""categories""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    c.""ID"" as ""id""
    from
    ""Category"" c ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      CollectionID = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''
      select
      c.""ID"" as ""id"",
      c.""Parent"" as ""parentCategoryId"",
      c.""OnlineFlag"" as ""onlineFlag"",
      c.""Position"" as ""position"",
      cca.""Value"" as ""viewAllText"",
      cca2.""Value"" as ""alternateCategoryID"",
      cca3.""Value"" as ""sizeChartID"",
      cca4.""Value"" as ""showInMenu"",
      cdn.""Value"" as ""name"",
      cd.""Value"" as ""description"",
      cpt.""Value"" as ""pageTitle"",
      cpk.""Value"" as ""pageKeyword"",
      cpd.""Value"" as ""pageDescs""
      (((((((((from
      ""Category"" c
      full outer join ""CategoryCustomAttr"" cca
      on cca.""CategoryID"" = c.""ID""
      and
      cca.""AttributeID""  = 'viewAllText')
      full outer join ""CategoryCustomAttr"" cca2
      on cca2.""CategoryID"" = c.""ID""
      and
      cca2.""AttributeID""  = 'alternateCategoryID')
      full outer join ""CategoryCustomAttr"" cca3
      on cca3.""CategoryID"" = c.""ID""
      and
      cca3.""AttributeID""  = 'sizeChartID')
      full outer join ""CategoryCustomAttr"" cca4
      on cca4.""CategoryID"" = c.""ID""
      and
      cca4.""AttributeID""  = 'showInMenu')
      full outer join ""CategoryDisplayNames"" cdn
      on cdn.""CategoryID"" = c.""ID""
      and
      cdn.""Lang"" = 'x-default')
      full outer join ""CategoryDescriptions"" cd
      on cd.""CategoryID"" = c.""ID""
      and
      cd.""Lang"" = 'x-default')
      full outer join ""CategoryPageTitles"" cpt
      on cpt.""CategoryID"" = c.""ID""
      and
      cpt.""Lang"" = 'x-default')
      full outer join ""CategoryPageKeywords"" cpk
      on cpk.""CategoryID"" = c.""ID""
      and
      cpk.""Lang"" = 'x-default')
      full outer join ""CategoryPageDescs"" cpd
      on cpd.""CategoryID"" = c.""ID""
      and
      cpd.""Lang"" = 'x-default')
      where
      c.""ID"" = %s;''',(CollectionID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""displayNames""
        context_hierarchy.append(""displayNames"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cdn.""Lang"" as ""lang"",
        cdn.""Value"" as ""value""
        from
        ""CategoryDisplayNames"" cdn
        where
        cdn.""CategoryID"" = %s ;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""descriptions""
        context_hierarchy.append(""descriptions"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cd.""Lang"" as ""lang"",
        cd.""Value"" as ""value""
        from
        ""CategoryDescriptions"" cd
        where
        cd.""CategoryID"" = %s ;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""pageTitles""
        context_hierarchy.append(""pageTitles"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cpt.""Lang"" as ""lang"",
        cpt.""Value"" as ""value""
        from
        ""CategoryPageTitles"" cpt
        where
        cpt.""CategoryID"" = %s ;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""pageDescs""
        context_hierarchy.append(""pageDescs"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cpd.""Lang"" as ""lang"",
        cpd.""Value"" as ""value""
        from
        ""CategoryPageDescs"" cpd
        where
        cpd.""CategoryID"" = %s;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""pageKeywords""
        context_hierarchy.append(""pageKeywords"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cpk.""Lang"" as ""lang"",
        cpk.""Value"" as ""value""
        from
        ""CategoryPageKeywords"" cpk
        where
        cpk.""CategoryID"" = %s ;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""customAttributes""
        context_hierarchy.append(""customAttributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cca.""AttributeID"" as ""attributeId"",
        cca.""Value"" as ""value""
        from
        ""CategoryCustomAttr"" cca
        where
        cca.""CategoryID"" = %s;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Array Context
          try:
            data_context+=1
            context = ""values""
            context_hierarchy.append(""values"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            ccav.""Value"" as ""values""
            from
            ""CategoryCustomAttr"" cca
            inner join ""CategoryCustomAttrVal"" ccav
            on cca.""AttributeID"" =ccav.""AttributeID""
            where
            cca.""CategoryID"" =%s;''',(CollectionID,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""refinements""
        context_hierarchy.append(""refinements"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cr.""AttributeID"" as ""attributeId"",
        cr.""BucketType"" as ""bucketType""
        from
        ""CategoryRefinement"" cr
        where
        cr.""CategoryID"" = %s;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""attributeBuckets""
            context_hierarchy.append(""attributeBuckets"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            crab.""Name"" as ""name"",
            crab.""ValueList"" as ""valueList""
            from
            ""CategoryRefinement"" cr
            inner join ""CatRefAttrBucket"" crab
            on crab.""CategoryRefinementID"" = cr.""CategoryRefinementID""
            where
            cr.""CategoryID"" = %s ;''',(CollectionID,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""blockedRefinements""
        context_hierarchy.append(""blockedRefinements"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        cbr.""AttributeID"" as ""attributeId"",
        cbr.""Type"" as ""blockedType""
        from
        ""CatBlockedRef"" cbr
        where
        cbr.""CategoryID"" = %s;''',(CollectionID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def Extentions():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""extensions""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    mct.""CustomTypeId"" as ""typeId""
    from
    ""MetaCustomType"" mct ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      ExtTypeID = row['typeId']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      mct.""CustomTypeId"" as ""typeId""
      from
      ""MetaCustomType"" mct
      where
      mct.""CustomTypeId"" = %s;''',(ExtTypeID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""attributes""
        context_hierarchy.append(""attributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        mctad.""MetaCustTypeAttrDefID"" as ""attributeId"",
        mctad.""maxValue"" as ""maxVal"",
        mctad.""minValue"" as ""minVal"",
        mctad.""type"" as ""attributeType""
        from
        ""MetaCustTypeAttrDef"" mctad
        where
        mctad.""CustomTypeID"" = %s;''',(ExtTypeID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""values""
            context_hierarchy.append(""values"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            mctaddn.""Value"" as ""value""
            from
            ""MetaCustTypeAttrDef"" mctad
            inner join ""MetaCustTypeAttrDefDispName"" mctaddn
            on mctaddn.""MetaCustTypeAttrDefAttrID"" = mctad.""MetaCustTypeAttrDefID""
            and
            mctaddn.""Language"" = 'x-default'
            where
            mctad.""CustomTypeID"" = %s;''',(ExtTypeID,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""groups""
        context_hierarchy.append(""groups"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        mctgd.""GroupID"" as ""groupId"",
        mgddn.""Value"" as ""displayName"",
        mgda.""AttributeID"" as ""attributes""
        ((from
        ""MetaCustTypeGroupDef"" mctgd
        inner join ""MetaGroupDefAttr"" mgda
        on mgda.""GroupID"" = mctgd.""GroupID"")
        inner join ""MetaGroupDefDispName"" mgddn
        on mgddn.""GroupID"" = mctgd.""GroupID""
        and
        mgddn.""Language"" = 'x-default')
        where
        mctgd.""ContentTypeID"" = %s;''',())

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def Redirect():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""redirects""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    r.id as ""id"",
    r.""redirectType"" as ""redirectType"",
    r.value as ""value"",
    r.keywords as ""keywords""
    from
    ""Redirect"" r;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


      if context_type[data_context] == ""table"" or context_type[data_context] == None:
        table_item.update(row)
      if context_type[data_context] == ""struct"":
        if len(row) == 2:
          if context not in getFromDict(table_item, context_hierarchy[:-1]):
            setInDict(table_item, context_hierarchy, {})
          context_hierarchy.append(list(row.values())[0])
          setInDict(table_item, context_hierarchy, list(row.values())[1])
          context_hierarchy.pop()
        else:
          setInDict(table_item, context_hierarchy, row)
      elif context_type[data_context] == ""array"":
        setInDict(table_item, context_hierarchy, items[data_context])
      elif context_type[data_context] == ""struct-array"":
        setInDict(table_item, context_hierarchy, items[data_context])

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def product_by_color():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""products_by_color""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select distinct
    pv.""ProductID"" as ""id""
    from
    ""Products"" p
    inner join ""ProductVariants"" pv
    on pv.""ProductID"" = p.""ID"" ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      GetID = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select distinct
      pav.""Value"" as ""color""
      from
      ""ProductAttributes"" pa
      inner join ""ProductAttributeValue"" pav
      on pa.""AttValueID"" = pav.""AttValueID""
      where
      pa.""ProductId"" = %s
      and
      pa.""AttributeID"" = 'color';''',(GetID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

        color = row['color']

        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select distinct
        pv.""variantID"" as ""argID""
        from
        ""ProductAttributes"" pa
        inner join ""ProductAttributeValue"" pav
        on pa.""AttValueID"" = pav.""AttValueID""
        inner join ""ProductVariants"" pv
        on pv.""ProductID"" = pa.""ProductId""
        where
        pa.""ProductId"" = %s
        and
        pav.""Value"" = %s;''',(GetID,color,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])



        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def Contents():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""contents""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    lc.""ContentId"" as ""id""
    from
    ""LibraryContent"" lc ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      ContentID = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      lc.""ContentId"" as ""id"",
      lcdn.""Value"" as ""name"",
      lcd.""Value"" as ""description"",
      lcpapt.""Value"" as ""pageTitle"",
      lcpapd.""Value"" as ""pageDesc"",
      lcpapu.""Value"" as ""pageUrl""
      (((((from
      ""LibraryContent"" lc
      full outer join ""LibraryContentDisplayName"" lcdn
      on lcdn.""contentId"" = lc.""ContentId""
      and
      lcdn.""Language"" = 'x-default')
      full outer join ""LibraryContentDescription"" lcd
      on lcd.""contentId"" = lc.""ContentId""
      and
      lcd.""Language"" = 'x-default')
      full outer join ""LibraryContentPageAttributePageTitle"" lcpapt
      on lcpapt.""ContentID"" = lc.""ContentId""
      and
      lcpapt.""Language"" = 'x-default')
      full outer join ""LibraryContentPageAttributePageDesctiption"" lcpapd
      on lcpapd.""ContentID"" = lc.""ContentId""
      and
      lcpapd.""Language"" = 'x-default')
      full outer join ""LibraryContentPageAttributePageURL"" lcpapu
      on lcpapu.""ContentID"" = lc.""ContentId""
      and
      lcpapu.""Language"" = 'x-default')
      where
      lc.""ContentId"" = %s
      ;''',(ContentID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""localeName""
        context_hierarchy.append(""localeName"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        lcdn.""Language"" as ""lang"",
        lcdn.""Value"" as ""value""
        from
        ""LibraryContentDisplayName"" lcdn
        where
        lcdn.""contentId"" = %s;''',(ContentID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""localeDesc""
        context_hierarchy.append(""localeDesc"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        lcd.""Language"" as ""lang"",
        lcd.""Value"" as ""value""
        from
        ""LibraryContentDescription"" lcd
        where
        lcd.""contentId"" = %s;''',(ContentID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""localePageTitle""
        context_hierarchy.append(""localePageTitle"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        lcpapt.""Language"" as ""lang"",
        lcpapt.""Value"" as ""value""
        from
        ""LibraryContentPageAttributePageTitle"" lcpapt
        where
        lcpapt.""ContentID"" = %s;''',(ContentID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""localePageDesc""
        context_hierarchy.append(""localePageDesc"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        lcpapd.""Language"" as ""lang"",
        lcpapd.""Value"" as ""value""
        from
        ""LibraryContentPageAttributePageDesctiption"" lcpapd
        where
        lcpapd.""ContentID"" = %s;''',(ContentID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""localePageUrl""
        context_hierarchy.append(""localePageUrl"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        lcpapu.""Language"" as ""lang"",
        lcpapu.""Value"" as ""value""
        from
        ""LibraryContentPageAttributePageURL"" lcpapu
        where
        lcpapu.""ContentID"" = %s;''',(ContentID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""customAttributes""
        context_hierarchy.append(""customAttributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        lca.""AttributeID"" as ""attributeId"",
        lca.""Value"" as ""value""
        from
        ""LibraryCustomAttributes"" lca
        where
        lca.""contentId"" =%s;''',(ContentID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Array Context
          try:
            data_context+=1
            context = ""values""
            context_hierarchy.append(""values"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            lcav.""Values"" as ""values""
            from
            ""LibraryCustomAttributes"" lca
            inner join ""LibraryCustomAttributesVal"" lcav
            on lcav.""AttributeID"" =lca.""AttributeID""
            where
            lca.""contentId"" =%s;''',(ContentID,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def product_by_size():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""products_by_size""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select distinct
    pv.""ProductID"" as ""id""
    from
    ""Products"" p
    inner join ""ProductVariants"" pv
    on pv.""ProductID"" = p.""ID"" ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      GetID = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select distinct
      pav.""Value"" as ""size""
      from
      ""ProductAttributes"" pa
      inner join ""ProductAttributeValue"" pav
      on pa.""AttValueID"" = pav.""AttValueID""
      where
      pa.""ProductId"" = %s
      and
      pa.""AttributeID"" = 'size';''',(GetID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

        size = row['size']

        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select distinct
        pv.""variantID"" as ""argID""
        from
        ""ProductAttributes"" pa
        inner join ""ProductAttributeValue"" pav
        on pa.""AttValueID"" = pav.""AttValueID""
        inner join ""ProductVariants"" pv
        on pv.""ProductID"" = pa.""ProductId""
        where
        pa.""ProductId"" = %s
        and
        pav.""Value"" = %s;''',(GetID,color,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])



        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def Stores():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""stores""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    s.""Id"" as ""id""
    from ""Stores"" s;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      StoreID = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      s.""Id"" as ""id"",
      s.""Name"" as ""name"",
      s.""Address1"" as ""address1"",
      s.""Address2"" as ""address2"",
      s.""City"" as ""city"",
      s.""PostalCode"" as ""postalCode"",
      s.""StateCode"" as ""stateCode"",
      s.""CountryCode"" as ""countryCode"",
      s.""Phone"" as phone,
      s.""Fax"" as ""fax"",
      s.""Email"" as ""email""
      from ""Stores"" s
      where
      s.""Id""= %s;''',(StoreID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""storeEvents""
        context_hierarchy.append(""storeEvents"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        se.""Lang"" as ""lang"",
        se.""Value"" as ""value""
        from
        ""StoreEvents"" se
        where
        se.""StoreID"" = %s;''',(StoreID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""storeHours""
        context_hierarchy.append(""storeHours"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        sh.""Lang"" as ""lang"",
        sh.""Value"" as ""value""
        from
        ""StoreHours"" sh
        where
        sh.""StoreID = %s"" ;''',(StoreID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""customAttributes""
        context_hierarchy.append(""customAttributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        sca.""attributeId"" as ""attributeId"",
        sca.""Value"" as ""value""
        from ""StoresCustomAttr"" sca
        where
        sca.""StoreID"" = %s;''',(StoreID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          storeCustAttrID = row['attributeId']

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          scav.""Values"" as ""values""
          from
          ""StoresCustomAttrVal"" scav ,""StoresCustomAttr"" sca
          where
          scav.""attributeId"" = %s
          and
          sca.""StoreID"" = %s;''',(storeCustAttrID,StoreID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            if len(row.keys()) == 1 and context_type[data_context] == ""array"":
              items[data_context].append(list(row.values())[0])
            else:
              items[data_context].append(row)

            if context_type[data_context] == ""table"" or context_type[data_context] == None:
              table_item.update(row)
            if context_type[data_context] == ""struct"":
              if len(row) == 2:
                if context not in getFromDict(table_item, context_hierarchy[:-1]):
                  setInDict(table_item, context_hierarchy, {})
                context_hierarchy.append(list(row.values())[0])
                setInDict(table_item, context_hierarchy, list(row.values())[1])
                context_hierarchy.pop()
              else:
                setInDict(table_item, context_hierarchy, row)
            elif context_type[data_context] == ""array"":
              setInDict(table_item, context_hierarchy, items[data_context])
            elif context_type[data_context] == ""struct-array"":
              setInDict(table_item, context_hierarchy, items[data_context])


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def Slots():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""slots""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    s.""SlotID"" as ""slot_id""
    from
    ""Slot"" s;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      SlotID = row['slot_id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      s.""SlotID"" as ""slot_id"",
      s.""Context"" as ""context"",
      s.""ContextID"" as ""context_id"",
      s.""ConfigurationID"" as ""configuration_id"",
      s.""EnabledFlag"" as ""default_flag""
      from
      ""Slot"" s
      where
      s.""SlotID"" =  %s;''',(SlotID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""customAttributes""
        context_hierarchy.append(""customAttributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        sca.""attributeId"" as ""attributeId"",
        sca.""Value"" as ""value""
        from
        ""SlotsCustomAttr"" sca
        where
        sca.""SlotID"" = %s;''',(SlotID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          slotCustAttr = row['attributeId']

          # Setting Array Context
          try:
            data_context+=1
            context = ""values""
            context_hierarchy.append(""values"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            scav.""Values"" as ""values""
            from
            ""SlotsCustomAttr"" sca ,""SlotsCustomAttrVal"" scav
            where
            sca.""SlotID"" = %s
            and
            scav.""attributeId"" = %s;''',(SlotID,slotCustAttr,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1

# Describe this function...
def products():
  global GetID, StoreID, SlotID, productID, ContentID, ExtTypeID, CollectionID, color, size, slotCustAttr, storeCustAttrID, proCustAttrID, variantID, imgID

  # Setting Table Context
  try:
    # For SQL Hierarchy
    data_context=0
    sql_context=0
    context_hierarchy = []
    connection={}
    cursor={}
    items={}
    context_type={}

    data_context+=1
    table_context = ""products""
    context_type[data_context] = ""table""

    # customerKey Handling
    customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
    customerKeys = customerKey.split("","")

    # Variable for storing fetched row
    table_item = {}


    # Use getconn() method to Get Connection from connection pool
    sql_context+=1
    connection[sql_context] = threaded_pool.getconn()

    # Cursor Initialize
    cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

    # Executing SQL query
    cursor[sql_context].execute('''select
    p.""ID"" as ""id""
    from
    ""Products"" p ;''',())

    while True:
      row = cursor[sql_context].fetchone()
      if row == None:
          break
      row = dict(row)
      for i, val in enumerate(customerKeys):
        key = val.split(""."")[-1]
        if key in row:
            customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

      productID = row['id']

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      p.""ID"" as ""id"",
      p.""Ean"" as ""ean"",
      p.""Upc"" as ""upc"",
      p.""Unit"" as ""unit"",
      p.""MinOrderQuantity"" as ""minOrderQuantity"",
      p.""StepQuantity"" as ""stepQuantity"",
      p.""OnlineFlag"" as ""onlineFlag"",
      p.""AvailableFlag"" as ""availableFlag"",
      p.""SearchableFlag"" as ""searchableFlag"",
      p.""ManufacturerSKU"" as ""manufacturerSku"",
      p.""TaxClassID"" as ""taxClassId"",
      p.""PageURL"" as ""pageUrl"",
      pdn.""Value"" as ""name"",
      pcc.""CatalogID"" as ""classificationCategory"",
      psd.""Value"" as ""shortDescription"",
      pld.""Value"" as ""longDescription"",
      ppt.""Value"" as ""pageTitle"",
      ppd.""Value"" as ""pageDesc"",
      ppk.""Value"" as ""pageKeyword""
      from (((((((""Products"" p
      full outer join  ""ProductDisplayNames"" pdn
      on pdn.""Language"" = 'x-default'
      and
      pdn.""ProductId"" = p.""ID"")
      full outer join  ""ProductClassCat"" pcc
      on pcc.""ProductID"" = p.""ID"" )
      full outer join ""ProductShortDescriptions"" psd
      on psd.""Language"" = 'x-default'
      and
      psd.""ProductId"" = p.""ID"")
      full outer join ""ProductLongDescriptions"" pld
      on pld.""Language"" ='x-default'
      and
      pld.""ProductId"" =p.""ID"")
      full outer join ""ProductPageTitles"" ppt
      on ppt.""Language"" ='x-default'
      and
      ppt.""ProductId"" = p.""ID"")
      full outer join ""ProductPageDescs"" ppd
      on ppd.""Language"" ='x-default'
      and
      ppd.""ProductId"" = p.""ID"")
      full outer join ""ProductPageKeywords"" ppk
      on ppk.""Language"" ='x-default'
      and
      ppk.""ProductId"" = p.""ID"")
      where
      p.""ID"" = %s;''',(productID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""shortDescriptions""
        context_hierarchy.append(""shortDescriptions"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        psd.""Language"" as ""lang"",
        psd.""Value"" as ""value""
        from
        ""ProductShortDescriptions"" psd
        where
        psd.""ProductId"" = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""longDescriptions""
        context_hierarchy.append(""longDescriptions"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pld.""Language"" as ""lang"",
        pld.""Value"" as ""value""
        from
        ""ProductLongDescriptions"" pld
        where
        pld.""ProductId""  = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""pageTitles""
        context_hierarchy.append(""pageTitles"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        ppt.""Language"" as ""lang"",
        ppt.""Value"" as ""value""
        from
        ""ProductPageTitles"" ppt
        where
        ppt.""ProductId"" = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""pageDescs""
        context_hierarchy.append(""pageDescs"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        ppd.""Language"" as ""lang"",
        ppd.""Value"" as ""value""
        from
        ""ProductPageDescs"" ppd
        where
        ppd.""ProductId""  = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""pageKeywords""
        context_hierarchy.append(""pageKeywords"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        ppk.""Language"" as ""lang"",
        ppk.""Value"" as ""value""
        from
        ""ProductPageKeywords"" ppk
        where
        ppk.""ProductId""  = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""customAttributes""
        context_hierarchy.append(""customAttributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pca.""AttributeID"" as ""attributeId"",
        pca.""Value"" as ""value""
        from
        ""ProductCustomAttributes"" pca
        where
        pca.""ProductId"" = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          proCustAttrID = row['attributeId']

          # Setting Array Context
          try:
            data_context+=1
            context = ""values""
            context_hierarchy.append(""values"")
            context_type[data_context] = ""array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            pcav.""Value"" as ""values""
            from
            ""ProductCustomAttributes"" pca ,""ProductCustomAttributesValue"" pcav
            where
            pcav.""AttributeID"" = %s
            and
            pca.""ProductId"" = %s;''',(proCustAttrID,productID,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""attributes""
        context_hierarchy.append(""attributes"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pa.""AttributeID"" as ""attributeId"",
        pa.""VariationAttributeID"" as ""variationAttributeId"",
        pa.""Name"" as ""name""
        from
        ""ProductAttributes"" pa
        where
        pa.""ProductId"" = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Setting Struct Array Context
          try:
            data_context+=1
            context = ""values""
            context_hierarchy.append(""values"")
            context_type[data_context] = ""struct-array""

            # Variable for storing fetched row
            items[data_context] = []


            # Use getconn() method to Get Connection from connection pool
            sql_context+=1
            connection[sql_context] = threaded_pool.getconn()

            # Cursor Initialize
            cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

            # Executing SQL query
            cursor[sql_context].execute('''select
            pav.""Value"" as ""value"",
            pav.""DisplayValue"" as ""displayValue"",
            pav.""Lang"" as ""lang""
            from
            ""ProductAttributes"" pa
            inner join ""ProductAttributeValue"" pav
            on pav.""AttValueID"" = pa.""AttValueID""
            where
            pa.""ProductId"" = %s;''',(productID,))

            while True:
              row = cursor[sql_context].fetchone()
              if row == None:
                  break
              row = dict(row)
              for i, val in enumerate(customerKeys):
                key = val.split(""."")[-1]
                if key in row:
                    customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


              if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                items[data_context].append(list(row.values())[0])
              else:
                items[data_context].append(row)

              if context_type[data_context] == ""table"" or context_type[data_context] == None:
                table_item.update(row)
              if context_type[data_context] == ""struct"":
                if len(row) == 2:
                  if context not in getFromDict(table_item, context_hierarchy[:-1]):
                    setInDict(table_item, context_hierarchy, {})
                  context_hierarchy.append(list(row.values())[0])
                  setInDict(table_item, context_hierarchy, list(row.values())[1])
                  context_hierarchy.pop()
                else:
                  setInDict(table_item, context_hierarchy, row)
              elif context_type[data_context] == ""array"":
                setInDict(table_item, context_hierarchy, items[data_context])
              elif context_type[data_context] == ""struct-array"":
                setInDict(table_item, context_hierarchy, items[data_context])


            # Cursor Close
            cursor[sql_context].close()

            # Release the connection object and send back to connection pool
            threaded_pool.putconn(connection[sql_context])
            sql_context-=1

          except (Exception, psycopg2.DatabaseError) as error:
            logger.exception(""Error in Setting Struct Array Context"")
            logger.exception(error)
            exit_status=1

          finally:
            context_hierarchy.pop()
            del context_type[data_context]
            data_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      pra.""Quantity"",
      pra.""Value"",
      px.""PricebookHeaderXMLID"",
      phx.""Currency""
      from ""PricebookRecordAmount"" pra
      full outer join ""PricebookXML"" px
      on px.""PricebookRecordID"" =pra.""PricebookRecordID""
      full outer join ""PricebookHeaderXML"" phx
      on phx.""ID"" = px.""PricebookHeaderXMLID""
      where
      pra.""PricebookRecordID"" = (select
      coalesce(pro.""PricebookRecordID"" , prd.""PricebookRecordID"") as ""PricebookRecordID""
      from ""PricebookRecord"" prd
      full outer join ""PricebookRecord"" pro
      on prd.""ProductID"" = pro.""ProductID""
      and
      pro.""PriceBookType"" = 'OverRidePriceBook'
      and
      prd.""PriceBookType"" = 'DefaultPriceBook'
      where
      prd.""ProductID"" = %s
      );''',(productID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Array Context
      try:
        data_context+=1
        context = ""colors""
        context_hierarchy.append(""colors"")
        context_type[data_context] = ""array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pav.""Value"" as ""color""
        from ""ProductAttributes"" pa
        inner join ""ProductAttributeValue"" pav
        on pav.""AttValueID"" = pa.""AttValueID""
        where
        pa.""AttributeID"" = 'color'
        and
        pa.""ProductId"" = %s ;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Array Context
      try:
        data_context+=1
        context = ""sizes""
        context_hierarchy.append(""sizes"")
        context_type[data_context] = ""array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pav.""Value"" as ""size""
        from ""ProductAttributes"" pa
        inner join ""ProductAttributeValue"" pav
        on pav.""AttValueID"" = pa.""AttValueID""
        where
        pa.""AttributeID"" = 'size'
        and
        pa.""ProductId"" = %s ;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      pca.""Value"" as ""sellableProductDate""
      from ""ProductCustomAttributes"" pca
      where
      pca.""AttributeID"" = 'sellableProductDate'
      and
      pca.""ProductId"" = %s;''',(productID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Use getconn() method to Get Connection from connection pool
      sql_context+=1
      connection[sql_context] = threaded_pool.getconn()

      # Cursor Initialize
      cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

      # Executing SQL query
      cursor[sql_context].execute('''select
      pca.""Value"" as ""promotext""
      from ""ProductCustomAttributes"" pca
      where
      pca.""AttributeID"" = 'promotext'
      and
      pca.""ProductId"" = %s;''',(productID,))

      while True:
        row = cursor[sql_context].fetchone()
        if row == None:
            break
        row = dict(row)
        for i, val in enumerate(customerKeys):
          key = val.split(""."")[-1]
          if key in row:
              customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


        if context_type[data_context] == ""table"" or context_type[data_context] == None:
          table_item.update(row)
        if context_type[data_context] == ""struct"":
          if len(row) == 2:
            if context not in getFromDict(table_item, context_hierarchy[:-1]):
              setInDict(table_item, context_hierarchy, {})
            context_hierarchy.append(list(row.values())[0])
            setInDict(table_item, context_hierarchy, list(row.values())[1])
            context_hierarchy.pop()
          else:
            setInDict(table_item, context_hierarchy, row)
        elif context_type[data_context] == ""array"":
          setInDict(table_item, context_hierarchy, items[data_context])
        elif context_type[data_context] == ""struct-array"":
          setInDict(table_item, context_hierarchy, items[data_context])


      # Cursor Close
      cursor[sql_context].close()

      # Release the connection object and send back to connection pool
      threaded_pool.putconn(connection[sql_context])
      sql_context-=1

      # Setting Struct Context
      try:
        data_context+=1
        context = ""inventory""
        context_hierarchy.append(""inventory"")
        context_type[data_context] = ""struct""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        sum(ir.""Ats"") as ""ats"",
        ir.""Perpetual"" as ""perpetual"",
        ir.""AllocationTime"" as ""allocationTimestamp"",
        ir.""PreorderBackorderHandling"" as ""preorderBackorderHandling"",
        sum(ir.""OnOrder"") as ""onOrder"",
        sum(ir.""Allocation"") as ""allocation"",
        sum(ir.""Turnover"") as ""turnover""
        from
        ""ProductVariants"" pv, ""InventoryRecord"" ir
        where
        pv.""ProductID"" = '0001038341655'
        and
        pv.""variantID"" =ir.""ProductID""
        group by ir.""Perpetual"",ir.""AllocationTime"",ir.""PreorderBackorderHandling"";''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""imageGroups""
        context_hierarchy.append(""imageGroups"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pig.""variationValue"" as ""variationValue"",
        pig.""viewType"" as ""viewType""
        from
        ""ProductImageGroups"" pig
        where
        pig.""ProductId"" = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


          if len(row.keys()) == 1 and context_type[data_context] == ""array"":
            items[data_context].append(list(row.values())[0])
          else:
            items[data_context].append(row)

          if context_type[data_context] == ""table"" or context_type[data_context] == None:
            table_item.update(row)
          if context_type[data_context] == ""struct"":
            if len(row) == 2:
              if context not in getFromDict(table_item, context_hierarchy[:-1]):
                setInDict(table_item, context_hierarchy, {})
              context_hierarchy.append(list(row.values())[0])
              setInDict(table_item, context_hierarchy, list(row.values())[1])
              context_hierarchy.pop()
            else:
              setInDict(table_item, context_hierarchy, row)
          elif context_type[data_context] == ""array"":
            setInDict(table_item, context_hierarchy, items[data_context])
          elif context_type[data_context] == ""struct-array"":
            setInDict(table_item, context_hierarchy, items[data_context])

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          pig.""ImageGroupsId"" as ""imgId""
          from
          ""ProductImageGroups"" pig
          where
          pig.""ProductId"" = %s;''',(productID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

            imgID = row['imgId']

            # Setting Struct Array Context
            try:
              data_context+=1
              context = ""images""
              context_hierarchy.append(""images"")
              context_type[data_context] = ""struct-array""

              # Variable for storing fetched row
              items[data_context] = []


              # Use getconn() method to Get Connection from connection pool
              sql_context+=1
              connection[sql_context] = threaded_pool.getconn()

              # Cursor Initialize
              cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

              # Executing SQL query
              cursor[sql_context].execute('''select
              pigpi.""Path"" as ""path""
              from
              ""ProductImageGroupsProductImage"" pigpi
              inner join ""ProductImageGroups"" pig on pig.""ImageGroupsId"" = pigpi.""ImageGroupsId""
              where
              pigpi.""ImageGroupsId"" = %s
              and
              pig.""ProductId"" = %s;''',(imgID,productID,))

              while True:
                row = cursor[sql_context].fetchone()
                if row == None:
                    break
                row = dict(row)
                for i, val in enumerate(customerKeys):
                  key = val.split(""."")[-1]
                  if key in row:
                      customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


                if len(row.keys()) == 1 and context_type[data_context] == ""array"":
                  items[data_context].append(list(row.values())[0])
                else:
                  items[data_context].append(row)

                if context_type[data_context] == ""table"" or context_type[data_context] == None:
                  table_item.update(row)
                if context_type[data_context] == ""struct"":
                  if len(row) == 2:
                    if context not in getFromDict(table_item, context_hierarchy[:-1]):
                      setInDict(table_item, context_hierarchy, {})
                    context_hierarchy.append(list(row.values())[0])
                    setInDict(table_item, context_hierarchy, list(row.values())[1])
                    context_hierarchy.pop()
                  else:
                    setInDict(table_item, context_hierarchy, row)
                elif context_type[data_context] == ""array"":
                  setInDict(table_item, context_hierarchy, items[data_context])
                elif context_type[data_context] == ""struct-array"":
                  setInDict(table_item, context_hierarchy, items[data_context])


              # Cursor Close
              cursor[sql_context].close()

              # Release the connection object and send back to connection pool
              threaded_pool.putconn(connection[sql_context])
              sql_context-=1

            except (Exception, psycopg2.DatabaseError) as error:
              logger.exception(""Error in Setting Struct Array Context"")
              logger.exception(error)
              exit_status=1

            finally:
              context_hierarchy.pop()
              del context_type[data_context]
              data_context-=1


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Setting Struct Array Context
      try:
        data_context+=1
        context = ""variants""
        context_hierarchy.append(""variants"")
        context_type[data_context] = ""struct-array""

        # Variable for storing fetched row
        items[data_context] = []


        # Use getconn() method to Get Connection from connection pool
        sql_context+=1
        connection[sql_context] = threaded_pool.getconn()

        # Cursor Initialize
        cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

        # Executing SQL query
        cursor[sql_context].execute('''select
        pv.""variantID"" as  ""variantID""
        from (
        ""Products"" p
        inner join ""ProductVariants"" pv
        on pv.""ProductID"" = p.""ID""
        and
        pv.""variantID"" != p.""ID"")
        where
        p.""ID"" = %s;''',(productID,))

        while True:
          row = cursor[sql_context].fetchone()
          if row == None:
              break
          row = dict(row)
          for i, val in enumerate(customerKeys):
            key = val.split(""."")[-1]
            if key in row:
                customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])

          variantID = row['variantID']

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          p2.""ID"" as ""id""
          from
          ""Products"" p2
          where
          p2.""ID"" = %s;''',(variantID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = row['id']
            context_hierarchy.append(""id"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()

            if len(row.keys()) == 1 and context_type[data_context] == ""array"":
              items[data_context].append(list(row.values())[0])
            else:
              items[data_context].append(row)


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          pca.""Value"" as ""color""
          from
          ""ProductCustomAttributes"" pca
          where
          pca.""AttributeID"" = 'color'
          and
          pca.""ProductId"" = %s;''',(variantID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = row['color']
            context_hierarchy.append(""color"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()

            if len(row.keys()) == 1 and context_type[data_context] == ""array"":
              items[data_context].append(list(row.values())[0])
            else:
              items[data_context].append(row)


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          pca.""Value"" as ""mainColor""
          from
          ""ProductCustomAttributes"" pca
          where
          pca.""AttributeID"" = 'mainColor'
          and
          pca.""ProductId"" = %s;''',(variantID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = row['mainColor']
            context_hierarchy.append(""mainColor"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()

            if len(row.keys()) == 1 and context_type[data_context] == ""array"":
              items[data_context].append(list(row.values())[0])
            else:
              items[data_context].append(row)


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          pca.""Value"" as ""size""
          from
          ""ProductCustomAttributes"" pca
          where
          pca.""AttributeID"" = 'size'
          and
          pca.""ProductId"" = %s;''',(variantID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = row['size']
            context_hierarchy.append(""size"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()

            if len(row.keys()) == 1 and context_type[data_context] == ""array"":
              items[data_context].append(list(row.values())[0])
            else:
              items[data_context].append(row)


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1

          # Use getconn() method to Get Connection from connection pool
          sql_context+=1
          connection[sql_context] = threaded_pool.getconn()

          # Cursor Initialize
          cursor[sql_context] = connection[sql_context].cursor(cursor_factory=psycopg2.extras.DictCursor)

          # Executing SQL query
          cursor[sql_context].execute('''select
          pra.""Quantity"" as ""ats"",
          pra.""Value"" as ""price""
          from
          ""PricebookRecordAmount"" pra
          where
          pra.""PricebookRecordID"" = (select
          coalesce(pro.""PricebookRecordID"" , prd.""PricebookRecordID"") as ""PricebookRecordID""
          from ""PricebookRecord"" prd
          full outer join ""PricebookRecord"" pro
          on prd.""ProductID"" = pro.""ProductID""
          and
          pro.""PriceBookType"" = 'OverRidePriceBook'
          and
          prd.""PriceBookType"" = 'DefaultPriceBook'
          where
          prd.""ProductID"" = %s
          );''',(variantID,))

          while True:
            row = cursor[sql_context].fetchone()
            if row == None:
                break
            row = dict(row)
            for i, val in enumerate(customerKeys):
              key = val.split(""."")[-1]
              if key in row:
                  customerKeys[i] = customerKeys[i] + "" -> "" + str(row[key])


            fieldValue = row['ats']
            context_hierarchy.append(""ats"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()

            fieldValue = row['price']
            context_hierarchy.append(""price"")
            setInDict(table_item, context_hierarchy, fieldValue)
            context_hierarchy.pop()

            if len(row.keys()) == 1 and context_type[data_context] == ""array"":
              items[data_context].append(list(row.values())[0])
            else:
              items[data_context].append(row)


          # Cursor Close
          cursor[sql_context].close()

          # Release the connection object and send back to connection pool
          threaded_pool.putconn(connection[sql_context])
          sql_context-=1


        # Cursor Close
        cursor[sql_context].close()

        # Release the connection object and send back to connection pool
        threaded_pool.putconn(connection[sql_context])
        sql_context-=1

      except (Exception, psycopg2.DatabaseError) as error:
        logger.exception(""Error in Setting Struct Array Context"")
        logger.exception(error)
        exit_status=1

      finally:
        context_hierarchy.pop()
        del context_type[data_context]
        data_context-=1

      # Customer Key Handling
      customerKeyJSON = '{}'
      customerKeyJSON = json.loads(customerKeyJSON)

      for i in customerKeys:
        res = parse_dotted_strlines(i)
        customerKeyJSON.update(res)

      # Resetting customerKeys Back
      customerKey = ""id,prim_id,id,category_id,typeId,id,id,slot_id,prim_id,prim_id""
      customerKeys = customerKey.split("","")

      # Create Schema if not created
      schemaName=""2_ildev_dep2""

      # Executing SQL query
      maincursor.execute(
          '''INSERT INTO ""'''+schemaName+'''"".queryresults (""il_vs"", ""tableName"", ""customerKey"", ""returnResults"", ""last_modified"") VALUES (%s, %s, %s, %s, NOW())
          ON CONFLICT (""customerKey"") DO UPDATE SET
            ""il_vs"" = excluded.""il_vs"" + 1,
            ""tableName"" = excluded.""tableName"",
            ""returnResults"" = excluded.""returnResults"";''',
                (1, table_context, json.dumps(customerKeyJSON, indent=2), json.dumps(table_item, indent=2, use_decimal=True, default=datetimeParser)))

      # Clearing table_item
      table_item.clear()


    # Cursor Close
    cursor[sql_context].close()

    # Release the connection object and send back to connection pool
    threaded_pool.putconn(connection[sql_context])
    sql_context-=1

  except (Exception, psycopg2.DatabaseError) as error:
    logger.exception(""Error in Setting Table Context"")
    logger.exception(error)
    exit_status=1

  finally:
    del context_type[data_context]
    data_context-=1




def datetimeParser(o):
    if isinstance(o, datetime):
        return o.__str__()

def getFromDict(dic, keys):
  for key in keys:
      dic = dic[key]
  return dic


def setInDict(dic, keys, value):
  for key in keys[:-1]:
      # Setting a default in dict
      dic = dic.setdefault(key, {})

      # Setting a default in list
      if type(dic) == list and keys[-1] not in dic[-1]:
          dic[-1].setdefault(keys[-1], {})

  if type(dic) == dict:
    if keys[-1] in dic:
        if type(dic[keys[-1]]) == list:
          dic[keys[-1]] = value
          return
        dic[keys[-1]].update(value)
    else:
      dic[keys[-1]] = value
  elif type(dic) == list:
      dic[-1][keys[-1]] = value


def parse_dotted_strlines(strlines):
  """"""Parse multiple dot seperated lines""""""
  res = {}
  for line in strlines.splitlines():
      parse_dotted_str(line, res)
  return res


def parse_dotted_str(s, res):
  """"""Parse a dot seperated lines such as:
  my.dictionary.value -> value
  my.dictionary.list[0].value -> value
  my.dictionary.list[1].value.list[0].value -> value
  into a nested JSON""""""
  if '.' in s:
      key, rest = s.split('.', 1)
      # Check if key represents a list
      match = re.search(r'(.*)[(d)]$', key)
      if match:
          # List
          key, index = match.groups()
          val = res.get(key, {}) or []
          assert type(
              val) == list, f'Cannot set key {key} as of type list as it was earlier marked as {type(val)}'
          while len(val) <= int(index):
              val.append({})
          val[index] = parse_dotted_str(rest, {})
          res[key] = val
      else:
          # Dict
          res[key] = parse_dotted_str(rest, res.get(key, {}))
  elif '->' in s:
      key, val = s.split('->')
      res[key.strip()] = val.strip()
  return res


def getmylogger(name):
  """"""Creating a logger for debugging and log file generation.""""""
  file_formatter = logging.Formatter(
      '%(asctime)s  %(name)s  %(levelname)s  %(funcName)s:%(lineno)d  %(message)s', datefmt='%m-%d-%Y %H:%M:%S')
  console_formatter = logging.Formatter('%(levelname)s -- %(message)s')

  file_handler = logging.FileHandler(""ilblockly.log"")
  file_handler.setLevel(logging.DEBUG)
  file_handler.setFormatter(file_formatter)

  console_handler = logging.StreamHandler()
  console_handler.setLevel(logging.DEBUG)
  console_handler.setFormatter(console_formatter)

  logger = logging.getLogger(name)
  logger.addHandler(file_handler)
  logger.addHandler(console_handler)
  logger.setLevel(logging.DEBUG)
  logger.propagate = False

  return logger


class DecimalEncoder (json.JSONEncoder):
  def default(self, obj):
      if isinstance(obj, Decimal):
          return int(obj)
      return json.JSONEncoder.default(self, obj)


# Logging
logger = getmylogger(__name__)
open('ilblockly.log', 'w').close()
exit_status=0

# Defining the api-endpoint
API_ENDPOINT = ""https://instantlabs-eks-iladmin-staging-us-west-1.instantlabs.io""

# Data to be sent to ILAdmin
obj = [{""action"": ""Admin.UI.GetDetail.Schema"", ""params"": {""schema_dfn_id"": 1}}]
obj = json.dumps(obj)

# Sending POST request and saving response as response object
r = requests.post(url = API_ENDPOINT, data = obj)

# Extracting useful data from response
schema_dict = json.loads(json.loads(r.text)[0]['data'])[0]['schema_dfn']
schema_dict = json.loads(schema_dict)

# Database Connection Parameters
minConnection = 5
maxConnection = 20
params = {""user"":""postgres"",""password"":""12345"",""host"":""127.0.0.1"",""port"":""5432"",""dbname"":""postgres""}

try:
  threaded_pool = psycopg2.pool.ThreadedConnectionPool(
      minConnection, maxConnection, **params, options=""-c search_path=public,test_xml"")
  logger.debug(""Threaded SQL Connection pool created successfully"")

  # Exporting logs to database
  mainconn = threaded_pool.getconn()

  # Cursor Initialize
  maincursor = mainconn.cursor(
    cursor_factory=psycopg2.extras.RealDictCursor)

  mainconn.autocommit = True

  # Create Schema if not created
  schemaName=""2_ildev_dep2""

  # Creating Schema if not exist
  maincursor.execute(
      '''CREATE SCHEMA IF NOT EXISTS ""'''+schemaName+'''"";''', ())

  # Creating queryresults Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".queryresults (
        ""id"" SERIAL NOT NULL,
        ""il_id"" SERIAL NOT NULL,
        ""il_vs"" int,
        ""tableName"" varchar(50),
        ""customerKey"" varchar(1000) PRIMARY KEY NOT NULL,
        ""returnResults"" json,
        ""last_modified"" timestamp
      );''', ())

  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET UNLOGGED;''', ())

  # Creating querylogs Table if not exist
  maincursor.execute(
      '''CREATE TABLE IF NOT EXISTS ""'''+schemaName+'''"".querylogs (
        ""run_id"" SERIAL PRIMARY KEY NOT NULL,
        ""logs"" text,
        ""exit_status"" int,
        ""last_modified"" timestamp
      );''', ())

  products()

except (Exception, psycopg2.DatabaseError) as error:
  logger.exception(""Threaded Connection Pool failed to initialize"")
  logger.exception(error)
  exit_status=1

finally:
  maincursor.execute(
    '''ALTER TABLE ""'''+schemaName+'''"".""queryresults"" SET LOGGED;''', ())

  # Cursor Close
  maincursor.close()

  # Release the connection object and send back to connection pool
  threaded_pool.putconn(mainconn)

  # Closing database connection.
  # Use closeall method to close all the active connection if you want to turn of the application
  if (threaded_pool):
      threaded_pool.closeall
  logger.debug(""Threaded SQL connection pool is closed"")

# Exporting Logs to database
with psycopg2.connect(**params) as logconn:
    with logconn.cursor() as logcursor:

        logconn.autocommit = True

        # Create Schema if not created
        schemaName=""2_ildev_dep2""

        with open(""ilblockly.log"", 'r+') as myfile:
          log_contents = myfile.read()
          # Executing SQL query
          logcursor.execute(
              '''INSERT INTO ""'''+schemaName+'''"".querylogs (""logs"", ""exit_status"", ""last_modified"") VALUES (%s, %s, NOW());''',(log_contents, exit_status,))
","<xml xmlns=""https://developers.google.com/blockly/xml"">
  <variables>
    <variable id=""wshn[FZ{{%7(s3G+A|nF"">GetID</variable>
    <variable id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</variable>
    <variable id=""C1_94Kz3=_+n[fJg:e1x"">SlotID</variable>
    <variable id=""W;e`[)?%83ZmOVjCT))!"">productID</variable>
    <variable id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</variable>
    <variable id=""7r;%@/`GeY!bP9A5M#@)"">ExtTypeID</variable>
    <variable id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</variable>
    <variable id=""}.~L,kN{}|47q:eYg~S]"">color</variable>
    <variable id=""/6){KlK$0i(8DF3$Uo]V"">size</variable>
    <variable id=""XP+$]LZF~B8$v,LksnIi"">slotCustAttr</variable>
    <variable id=""oIUnoBb4CV:W*ndIkO)M"">storeCustAttrID</variable>
    <variable id=""F~qzNJg[egLnEo%6/okW"">proCustAttrID</variable>
    <variable id=""vO{b0Sh%LsExX~qhiE$h"">variantID</variable>
    <variable id=""4#U|Tc|J48A$FMGsnsK:"">imgID</variable>
  </variables>
  <block type=""procedures_defnoreturn"" id=""TQhKffXs.]JgHlu)W4.4"" x=""-5537"" y=""-112"">
    <field name=""NAME"">Categories</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id="";bPj0YecF*hMmk|.)3N9"">
        <field name=""CONTEXT_SELECT"">categories</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""=*EOZ1.Bp#J-8o:M($:%"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""A1Dxz[8^VuweU@aJa%Hi"">
                <field name=""SQL_QUERY"">select &amp;#10;c.""ID"" as ""id""&amp;#10;from &amp;#10;""Category"" c </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""N?3dM-wl-pdkGqUPAlnQ"">
                <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""B]2n!co(q{Q{p/pq[*cF"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""i,M$G_-OU2/(_{9~Dcb#"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""4,!2zuP$]+fx[w#/0%:B"">
                        <field name=""SQL_QUERY"">&amp;#10;select &amp;#10;c.""ID"" as ""id"",&amp;#10;c.""Parent"" as ""parentCategoryId"",&amp;#10;c.""OnlineFlag"" as ""onlineFlag"",&amp;#10;c.""Position"" as ""position"",&amp;#10;cca.""Value"" as ""viewAllText"",&amp;#10;cca2.""Value"" as ""alternateCategoryID"",&amp;#10;cca3.""Value"" as ""sizeChartID"",&amp;#10;cca4.""Value"" as ""showInMenu"",&amp;#10;cdn.""Value"" as ""name"",&amp;#10;cd.""Value"" as ""description"",&amp;#10;cpt.""Value"" as ""pageTitle"",&amp;#10;cpk.""Value"" as ""pageKeyword"",&amp;#10;cpd.""Value"" as ""pageDescs""&amp;#10;(((((((((from &amp;#10;""Category"" c&amp;#10;full outer join ""CategoryCustomAttr"" cca &amp;#10;on cca.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cca.""AttributeID""  = 'viewAllText')&amp;#10;full outer join ""CategoryCustomAttr"" cca2 &amp;#10;on cca2.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cca2.""AttributeID""  = 'alternateCategoryID')&amp;#10;full outer join ""CategoryCustomAttr"" cca3 &amp;#10;on cca3.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cca3.""AttributeID""  = 'sizeChartID')&amp;#10;full outer join ""CategoryCustomAttr"" cca4 &amp;#10;on cca4.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cca4.""AttributeID""  = 'showInMenu')&amp;#10;full outer join ""CategoryDisplayNames"" cdn &amp;#10;on cdn.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cdn.""Lang"" = 'x-default')&amp;#10;full outer join ""CategoryDescriptions"" cd  &amp;#10;on cd.""CategoryID"" = c.""ID""&amp;#10;and &amp;#10;cd.""Lang"" = 'x-default')&amp;#10;full outer join ""CategoryPageTitles"" cpt &amp;#10;on cpt.""CategoryID"" = c.""ID"" &amp;#10;and&amp;#10;cpt.""Lang"" = 'x-default')&amp;#10;full outer join ""CategoryPageKeywords"" cpk &amp;#10;on cpk.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cpk.""Lang"" = 'x-default')&amp;#10;full outer join ""CategoryPageDescs"" cpd &amp;#10;on cpd.""CategoryID"" = c.""ID"" &amp;#10;and &amp;#10;cpd.""Lang"" = 'x-default')&amp;#10;where &amp;#10;c.""ID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""$OhgI8zbP4M{gK38ikSU""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""0DX%68@M7Y0#Tcs*d:Kl"">
                        <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""0%5K|Q3m9(UFH:8.RN,X"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                        <field name=""CONTEXT_SELECT"">categories  displayNames</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""X88D/*:+H,(]AWNsk!p@"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""@QrovuN$wPFNs;GDp8kD"">
                                <field name=""SQL_QUERY"">select&amp;#10;cdn.""Lang"" as ""lang"",&amp;#10;cdn.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryDisplayNames"" cdn &amp;#10;where &amp;#10;cdn.""CategoryID"" = %s </field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""+%J;pPYE:@zFY,%(j|h;"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""uVhBXhf-pj55DV%lWhzG""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""L$i9b7DY_0WYA78Mn4!U"">
                                <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_arraystruct"" id=""8w+Gxcw:=*4(f%)h`I%;"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                            <field name=""CONTEXT_SELECT"">categories  descriptions</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""#BiE?3i!Sh$]2YJSu|KF"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""9KUXI-X*qSGjk$_6r4eF"">
                                    <field name=""SQL_QUERY"">select&amp;#10;cd.""Lang"" as ""lang"",&amp;#10;cd.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryDescriptions"" cd  &amp;#10;where &amp;#10;cd.""CategoryID"" = %s </field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_append_row"" id=""YHVBch0N+V.T:CRnaO/C"">
                                    <next>
                                      <block type=""targetcontext_automap"" id=""fW6mDDelR{eg^#_-a_,Q""></block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""BuI4biQWX!RAD15iL,+K"">
                                    <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""targetcontext_arraystruct"" id=""8|g^_@E(K81KOJGyn}99"">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                <field name=""CONTEXT_SELECT"">categories  pageTitles</field>
                                <statement name=""CONTEXT_DO"">
                                  <block type=""sql_execute"" id=""OTd$g/5JdGPDD/69aeEh"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""H3/QOa5({jXzAE?8t*CF"">
                                        <field name=""SQL_QUERY"">select&amp;#10;cpt.""Lang"" as ""lang"",&amp;#10;cpt.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageTitles"" cpt &amp;#10;where &amp;#10;cpt.""CategoryID"" = %s </field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_append_row"" id=""UU2Q`aUVQfK~+EUsuR^Q"">
                                        <next>
                                          <block type=""targetcontext_automap"" id=""?FkTwI;Sw?N)l=)IPZrp""></block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""ugLx0pun1}TJ;mv,HSp("">
                                        <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type=""targetcontext_arraystruct"" id=""3tuo,Q[Pb8f*(FMF|mC7"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                    <field name=""CONTEXT_SELECT"">categories  pageDescs</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""aK2[[NOv^KwzCGl!D{[]"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""q)tA%uJ@[]DDnH9g5e|e"">
                                            <field name=""SQL_QUERY"">select &amp;#10;cpd.""Lang"" as ""lang"",&amp;#10;cpd.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageDescs"" cpd &amp;#10;where &amp;#10;cpd.""CategoryID"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""oTt+OK)x+]H`r2pLpj?R"">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""Cc`s+MZDyznd$$s~erKi""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""oHpBI-+w$;4N`q@NMz5A"">
                                            <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""`~Gny?]Qkb=sQQ9sM?7`"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                        <field name=""CONTEXT_SELECT"">categories  pageKeywords</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""Dx-A6kM_..[@aA%os0@U"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""Q2}]}NRi~gS!tZk{Dy#g"">
                                                <field name=""SQL_QUERY"">select&amp;#10;cpk.""Lang"" as ""lang"",&amp;#10;cpk.""Value"" as ""value""&amp;#10;from&amp;#10;""CategoryPageKeywords"" cpk &amp;#10;where &amp;#10;cpk.""CategoryID"" = %s </field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""uxlIas#xq?g=X0NSff_k"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""67ausGkDE0bRZ+-VGe.*""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""d:3~^b#!VR~De7V!T=N0"">
                                                <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type=""targetcontext_arraystruct"" id=""btpDdg1B(K%|,vz.wL./"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                            <field name=""CONTEXT_SELECT"">categories  customAttributes</field>
                                            <statement name=""CONTEXT_DO"">
                                              <block type=""sql_execute"" id=""un$erJT$y~=Lme$Gms:z"">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""7S$Z4^bTP1,1vc.}K?8:"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;cca.""AttributeID"" as ""attributeId"",&amp;#10;cca.""Value"" as ""value""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca &amp;#10;where&amp;#10;cca.""CategoryID"" = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_append_row"" id=""qp12A,$!_@njTwJ*Xn@!"">
                                                    <next>
                                                      <block type=""targetcontext_automap"" id=""l6,z[IQX6;7AlE5H7F=2"">
                                                        <next>
                                                          <block type=""targetcontext_array"" id=""X~$J?BPa{fckPK_Z6#$8"">
                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories  customAttributes""></mutation>
                                                            <field name=""CONTEXT_SELECT"">categories  customAttributes  values</field>
                                                            <statement name=""CONTEXT_DO"">
                                                              <block type=""sql_execute"" id=""?!?dz{{IQ;Xb.JE:G^I8"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""l[`I~C;Vvj0g/(:{S@}5"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;ccav.""Value"" as ""values""&amp;#10;from &amp;#10;""CategoryCustomAttr"" cca &amp;#10;inner join ""CategoryCustomAttrVal"" ccav &amp;#10;on cca.""AttributeID"" =ccav.""AttributeID"" &amp;#10;where &amp;#10;cca.""CategoryID"" =%s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_append_row"" id=""MJ}umi`tKLL##Hr2lvHR"">
                                                                    <next>
                                                                      <block type=""targetcontext_automap"" id=""y~X6z);J^Xt9=/HYb`JH""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""2F3`:FE|LUeJC;wJ=8/6"">
                                                                    <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""NfI3Fz_4kukrlyhz7lH%"">
                                                    <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""targetcontext_arraystruct"" id=""G59o!y0Zn0DngGN/p7)?"">
                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                                <field name=""CONTEXT_SELECT"">categories  refinements</field>
                                                <statement name=""CONTEXT_DO"">
                                                  <block type=""sql_execute"" id=""MRBt0[w*b=9vHyBg-.MM"">
                                                    <mutation bindsCount=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""yDs*%cZyXt;srkD#jlG:"">
                                                        <field name=""SQL_QUERY"">select &amp;#10;cr.""AttributeID"" as ""attributeId"",&amp;#10;cr.""BucketType"" as ""bucketType""&amp;#10;from &amp;#10;""CategoryRefinement"" cr &amp;#10;where &amp;#10;cr.""CategoryID"" = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_append_row"" id=""St`6!B*j5@Jqy,ZIp,6t"">
                                                        <next>
                                                          <block type=""targetcontext_automap"" id=""{SBnzeEwv/E=i`+}a0oW"">
                                                            <next>
                                                              <block type=""targetcontext_arraystruct"" id=""7~Y{y2fKLkdyGcZha125"">
                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories  refinements""></mutation>
                                                                <field name=""CONTEXT_SELECT"">categories  refinements  attributeBuckets</field>
                                                                <statement name=""CONTEXT_DO"">
                                                                  <block type=""sql_execute"" id=""2F@$2c}_bj?X6M8Rh;5{"">
                                                                    <mutation bindsCount=""1""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""+`WhN(KP8PM##o(FIxb4"">
                                                                        <field name=""SQL_QUERY"">select &amp;#10;crab.""Name"" as ""name"",&amp;#10;crab.""ValueList"" as ""valueList""&amp;#10;from &amp;#10;""CategoryRefinement"" cr &amp;#10;inner join ""CatRefAttrBucket"" crab&amp;#10;on crab.""CategoryRefinementID"" = cr.""CategoryRefinementID"" &amp;#10;where &amp;#10;cr.""CategoryID"" = %s </field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""targetcontext_append_row"" id=""+PBZyaCz/({FX*@gxbe%"">
                                                                        <next>
                                                                          <block type=""targetcontext_automap"" id=""mP{LKlFTdrc]+cqB?/*9""></block>
                                                                        </next>
                                                                      </block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get"" id=""OPJ[Tf5g:Y?^#7W+}U=~"">
                                                                        <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </statement>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id=""Ck{3V+9KeF/w9QQ/3}?q"">
                                                        <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </statement>
                                                <next>
                                                  <block type=""targetcontext_arraystruct"" id="".8wmZG;`eyfE|{F$cufM"">
                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""categories""></mutation>
                                                    <field name=""CONTEXT_SELECT"">categories  blockedRefinements</field>
                                                    <statement name=""CONTEXT_DO"">
                                                      <block type=""sql_execute"" id=""HHopuhYhz[3Xs(T5htTa"">
                                                        <mutation bindsCount=""1""></mutation>
                                                        <value name=""SQL_QUERY"">
                                                          <block type=""sql_query"" id=""@#|oM,V(ve88i[JoQHkL"">
                                                            <field name=""SQL_QUERY"">select &amp;#10;cbr.""AttributeID"" as ""attributeId"",&amp;#10;cbr.""Type"" as ""blockedType""&amp;#10;from &amp;#10;""CatBlockedRef"" cbr &amp;#10;where &amp;#10;cbr.""CategoryID"" = %s</field>
                                                          </block>
                                                        </value>
                                                        <statement name=""DO"">
                                                          <block type=""targetcontext_append_row"" id=""QuN*0WhrGZob[i$ZeQA*"">
                                                            <next>
                                                              <block type=""targetcontext_automap"" id=""JsP%=i|Av^RDw)~RGh?I""></block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <value name=""SQLOPTION1"">
                                                          <block type=""variables_get"" id=""C_6B9@He|p5EpkG`0][2"">
                                                            <field name=""VAR"" id=""NfK)+FjC71#fL6l0T=Qk"">CollectionID</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type=""targetcontext_save_row"" id="",NY:t^H6d-/lkz46;uN}""></block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""a_x5F6s5euyzr*[O87sp"" x=""-4737"" y=""-88"">
    <field name=""NAME"">Extentions</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""8Ovp4UNbLeLdO_F-FxPE"">
        <field name=""CONTEXT_SELECT"">extensions</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""ms_=73!WRu/El7?r~ZLi"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""K3dd`9VJ=(gCZPC/[O0}"">
                <field name=""SQL_QUERY"">select&amp;#10;mct.""CustomTypeId"" as ""typeId""&amp;#10;from &amp;#10;""MetaCustomType"" mct </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""EeO58yE!60J5R.o8R~lg"">
                <field name=""VAR"" id=""7r;%@/`GeY!bP9A5M#@)"">ExtTypeID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""~D$vo{+6=PH(MDlqk=xh"">
                    <field name=""COLUMN"">typeId</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""!ge#gR5k{Li=JQHPPMCg"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""t(HL4/SDOFn#YUlKi7lO"">
                        <field name=""SQL_QUERY"">select&amp;#10;mct.""CustomTypeId"" as ""typeId""&amp;#10;from &amp;#10;""MetaCustomType"" mct &amp;#10;where &amp;#10;mct.""CustomTypeId"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""m}j#40zNm5wRb(LXj4||""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""ISbOblyr46@6g;HNE1up"">
                        <field name=""VAR"" id=""7r;%@/`GeY!bP9A5M#@)"">ExtTypeID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id="")sWA[3YBIK~jv+ac01vg"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""extensions""></mutation>
                        <field name=""CONTEXT_SELECT"">extensions  attributes</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""[cAT}O9]l/C$L%R`P:#x"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""0?xQU0Vx*CBSZiO`*qZM"">
                                <field name=""SQL_QUERY"">select &amp;#10;mctad.""MetaCustTypeAttrDefID"" as ""attributeId"",&amp;#10;mctad.""maxValue"" as ""maxVal"",&amp;#10;mctad.""minValue"" as ""minVal"",&amp;#10;mctad.""type"" as ""attributeType""&amp;#10;from &amp;#10;""MetaCustTypeAttrDef"" mctad &amp;#10;where&amp;#10;mctad.""CustomTypeID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""s?9.tMB8t3{Y{$BffRRp"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""Kk]90Jf}FK5L$@TZZBio"">
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""W_TMo=lT3~iFiI@BubC3"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""extensions  attributes""></mutation>
                                        <field name=""CONTEXT_SELECT"">extensions  attributes  values</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""1GGq9%p1cq];|=.kA4]="">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""2UR/(Pa%J/-.7v+qk6Wz"">
                                                <field name=""SQL_QUERY"">select&amp;#10;mctaddn.""Value"" as ""value""&amp;#10;from&amp;#10;""MetaCustTypeAttrDef"" mctad &amp;#10;inner join ""MetaCustTypeAttrDefDispName"" mctaddn &amp;#10;on mctaddn.""MetaCustTypeAttrDefAttrID"" = mctad.""MetaCustTypeAttrDefID"" &amp;#10;and &amp;#10;mctaddn.""Language"" = 'x-default'&amp;#10;where&amp;#10;mctad.""CustomTypeID"" = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""#6ou?FUc.),XHqUI$,Eg"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""cmPBYoRM=hT1MmM^t@uR""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""^}Z46}rg2H`XNl-OnP^i"">
                                                <field name=""VAR"" id=""7r;%@/`GeY!bP9A5M#@)"">ExtTypeID</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""xB3zoZ0@{*CrFp*3u_nR"">
                                <field name=""VAR"" id=""7r;%@/`GeY!bP9A5M#@)"">ExtTypeID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_arraystruct"" id=""-oQBV:RCww~hUk9Eq.gh"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""extensions""></mutation>
                            <field name=""CONTEXT_SELECT"">extensions  groups</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""`5eDCE@zC~Y.K%}6X/`}"">
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""qW,$ga*Q$-ARY-+axx1d"">
                                    <field name=""SQL_QUERY"">select &amp;#10;mctgd.""GroupID"" as ""groupId"",&amp;#10;mgddn.""Value"" as ""displayName"",&amp;#10;mgda.""AttributeID"" as ""attributes""&amp;#10;((from&amp;#10;""MetaCustTypeGroupDef"" mctgd&amp;#10;inner join ""MetaGroupDefAttr"" mgda &amp;#10;on mgda.""GroupID"" = mctgd.""GroupID"")&amp;#10;inner join ""MetaGroupDefDispName"" mgddn &amp;#10;on mgddn.""GroupID"" = mctgd.""GroupID""&amp;#10;and &amp;#10;mgddn.""Language"" = 'x-default')&amp;#10;where&amp;#10;mctgd.""ContentTypeID"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_append_row"" id=""+t/I!3_s:F7yhH7UDlmR"">
                                    <next>
                                      <block type=""targetcontext_automap"" id=""pV.*)mJiu#OUSJR4b,*J""></block>
                                    </next>
                                  </block>
                                </statement>
                              </block>
                            </statement>
                            <next>
                              <block type=""targetcontext_save_row"" id=""Y2E{dnH#~~8O.YYS0f0r""></block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""q4|jc6}*@/,Qz}X(WvXy"" x=""-4187"" y=""-88"">
    <field name=""NAME"">Redirect</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""Vp7is?_F1{118Pu|Pd{;"">
        <field name=""CONTEXT_SELECT"">redirects</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id="".K?YJ$@C;Pz_|{[THt%:"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""C.y1R|,6}Z!W#~lmrnC."">
                <field name=""SQL_QUERY"">select &amp;#10;r.id as ""id"",&amp;#10;r.""redirectType"" as ""redirectType"",&amp;#10;r.value as ""value"",&amp;#10;r.keywords as ""keywords""&amp;#10;from &amp;#10;""Redirect"" r</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""targetcontext_automap"" id=""4/_!XP`s7{HZ-),NUg)u"">
                <next>
                  <block type=""targetcontext_save_row"" id=""HCqCiz@N@Y*{tE?OlTRx""></block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""?awW7ZMQOAXXbz:uULum"" x=""-712"" y=""-262"">
    <field name=""NAME"">product_by_color</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""Q*I2~3_*-Ia.c@xdY*iI"">
        <field name=""CONTEXT_SELECT"">products_by_color</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""wJ~@z=Z=aGTlg}qgfW2T"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""m^G~0^EM=%5`e]U5aIkC"">
                <field name=""SQL_QUERY"">select distinct &amp;#10;pv.""ProductID"" as ""id""&amp;#10;from &amp;#10;""Products"" p &amp;#10;inner join ""ProductVariants"" pv &amp;#10;on pv.""ProductID"" = p.""ID"" </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""U?YY8_2k2@_0yTMrmazg"">
                <field name=""VAR"" id=""wshn[FZ{{%7(s3G+A|nF"">GetID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""1dg=jzxX2SUs^)z,:R~a"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""}5U6l5{MT,3OoTh~/.wb"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""C3/HT,dWJDfoxY.?RZ;8"">
                        <field name=""SQL_QUERY"">select distinct&amp;#10;pav.""Value"" as ""color""&amp;#10;from&amp;#10;""ProductAttributes"" pa &amp;#10;inner join ""ProductAttributeValue"" pav &amp;#10;on pa.""AttValueID"" = pav.""AttValueID"" &amp;#10;where&amp;#10;pa.""ProductId"" = %s&amp;#10;and&amp;#10;pa.""AttributeID"" = 'color'</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""variables_set"" id=""):UuN[v2v7XMku~;1`tF"">
                        <field name=""VAR"" id=""}.~L,kN{}|47q:eYg~S]"">color</field>
                        <value name=""VALUE"">
                          <block type=""targetcontext_refer_columns"" id=""Q:^Fw|D28#Tqdj3SKc~J"">
                            <field name=""COLUMN"">color</field>
                          </block>
                        </value>
                        <next>
                          <block type=""sql_execute"" id=""$W?6Afl6aTRxQ}+mee2i"">
                            <mutation bindsCount=""2""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""MWjvQW~-/@x,vAGz*A!0"">
                                <field name=""SQL_QUERY"">select distinct&amp;#10;pv.""variantID"" as ""argID""&amp;#10;from&amp;#10;""ProductAttributes"" pa &amp;#10;inner join ""ProductAttributeValue"" pav &amp;#10;on pa.""AttValueID"" = pav.""AttValueID"" &amp;#10;inner join ""ProductVariants"" pv &amp;#10;on pv.""ProductID"" = pa.""ProductId"" &amp;#10;where&amp;#10;pa.""ProductId"" = %s&amp;#10;and&amp;#10;pav.""Value"" = %s</field>
                              </block>
                            </value>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""9?.$cJ.#cGGFDB#K|MW2"">
                                <field name=""VAR"" id=""wshn[FZ{{%7(s3G+A|nF"">GetID</field>
                              </block>
                            </value>
                            <value name=""SQLOPTION2"">
                              <block type=""variables_get"" id=""++!pH#_gJptNk/I)Oq.z"">
                                <field name=""VAR"" id=""}.~L,kN{}|47q:eYg~S]"">color</field>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""QlO5LzXsF1c=x[DB|n*^"">
                        <field name=""VAR"" id=""wshn[FZ{{%7(s3G+A|nF"">GetID</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""JM`PpKU^T@JB;$z#ag.="" x=""-3662"" y=""-87"">
    <field name=""NAME"">Contents</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""*fX[-_cU5CC*2kz8(a.E"">
        <field name=""CONTEXT_SELECT"">contents</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""pbkTZ{n!@,LeVPZ+e+$N"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""t0W/~al%gRA4U3.jYoU$"">
                <field name=""SQL_QUERY"">select &amp;#10;lc.""ContentId"" as ""id""&amp;#10;from &amp;#10;""LibraryContent"" lc </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""Q[P%bcsBio6L+xij;tac"">
                <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id="";_-%c#qfB{.Cxti)~7Ig"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""qqS~nbTloePg~_ep_ka+"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""=:`{774gVJxn[~PSexLM"">
                        <field name=""SQL_QUERY"">select &amp;#10;lc.""ContentId"" as ""id"",&amp;#10;lcdn.""Value"" as ""name"",&amp;#10;lcd.""Value"" as ""description"",&amp;#10;lcpapt.""Value"" as ""pageTitle"",&amp;#10;lcpapd.""Value"" as ""pageDesc"",&amp;#10;lcpapu.""Value"" as ""pageUrl""&amp;#10;(((((from &amp;#10;""LibraryContent"" lc &amp;#10;full outer join ""LibraryContentDisplayName"" lcdn &amp;#10;on lcdn.""contentId"" = lc.""ContentId""&amp;#10;and&amp;#10;lcdn.""Language"" = 'x-default')&amp;#10;full outer join ""LibraryContentDescription"" lcd&amp;#10;on lcd.""contentId"" = lc.""ContentId"" &amp;#10;and &amp;#10;lcd.""Language"" = 'x-default')&amp;#10;full outer join ""LibraryContentPageAttributePageTitle"" lcpapt &amp;#10;on lcpapt.""ContentID"" = lc.""ContentId"" &amp;#10;and &amp;#10;lcpapt.""Language"" = 'x-default')&amp;#10;full outer join ""LibraryContentPageAttributePageDesctiption"" lcpapd &amp;#10;on lcpapd.""ContentID"" = lc.""ContentId"" &amp;#10;and &amp;#10;lcpapd.""Language"" = 'x-default')&amp;#10;full outer join ""LibraryContentPageAttributePageURL"" lcpapu &amp;#10;on lcpapu.""ContentID"" = lc.""ContentId"" &amp;#10;and &amp;#10;lcpapu.""Language"" = 'x-default')&amp;#10;where&amp;#10;lc.""ContentId"" = %s&amp;#10;</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""UqEtrs-Sj*bxp}T.{=97""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""IvlH:H=;s(:nG}Qcpvn9"">
                        <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""[dJp`Af/j63.2dymw{]]"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents""></mutation>
                        <field name=""CONTEXT_SELECT"">contents  localeName</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""JZWG]6P`MIJUe~iJQQ^%"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""@*dm5|V2WNnj-RKW}2qp"">
                                <field name=""SQL_QUERY"">select &amp;#10;lcdn.""Language"" as ""lang"",&amp;#10;lcdn.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentDisplayName"" lcdn &amp;#10;where &amp;#10;lcdn.""contentId"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""?o]gX+s0B]TRj*GHbM8v"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""s]xCNMCpGcQ:|!t|_^r_""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""T.K*l#IIP*x*j_.Y;?=)"">
                                <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_arraystruct"" id=""gRs0xt#u12Nmj(fLAkWQ"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents""></mutation>
                            <field name=""CONTEXT_SELECT"">contents  localeDesc</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""QLH0l%#JE]}x-exwNOk%"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""y#A{3AEAh;TfY{Tdi:/K"">
                                    <field name=""SQL_QUERY"">select &amp;#10;lcd.""Language"" as ""lang"",&amp;#10;lcd.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentDescription"" lcd &amp;#10;where &amp;#10;lcd.""contentId"" = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_append_row"" id=""(RO[bDGNNYcx]9_NOMJ}"">
                                    <next>
                                      <block type=""targetcontext_automap"" id=""XjQOXs;(o3cr+5~e]K~o""></block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""WY;gSI94^~zrSrU1R4TQ"">
                                    <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""targetcontext_arraystruct"" id=""oEbthxiFG3B.u#KP;WGz"">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents""></mutation>
                                <field name=""CONTEXT_SELECT"">contents  localePageTitle</field>
                                <statement name=""CONTEXT_DO"">
                                  <block type=""sql_execute"" id=""Wu#{;Am5h3fk^s9t0^*L"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""m/EV8hMusqD0%jJ$Pb~F"">
                                        <field name=""SQL_QUERY"">select &amp;#10;lcpapt.""Language"" as ""lang"",&amp;#10;lcpapt.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageTitle"" lcpapt &amp;#10;where &amp;#10;lcpapt.""ContentID"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_append_row"" id=""[zBmtQ(v@#E$[u^;/v7T"">
                                        <next>
                                          <block type=""targetcontext_automap"" id=""meJzARKk2NixeftG[FI4""></block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""#P]O%|YqIoWQ=+ahKW(B"">
                                        <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type=""targetcontext_arraystruct"" id=""Y*9}.AF%1.W~~mX8vYbA"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents""></mutation>
                                    <field name=""CONTEXT_SELECT"">contents  localePageDesc</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id="",e~qz,#*glhy$KfBvUvl"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id="",vLPQw-#yH3kp3Z@Mk@("">
                                            <field name=""SQL_QUERY"">select &amp;#10;lcpapd.""Language"" as ""lang"",&amp;#10;lcpapd.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageDesctiption"" lcpapd &amp;#10;where &amp;#10;lcpapd.""ContentID"" = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""U|#$bm6Yd.%ETs2djsQ?"">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""DZ/uTB^E5{=}U@/a$,6L""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""iwrm^=z^brV7h;ofdT3A"">
                                            <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""B$wU2G}tr|l9Y?,869gU"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents""></mutation>
                                        <field name=""CONTEXT_SELECT"">contents  localePageUrl</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""Z@~p:|FhdYx},B*IEc!W"">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""3$iu*[9Kz6L51q;++*Jh"">
                                                <field name=""SQL_QUERY"">select &amp;#10;lcpapu.""Language"" as ""lang"",&amp;#10;lcpapu.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryContentPageAttributePageURL"" lcpapu&amp;#10;where &amp;#10;lcpapu.""ContentID"" = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""H,uFYIlV}d`y1dT~z^d`"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""4}()ExPfZ?p/~gBKTaz^""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id="")3-[}q9PFoy8R$[$t}vy"">
                                                <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type=""targetcontext_arraystruct"" id=""?hgFk}+._6%}F+kSy@?3"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents""></mutation>
                                            <field name=""CONTEXT_SELECT"">contents  customAttributes</field>
                                            <statement name=""CONTEXT_DO"">
                                              <block type=""sql_execute"" id=""d7Uc_+]*nv=,D*j=Aa5="">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""ww4/(z!G,m^omQ6B$4Kb"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;lca.""AttributeID"" as ""attributeId"",&amp;#10;lca.""Value"" as ""value""&amp;#10;from &amp;#10;""LibraryCustomAttributes"" lca &amp;#10;where &amp;#10;lca.""contentId"" =%s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_append_row"" id=""C$Ek{AvJQujtBiv,*+*%"">
                                                    <next>
                                                      <block type=""targetcontext_automap"" id=""Dc}hG:Y3A)/ovy),KF0*"">
                                                        <next>
                                                          <block type=""targetcontext_array"" id=""NgHiIH4HOO6l^8m)uLk]"">
                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""contents  customAttributes""></mutation>
                                                            <field name=""CONTEXT_SELECT"">contents  customAttributes  values</field>
                                                            <statement name=""CONTEXT_DO"">
                                                              <block type=""sql_execute"" id=""kpxuj@`3K=~c6QQqtL^;"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""tNQa}J4d6b(b-GO]KKEM"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;lcav.""Values"" as ""values""&amp;#10;from &amp;#10;""LibraryCustomAttributes"" lca &amp;#10;inner join ""LibraryCustomAttributesVal"" lcav &amp;#10;on lcav.""AttributeID"" =lca.""AttributeID"" &amp;#10;where &amp;#10;lca.""contentId"" =%s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_append_row"" id=""wuaCoLgKnfz802{,xD17"">
                                                                    <next>
                                                                      <block type=""targetcontext_automap"" id=""K:d+G+C}DG6z!YjGKAA.""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""6H0NDUSGI@.Sl:XhcsY_"">
                                                                    <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""h6+)#4w)#C#1*Z[^Q5R`"">
                                                    <field name=""VAR"" id="")7F7!+jaB+^RRR}{;jwZ"">ContentID</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""targetcontext_save_row"" id=""hvzg$rZaaXT0=BH!/dxz""></block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""%jqykw2?:+GkQPU1)~;i"" x=""-13"" y=""-263"">
    <field name=""NAME"">product_by_size</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""mK();2!(RU~U?Oay-OZx"">
        <field name=""CONTEXT_SELECT"">products_by_size</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""=%cl=uwX5kG;q76TK@wZ"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""R1;650ym@h4{t(Ti:FDH"">
                <field name=""SQL_QUERY"">select distinct &amp;#10;pv.""ProductID"" as ""id""&amp;#10;from &amp;#10;""Products"" p &amp;#10;inner join ""ProductVariants"" pv &amp;#10;on pv.""ProductID"" = p.""ID"" </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""qHUAd,IQ/Gx{cnTO:5a_"">
                <field name=""VAR"" id=""wshn[FZ{{%7(s3G+A|nF"">GetID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""=[`|37I(0OB!h^5{?)y9"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""-c@E$*d*NK=La5`k9npP"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""mp.[niXRv:%?oD-},7ue"">
                        <field name=""SQL_QUERY"">select distinct&amp;#10;pav.""Value"" as ""size""&amp;#10;from&amp;#10;""ProductAttributes"" pa &amp;#10;inner join ""ProductAttributeValue"" pav &amp;#10;on pa.""AttValueID"" = pav.""AttValueID"" &amp;#10;where&amp;#10;pa.""ProductId"" = %s&amp;#10;and&amp;#10;pa.""AttributeID"" = 'size'</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""variables_set"" id=""immjOC{X6QHVV}_W/]fb"">
                        <field name=""VAR"" id=""/6){KlK$0i(8DF3$Uo]V"">size</field>
                        <value name=""VALUE"">
                          <block type=""targetcontext_refer_columns"" id=""T:vaROdM2nA5FA^0h6o3"">
                            <field name=""COLUMN"">size</field>
                          </block>
                        </value>
                        <next>
                          <block type=""sql_execute"" id=""Z346S]?$Wu3|)mFFhn_["">
                            <mutation bindsCount=""2""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""A^`8NxJmbz6#oL.6?h|;"">
                                <field name=""SQL_QUERY"">select distinct&amp;#10;pv.""variantID"" as ""argID""&amp;#10;from&amp;#10;""ProductAttributes"" pa &amp;#10;inner join ""ProductAttributeValue"" pav &amp;#10;on pa.""AttValueID"" = pav.""AttValueID"" &amp;#10;inner join ""ProductVariants"" pv &amp;#10;on pv.""ProductID"" = pa.""ProductId"" &amp;#10;where&amp;#10;pa.""ProductId"" = %s&amp;#10;and&amp;#10;pav.""Value"" = %s</field>
                              </block>
                            </value>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""/T:#8kRk6IPS4?#S?Y;{"">
                                <field name=""VAR"" id=""wshn[FZ{{%7(s3G+A|nF"">GetID</field>
                              </block>
                            </value>
                            <value name=""SQLOPTION2"">
                              <block type=""variables_get"" id=""f$$PYCKl@lhI]zT#idtM"">
                                <field name=""VAR"" id=""}.~L,kN{}|47q:eYg~S]"">color</field>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""Q,aPourGtw}(gcfy]%ro"">
                        <field name=""VAR"" id=""wshn[FZ{{%7(s3G+A|nF"">GetID</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""initialization"" id=""$w.XfFyw`EhnOe$H6sGW"" x=""-1737"" y=""-162"">
    <statement name=""CODE"">
      <block type=""procedures_callnoreturn"" id=""0P0u9R?}L[an#f+mm]5N"">
        <mutation name=""products""></mutation>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""y:f|7#h-:/*kkD#ZN#DG"" x=""-2912"" y=""-63"">
    <field name=""NAME"">Stores</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""UL)8spo~jBrloovR`c07"">
        <field name=""CONTEXT_SELECT"">stores</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""ewTL3w6)WOnb3hJqMKjj"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""}pIT43O]x@pN*~7U_ZQ;"">
                <field name=""SQL_QUERY"">select &amp;#10;s.""Id"" as ""id""&amp;#10;from ""Stores"" s</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""MdIKm^rM446HC0cj(,(R"">
                <field name=""VAR"" id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""PVvO`^}k_pD6yZgWzgml"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""-`5{TQ,kqb0J%DRsQ`*2"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""H~lJY{%Q)`jdUZZ%$x41"">
                        <field name=""SQL_QUERY"">select &amp;#10;s.""Id"" as ""id"",&amp;#10;s.""Name"" as ""name"", &amp;#10;s.""Address1"" as ""address1"",&amp;#10;s.""Address2"" as ""address2"",&amp;#10;s.""City"" as ""city"",&amp;#10;s.""PostalCode"" as ""postalCode"",&amp;#10;s.""StateCode"" as ""stateCode"",&amp;#10;s.""CountryCode"" as ""countryCode"",&amp;#10;s.""Phone"" as phone,&amp;#10;s.""Fax"" as ""fax"",&amp;#10;s.""Email"" as ""email""&amp;#10;from ""Stores"" s &amp;#10;where&amp;#10;s.""Id""= %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""/leM#N#fOUq1#sQNpu?g""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""5QZA7x:NKaVFG^BXe,-*"">
                        <field name=""VAR"" id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""rXdYYr:va/jM~59EN7Fq"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""stores""></mutation>
                        <field name=""CONTEXT_SELECT"">stores  storeEvents</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""rMll4~(xa{VOL^BnXvOs"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""P}ssI:t2%WS5J5d0lrt@"">
                                <field name=""SQL_QUERY"">select &amp;#10;se.""Lang"" as ""lang"",&amp;#10;se.""Value"" as ""value""&amp;#10;from &amp;#10;""StoreEvents"" se&amp;#10;where&amp;#10;se.""StoreID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""_}[c|g8,g-K{Xui=s]7S"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""I.|`]+1U_MqvLMV`[d@s""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""0VY0_$$FX7f8WbFRc?Bj"">
                                <field name=""VAR"" id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_arraystruct"" id=""8iZegZw3T[/z0I=`/sgN"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""stores""></mutation>
                            <field name=""CONTEXT_SELECT"">stores  storeHours</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""QJhUcJJ[v3P@x?sRAKUd"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""Nq57_J]/^[DZT}D2]=do"">
                                    <field name=""SQL_QUERY"">select &amp;#10;sh.""Lang"" as ""lang"",&amp;#10;sh.""Value"" as ""value""&amp;#10;from &amp;#10;""StoreHours"" sh &amp;#10;where&amp;#10;sh.""StoreID = %s"" </field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_append_row"" id=""s2`j)q@SDb/KP-YI7h/+"">
                                    <next>
                                      <block type=""targetcontext_automap"" id=""y2}_#q!7iI`ysgm}hV7W""></block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""IPFZjx_]sCvqiVCEO+!#"">
                                    <field name=""VAR"" id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""targetcontext_arraystruct"" id=""}ma,qBE4-vV?0I3)Z_xx"">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""stores""></mutation>
                                <field name=""CONTEXT_SELECT"">stores  customAttributes</field>
                                <statement name=""CONTEXT_DO"">
                                  <block type=""sql_execute"" id=""rLaF9^OjwAk*c-nbe,cp"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""7lHta1Yo9g0x/_4%R#Iw"">
                                        <field name=""SQL_QUERY"">select&amp;#10;sca.""attributeId"" as ""attributeId"",&amp;#10;sca.""Value"" as ""value""&amp;#10;from ""StoresCustomAttr"" sca &amp;#10;where &amp;#10;sca.""StoreID"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_append_row"" id=""[RSWi$6!^W{To=bWh1$*"">
                                        <next>
                                          <block type=""targetcontext_automap"" id=""BdZ6cn:Kegu$SZ$~7#I7"">
                                            <next>
                                              <block type=""variables_set"" id=""rn),FD)^qg~Rys1[V:s3"">
                                                <field name=""VAR"" id=""oIUnoBb4CV:W*ndIkO)M"">storeCustAttrID</field>
                                                <value name=""VALUE"">
                                                  <block type=""targetcontext_refer_columns"" id=""ej)aM(78$0~[S0~poI|a"">
                                                    <field name=""COLUMN"">attributeId</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type=""sql_execute"" id=""w1MS:umrK_UN{q8qQ6ud"">
                                                    <mutation bindsCount=""2""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""U`ABn9t_eAreQRVgqKw`"">
                                                        <field name=""SQL_QUERY"">select &amp;#10;scav.""Values"" as ""values""&amp;#10;from &amp;#10;""StoresCustomAttrVal"" scav ,""StoresCustomAttr"" sca &amp;#10;where &amp;#10;scav.""attributeId"" = %s &amp;#10;and &amp;#10;sca.""StoreID"" = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_append_row"" id=""23dHK5a8aQ^rV`dMd{bz"">
                                                        <next>
                                                          <block type=""targetcontext_automap"" id=""RWqL(aybJ,MN:dt~;J-u""></block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id="".9J#R$quw,d}IjJe}$bc"">
                                                        <field name=""VAR"" id=""oIUnoBb4CV:W*ndIkO)M"">storeCustAttrID</field>
                                                      </block>
                                                    </value>
                                                    <value name=""SQLOPTION2"">
                                                      <block type=""variables_get"" id=""yD.|#I9BwnLr0`|HF@]~"">
                                                        <field name=""VAR"" id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id=""RpDL?#$6R#S%Xm)L;LLE"">
                                        <field name=""VAR"" id=""5b)E!~Am+T,ZrMk+D0f+"">StoreID</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type=""targetcontext_save_row"" id=""O%sIe`KV$nsgC7qU0}}D""></block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id="".Rj(+a|Cy1qBJaV{);x7"" x=""-2287"" y=""-37"">
    <field name=""NAME"">Slots</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""b{e)B!dsVbT~,}Y`H5#T"">
        <field name=""CONTEXT_SELECT"">slots</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""qfuxxO{5$rt*[W^Ckv8#"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""A}U/*zbJMY[|T!(#auyM"">
                <field name=""SQL_QUERY"">select &amp;#10;s.""SlotID"" as ""slot_id""&amp;#10;from&amp;#10;""Slot"" s</field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""*=Kd]DI)@n^J_feAX``e"">
                <field name=""VAR"" id=""C1_94Kz3=_+n[fJg:e1x"">SlotID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id="":4%kaWwka;$3YmO8ehf)"">
                    <field name=""COLUMN"">slot_id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""9})7.ETLP-z!kBaWz.Lb"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""8OPoUfer~K,nGl:oX~DO"">
                        <field name=""SQL_QUERY"">select &amp;#10;s.""SlotID"" as ""slot_id"",&amp;#10;s.""Context"" as ""context"",&amp;#10;s.""ContextID"" as ""context_id"",&amp;#10;s.""ConfigurationID"" as ""configuration_id"",&amp;#10;s.""EnabledFlag"" as ""default_flag""&amp;#10;from&amp;#10;""Slot"" s&amp;#10;where &amp;#10;s.""SlotID"" =  %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""GH1[Cf4mx4LFT`RnvY5l""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""8bqS/-JJwiaG6lH3iO.y"">
                        <field name=""VAR"" id=""C1_94Kz3=_+n[fJg:e1x"">SlotID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""QcHm$0;5%8)$Re+9aPj@"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""slots""></mutation>
                        <field name=""CONTEXT_SELECT"">slots  customAttributes</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""A-;(X7{kK(;dd3X{vbsz"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""fPqn)vBVVvd;:ndBEVc%"">
                                <field name=""SQL_QUERY"">select &amp;#10;sca.""attributeId"" as ""attributeId"",&amp;#10;sca.""Value"" as ""value""&amp;#10;from &amp;#10;""SlotsCustomAttr"" sca &amp;#10;where&amp;#10;sca.""SlotID"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""rh*CTdHO/b;FbM?d([lu"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""B%Co5@yIdM_;`YFyv4Ob"">
                                    <next>
                                      <block type=""variables_set"" id=""-j,P1Eaqva:r[_6skpxw"">
                                        <field name=""VAR"" id=""XP+$]LZF~B8$v,LksnIi"">slotCustAttr</field>
                                        <value name=""VALUE"">
                                          <block type=""targetcontext_refer_columns"" id=""6z[3X}X;2a@ofF9KNtU%"">
                                            <field name=""COLUMN"">attributeId</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type=""targetcontext_array"" id=""cMLs}W+GlU5xWmWANE=m"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""slots  customAttributes""></mutation>
                                            <field name=""CONTEXT_SELECT"">slots  customAttributes  values</field>
                                            <statement name=""CONTEXT_DO"">
                                              <block type=""sql_execute"" id=""nCERI8b8qRF,}f0Jt1mu"">
                                                <mutation bindsCount=""2""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""u_?o{lQL9rT9Qp*dRh%D"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;scav.""Values"" as ""values""&amp;#10;from &amp;#10;""SlotsCustomAttr"" sca ,""SlotsCustomAttrVal"" scav &amp;#10;where &amp;#10;sca.""SlotID"" = %s&amp;#10;and&amp;#10;scav.""attributeId"" = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_append_row"" id=""OLV8A#f)aLWGgqYL2#U!"">
                                                    <next>
                                                      <block type=""targetcontext_automap"" id=""SyYjyLA}~6@x@dDCnK%b""></block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""WfK?+GE.d)Eo:xaz_#N|"">
                                                    <field name=""VAR"" id=""C1_94Kz3=_+n[fJg:e1x"">SlotID</field>
                                                  </block>
                                                </value>
                                                <value name=""SQLOPTION2"">
                                                  <block type=""variables_get"" id=""fE,khL7dRxC?)^O68Y-!"">
                                                    <field name=""VAR"" id=""XP+$]LZF~B8$v,LksnIi"">slotCustAttr</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""r^S=ZGG;{^SI?L3Q25/i"">
                                <field name=""VAR"" id=""C1_94Kz3=_+n[fJg:e1x"">SlotID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_save_row"" id=""cEEP%T0fXr{IJK%jVRTT""></block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""procedures_defnoreturn"" id=""9LFmWSiZ3jqW`rHGKRLo"" x=""-1414"" y=""-10"">
    <field name=""NAME"">products</field>
    <comment pinned=""false"" h=""80"" w=""160"">Describe this function...</comment>
    <statement name=""STACK"">
      <block type=""targetcontext_table"" id=""B=%~zUemq0xwNj6X$c$g"">
        <field name=""CONTEXT_SELECT"">products</field>
        <statement name=""CONTEXT_DO"">
          <block type=""sql_execute"" id=""ObDFiEKI`|V7NzTCyzf]"">
            <value name=""SQL_QUERY"">
              <block type=""sql_query"" id=""2qPKM86}ZKo!4JOAkx@}"">
                <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id""&amp;#10;from &amp;#10;""Products"" p </field>
              </block>
            </value>
            <statement name=""DO"">
              <block type=""variables_set"" id=""zR4PH]|ehH?Ag_SOQ[F#"">
                <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                <value name=""VALUE"">
                  <block type=""targetcontext_refer_columns"" id=""w|~;KL+p/s7,u32{SdC)"">
                    <field name=""COLUMN"">id</field>
                  </block>
                </value>
                <next>
                  <block type=""sql_execute"" id=""{]/!nW`Dm:`O%@c)pyX8"">
                    <mutation bindsCount=""1""></mutation>
                    <value name=""SQL_QUERY"">
                      <block type=""sql_query"" id=""rpV|]3o.u-vKxB3}HT61"">
                        <field name=""SQL_QUERY"">select&amp;#10;p.""ID"" as ""id"",&amp;#10;p.""Ean"" as ""ean"", &amp;#10;p.""Upc"" as ""upc"",&amp;#10;p.""Unit"" as ""unit"",&amp;#10;p.""MinOrderQuantity"" as ""minOrderQuantity"",&amp;#10;p.""StepQuantity"" as ""stepQuantity"",&amp;#10;p.""OnlineFlag"" as ""onlineFlag"",&amp;#10;p.""AvailableFlag"" as ""availableFlag"",&amp;#10;p.""SearchableFlag"" as ""searchableFlag"",&amp;#10;p.""ManufacturerSKU"" as ""manufacturerSku"",&amp;#10;p.""TaxClassID"" as ""taxClassId"",&amp;#10;p.""PageURL"" as ""pageUrl"",&amp;#10;pdn.""Value"" as ""name"",&amp;#10;pcc.""CatalogID"" as ""classificationCategory"",&amp;#10;psd.""Value"" as ""shortDescription"",&amp;#10;pld.""Value"" as ""longDescription"",&amp;#10;ppt.""Value"" as ""pageTitle"",&amp;#10;ppd.""Value"" as ""pageDesc"",&amp;#10;ppk.""Value"" as ""pageKeyword""&amp;#10;from (((((((""Products"" p&amp;#10;full outer join  ""ProductDisplayNames"" pdn &amp;#10;on pdn.""Language"" = 'x-default'&amp;#10;and&amp;#10;pdn.""ProductId"" = p.""ID"")&amp;#10;full outer join  ""ProductClassCat"" pcc &amp;#10;on pcc.""ProductID"" = p.""ID"" )&amp;#10;full outer join ""ProductShortDescriptions"" psd &amp;#10;on psd.""Language"" = 'x-default'&amp;#10;and &amp;#10;psd.""ProductId"" = p.""ID"")&amp;#10;full outer join ""ProductLongDescriptions"" pld &amp;#10;on pld.""Language"" ='x-default'&amp;#10;and &amp;#10;pld.""ProductId"" =p.""ID"")&amp;#10;full outer join ""ProductPageTitles"" ppt &amp;#10;on ppt.""Language"" ='x-default'&amp;#10;and &amp;#10;ppt.""ProductId"" = p.""ID"")&amp;#10;full outer join ""ProductPageDescs"" ppd &amp;#10;on ppd.""Language"" ='x-default'&amp;#10;and &amp;#10;ppd.""ProductId"" = p.""ID"")&amp;#10;full outer join ""ProductPageKeywords"" ppk &amp;#10;on ppk.""Language"" ='x-default'&amp;#10;and &amp;#10;ppk.""ProductId"" = p.""ID"")&amp;#10;where &amp;#10;p.""ID"" = %s</field>
                      </block>
                    </value>
                    <statement name=""DO"">
                      <block type=""targetcontext_automap"" id=""PX#J/C;KPYO)GDW?;#|`""></block>
                    </statement>
                    <value name=""SQLOPTION1"">
                      <block type=""variables_get"" id=""/wq4d/cu)389g$o~X;]6"">
                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                      </block>
                    </value>
                    <next>
                      <block type=""targetcontext_arraystruct"" id=""g.mEghFFyiuS3(j@D}s#"">
                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                        <field name=""CONTEXT_SELECT"">products  shortDescriptions</field>
                        <statement name=""CONTEXT_DO"">
                          <block type=""sql_execute"" id=""o%cE*rp_9CLn#uPGbmPv"">
                            <mutation bindsCount=""1""></mutation>
                            <value name=""SQL_QUERY"">
                              <block type=""sql_query"" id=""}+6SinlsCyo~I~a$Zdzy"">
                                <field name=""SQL_QUERY"">select &amp;#10;psd.""Language"" as ""lang"",&amp;#10;psd.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductShortDescriptions"" psd &amp;#10;where&amp;#10;psd.""ProductId"" = %s</field>
                              </block>
                            </value>
                            <statement name=""DO"">
                              <block type=""targetcontext_append_row"" id=""9oc_UQ,zmUQJly.3y$i7"">
                                <next>
                                  <block type=""targetcontext_automap"" id=""}OwY8SR2+V+G!lG-(gZT""></block>
                                </next>
                              </block>
                            </statement>
                            <value name=""SQLOPTION1"">
                              <block type=""variables_get"" id=""X|Jx}UP[{mU-o)~*2[cT"">
                                <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type=""targetcontext_arraystruct"" id="")wqLmcDNH%o@9R.@ZWa9"">
                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                            <field name=""CONTEXT_SELECT"">products  longDescriptions</field>
                            <statement name=""CONTEXT_DO"">
                              <block type=""sql_execute"" id=""sbk~.gMQ*iO?_7]z^)3y"">
                                <mutation bindsCount=""1""></mutation>
                                <value name=""SQL_QUERY"">
                                  <block type=""sql_query"" id=""({M909+f.Z.qynmhbj)0"">
                                    <field name=""SQL_QUERY"">select &amp;#10;pld.""Language"" as ""lang"",&amp;#10;pld.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductLongDescriptions"" pld &amp;#10;where&amp;#10;pld.""ProductId""  = %s</field>
                                  </block>
                                </value>
                                <statement name=""DO"">
                                  <block type=""targetcontext_append_row"" id=""*0{?(Sbq2ssxr:jYEJd("">
                                    <next>
                                      <block type=""targetcontext_automap"" id=""@7x~hojcl%N:wU`8kNbB""></block>
                                    </next>
                                  </block>
                                </statement>
                                <value name=""SQLOPTION1"">
                                  <block type=""variables_get"" id=""96y8:G]R8.AkfEdvNV*l"">
                                    <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type=""targetcontext_arraystruct"" id=""cZ05@l|kuRGh]IY$r=pr"">
                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                <field name=""CONTEXT_SELECT"">products  pageTitles</field>
                                <statement name=""CONTEXT_DO"">
                                  <block type=""sql_execute"" id=""L(avH8#_l!VS)dv*#_Tx"">
                                    <mutation bindsCount=""1""></mutation>
                                    <value name=""SQL_QUERY"">
                                      <block type=""sql_query"" id=""W3,i59$*EZnvx~oTo86{"">
                                        <field name=""SQL_QUERY"">select &amp;#10;ppt.""Language"" as ""lang"",&amp;#10;ppt.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductPageTitles"" ppt &amp;#10;where&amp;#10;ppt.""ProductId"" = %s</field>
                                      </block>
                                    </value>
                                    <statement name=""DO"">
                                      <block type=""targetcontext_append_row"" id="",V3~JlaK?#?!bM|q6#{b"">
                                        <next>
                                          <block type=""targetcontext_automap"" id=""leyUC1DHzV0R{k`rT0VX""></block>
                                        </next>
                                      </block>
                                    </statement>
                                    <value name=""SQLOPTION1"">
                                      <block type=""variables_get"" id="";JEOKt7ttZN2{b.-kbK$"">
                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type=""targetcontext_arraystruct"" id=""9XoA4)SvPqccyzqZXCST"">
                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                    <field name=""CONTEXT_SELECT"">products  pageDescs</field>
                                    <statement name=""CONTEXT_DO"">
                                      <block type=""sql_execute"" id=""2I~AKDgnN91=|0t1^fWg"">
                                        <mutation bindsCount=""1""></mutation>
                                        <value name=""SQL_QUERY"">
                                          <block type=""sql_query"" id=""(`YH{^WafL.9oJqe=-#a"">
                                            <field name=""SQL_QUERY"">select &amp;#10;ppd.""Language"" as ""lang"",&amp;#10;ppd.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductPageDescs"" ppd &amp;#10;where&amp;#10;ppd.""ProductId""  = %s</field>
                                          </block>
                                        </value>
                                        <statement name=""DO"">
                                          <block type=""targetcontext_append_row"" id=""h1oIpn?6|2Zi~mZn(DPs"">
                                            <next>
                                              <block type=""targetcontext_automap"" id=""MF#lpbVZWG=og(mB(YMU""></block>
                                            </next>
                                          </block>
                                        </statement>
                                        <value name=""SQLOPTION1"">
                                          <block type=""variables_get"" id=""X,mUiZkT~g]/3!;#uL5+"">
                                            <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type=""targetcontext_arraystruct"" id=""%oY*pIyEkGv4qZ{ASua!"">
                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                        <field name=""CONTEXT_SELECT"">products  pageKeywords</field>
                                        <statement name=""CONTEXT_DO"">
                                          <block type=""sql_execute"" id=""jZL[(VdWUySGGOO0%~R("">
                                            <mutation bindsCount=""1""></mutation>
                                            <value name=""SQL_QUERY"">
                                              <block type=""sql_query"" id=""BR@37BUfm77)[p8IE~kK"">
                                                <field name=""SQL_QUERY"">select &amp;#10;ppk.""Language"" as ""lang"",&amp;#10;ppk.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductPageKeywords"" ppk &amp;#10;where&amp;#10;ppk.""ProductId""  = %s</field>
                                              </block>
                                            </value>
                                            <statement name=""DO"">
                                              <block type=""targetcontext_append_row"" id=""gy#17}]3OmCIr)R:PxCy"">
                                                <next>
                                                  <block type=""targetcontext_automap"" id=""i}EgIeGtXHp1NCd.[K!~""></block>
                                                </next>
                                              </block>
                                            </statement>
                                            <value name=""SQLOPTION1"">
                                              <block type=""variables_get"" id=""~L!N;4*[;3bb.~Hd2dm*"">
                                                <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type=""targetcontext_arraystruct"" id=""-cByT4eD!k9_(*xvH~Vg"">
                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                            <field name=""CONTEXT_SELECT"">products  customAttributes</field>
                                            <statement name=""CONTEXT_DO"">
                                              <block type=""sql_execute"" id=""S3/9%@$,QG+-]bC@rz=t"">
                                                <mutation bindsCount=""1""></mutation>
                                                <value name=""SQL_QUERY"">
                                                  <block type=""sql_query"" id=""7=!*_?u;pTOFP;m2?1ww"">
                                                    <field name=""SQL_QUERY"">select &amp;#10;pca.""AttributeID"" as ""attributeId"",&amp;#10;pca.""Value"" as ""value""&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca &amp;#10;where&amp;#10;pca.""ProductId"" = %s</field>
                                                  </block>
                                                </value>
                                                <statement name=""DO"">
                                                  <block type=""targetcontext_append_row"" id=""DXc~RVX4#F9M[!IZMk}f"">
                                                    <next>
                                                      <block type=""targetcontext_automap"" id=""q%YNgf?]vUP1SYoF(EK0"">
                                                        <next>
                                                          <block type=""variables_set"" id=""yWLFqR/o7V^.VCz7-Fee"">
                                                            <field name=""VAR"" id=""F~qzNJg[egLnEo%6/okW"">proCustAttrID</field>
                                                            <value name=""VALUE"">
                                                              <block type=""targetcontext_refer_columns"" id=""c)MyWOnmV@1L!R`W3Zg$"">
                                                                <field name=""COLUMN"">attributeId</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type=""targetcontext_array"" id=""WB^sT3~yO{WQ5Z3utWEW"">
                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  customAttributes""></mutation>
                                                                <field name=""CONTEXT_SELECT"">products  customAttributes  values</field>
                                                                <statement name=""CONTEXT_DO"">
                                                                  <block type=""sql_execute"" id=""2mLMcp)c~ti^ytkpJY@d"">
                                                                    <mutation bindsCount=""2""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""E5Z7B#w@Uj6Tnx-nWw4-"">
                                                                        <field name=""SQL_QUERY"">select&amp;#10;pcav.""Value"" as ""values""&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca ,""ProductCustomAttributesValue"" pcav &amp;#10;where &amp;#10;pcav.""AttributeID"" = %s&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""targetcontext_append_row"" id=""33=iA=y9)d[XNe=}+o$D"">
                                                                        <next>
                                                                          <block type=""targetcontext_automap"" id=""v9zk*viekliRl=-daD?g""></block>
                                                                        </next>
                                                                      </block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get"" id=""233XvpnRH]~+_KJuGWA)"">
                                                                        <field name=""VAR"" id=""F~qzNJg[egLnEo%6/okW"">proCustAttrID</field>
                                                                      </block>
                                                                    </value>
                                                                    <value name=""SQLOPTION2"">
                                                                      <block type=""variables_get"" id=""KZD#}K8o|:8.]MlMm_;Y"">
                                                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </statement>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </statement>
                                                <value name=""SQLOPTION1"">
                                                  <block type=""variables_get"" id=""_QhHd!PcQc^s:~aYtgR$"">
                                                    <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type=""targetcontext_arraystruct"" id=""HT9[+#ZoglfRKJRl8[!Y"">
                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                <field name=""CONTEXT_SELECT"">products  attributes</field>
                                                <statement name=""CONTEXT_DO"">
                                                  <block type=""sql_execute"" id=""%6GmYt{Q4UPU=clXNNeP"">
                                                    <mutation bindsCount=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""=rxToV,k,8EEniedMc{t"">
                                                        <field name=""SQL_QUERY"">select &amp;#10;pa.""AttributeID"" as ""attributeId"",&amp;#10;pa.""VariationAttributeID"" as ""variationAttributeId"",&amp;#10;pa.""Name"" as ""name""&amp;#10;from&amp;#10;""ProductAttributes"" pa &amp;#10;where&amp;#10;pa.""ProductId"" = %s</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_append_row"" id=""B}ed-pO#h,c6_aNUUm^Y"">
                                                        <next>
                                                          <block type=""targetcontext_automap"" id=""pj30C4er;,pPL%d!cVgm"">
                                                            <next>
                                                              <block type=""targetcontext_arraystruct"" id="",Mt6PSpy+i[MKfU*DHix"">
                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  attributes""></mutation>
                                                                <field name=""CONTEXT_SELECT"">products  attributes  values</field>
                                                                <statement name=""CONTEXT_DO"">
                                                                  <block type=""sql_execute"" id=""p|rP`UZIxXIJ[n=w)}LR"">
                                                                    <mutation bindsCount=""1""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""WdY=XrM9s@,_I48oQn{p"">
                                                                        <field name=""SQL_QUERY"">select &amp;#10;pav.""Value"" as ""value"",&amp;#10;pav.""DisplayValue"" as ""displayValue"",&amp;#10;pav.""Lang"" as ""lang""&amp;#10;from &amp;#10;""ProductAttributes"" pa&amp;#10;inner join ""ProductAttributeValue"" pav&amp;#10;on pav.""AttValueID"" = pa.""AttValueID"" &amp;#10;where &amp;#10;pa.""ProductId"" = %s</field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""targetcontext_append_row"" id=""?ot!}Vgj2k?YN3V-oS]p"">
                                                                        <next>
                                                                          <block type=""targetcontext_automap"" id=""Wr`:Wf_my%iisdfiX`%d""></block>
                                                                        </next>
                                                                      </block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get"" id=""3B=5RV)r6E%`s6o+x`+v"">
                                                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </statement>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id=""Vz(Q01GwAxWq?FXl2A#V"">
                                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </statement>
                                                <next>
                                                  <block type=""sql_execute"" id=""C{sICh3h=s#We@wr0|Bk"">
                                                    <mutation bindsCount=""1""></mutation>
                                                    <value name=""SQL_QUERY"">
                                                      <block type=""sql_query"" id=""vLF=0Fmxzt/}k5jJ9cH$"">
                                                        <field name=""SQL_QUERY"">select&amp;#10;pra.""Quantity"",&amp;#10;pra.""Value"", &amp;#10;px.""PricebookHeaderXMLID"", &amp;#10;phx.""Currency"" &amp;#10;from ""PricebookRecordAmount"" pra&amp;#10;full outer join ""PricebookXML"" px &amp;#10;on px.""PricebookRecordID"" =pra.""PricebookRecordID""&amp;#10;full outer join ""PricebookHeaderXML"" phx &amp;#10;on phx.""ID"" = px.""PricebookHeaderXMLID"" &amp;#10;where&amp;#10;pra.""PricebookRecordID"" = (select &amp;#10;coalesce(pro.""PricebookRecordID"" , prd.""PricebookRecordID"") as ""PricebookRecordID""&amp;#10;from ""PricebookRecord"" prd &amp;#10;full outer join ""PricebookRecord"" pro&amp;#10;on prd.""ProductID"" = pro.""ProductID""&amp;#10;and &amp;#10;pro.""PriceBookType"" = 'OverRidePriceBook' &amp;#10;and&amp;#10;prd.""PriceBookType"" = 'DefaultPriceBook'&amp;#10;where&amp;#10;prd.""ProductID"" = %s&amp;#10;)</field>
                                                      </block>
                                                    </value>
                                                    <statement name=""DO"">
                                                      <block type=""targetcontext_automap"" id=""|7Ahsfu2k?h2jkQZCoJg""></block>
                                                    </statement>
                                                    <value name=""SQLOPTION1"">
                                                      <block type=""variables_get"" id=""(%;K?mj;QAh)sufm+aTd"">
                                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type=""targetcontext_array"" id=""]NmDvA`DcUG*hUmb}oWN"">
                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                        <field name=""CONTEXT_SELECT"">products  colors</field>
                                                        <statement name=""CONTEXT_DO"">
                                                          <block type=""sql_execute"" id=""6![d**(ZNS@axm?@IoZV"">
                                                            <mutation bindsCount=""1""></mutation>
                                                            <value name=""SQL_QUERY"">
                                                              <block type=""sql_query"" id=""ICEV4{|1FRHL8?q`0KaP"">
                                                                <field name=""SQL_QUERY"">select &amp;#10;pav.""Value"" as ""color""&amp;#10;from ""ProductAttributes"" pa &amp;#10;inner join ""ProductAttributeValue"" pav &amp;#10;on pav.""AttValueID"" = pa.""AttValueID"" &amp;#10;where&amp;#10;pa.""AttributeID"" = 'color'&amp;#10;and &amp;#10;pa.""ProductId"" = %s </field>
                                                              </block>
                                                            </value>
                                                            <statement name=""DO"">
                                                              <block type=""targetcontext_append_row"" id=""i9iy|CER*K@/EL9!PZ#K"">
                                                                <next>
                                                                  <block type=""targetcontext_automap"" id=""(oJDqLt[yW,|{pK/0_%]""></block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                            <value name=""SQLOPTION1"">
                                                              <block type=""variables_get"" id=""$Rey?wn%9n~zlawDB]$N"">
                                                                <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </statement>
                                                        <next>
                                                          <block type=""targetcontext_array"" id=""rPtJ9`.q1c@L@(kDSzP;"">
                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                            <field name=""CONTEXT_SELECT"">products  sizes</field>
                                                            <statement name=""CONTEXT_DO"">
                                                              <block type=""sql_execute"" id=""}C)q[-EgycJsv=IjsC$D"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""wF4AQIS.`Rej}F|`BBn~"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;pav.""Value"" as ""size""&amp;#10;from ""ProductAttributes"" pa &amp;#10;inner join ""ProductAttributeValue"" pav &amp;#10;on pav.""AttValueID"" = pa.""AttValueID"" &amp;#10;where&amp;#10;pa.""AttributeID"" = 'size'&amp;#10;and &amp;#10;pa.""ProductId"" = %s </field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_append_row"" id=""pU77UZB/}+%IMgP`i88$"">
                                                                    <next>
                                                                      <block type=""targetcontext_automap"" id=""{X[Xa9HnbL{4Ee_1ZY#d""></block>
                                                                    </next>
                                                                  </block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id=""z[S)l=DsqappuB@,/Igm"">
                                                                    <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </statement>
                                                            <next>
                                                              <block type=""sql_execute"" id="",P2%9V]ox$R8]~~EzJsL"">
                                                                <mutation bindsCount=""1""></mutation>
                                                                <value name=""SQL_QUERY"">
                                                                  <block type=""sql_query"" id=""g^YYPyec?Y[c^EZU(|,9"">
                                                                    <field name=""SQL_QUERY"">select &amp;#10;pca.""Value"" as ""sellableProductDate""&amp;#10;from ""ProductCustomAttributes"" pca&amp;#10;where&amp;#10;pca.""AttributeID"" = 'sellableProductDate'&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                  </block>
                                                                </value>
                                                                <statement name=""DO"">
                                                                  <block type=""targetcontext_automap"" id=""*qQtxDgPP[07c;zsMonb""></block>
                                                                </statement>
                                                                <value name=""SQLOPTION1"">
                                                                  <block type=""variables_get"" id="";#Ooeg@lTr$%J4i2gh{!"">
                                                                    <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type=""sql_execute"" id=""Nb,6HC2yG-K0qK(PR`r0"">
                                                                    <mutation bindsCount=""1""></mutation>
                                                                    <value name=""SQL_QUERY"">
                                                                      <block type=""sql_query"" id=""7L:DifL~,-P.U!}RXk/|"">
                                                                        <field name=""SQL_QUERY"">select &amp;#10;pca.""Value"" as ""promotext""&amp;#10;from ""ProductCustomAttributes"" pca&amp;#10;where&amp;#10;pca.""AttributeID"" = 'promotext'&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                      </block>
                                                                    </value>
                                                                    <statement name=""DO"">
                                                                      <block type=""targetcontext_automap"" id=""5pvMSqidy3G~Hvu.NN=6""></block>
                                                                    </statement>
                                                                    <value name=""SQLOPTION1"">
                                                                      <block type=""variables_get"" id=""Wef?Fofn7]hm,DpU3AQ2"">
                                                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                      </block>
                                                                    </value>
                                                                    <next>
                                                                      <block type=""targetcontext_struct"" id=""@u{7_#=++iKU%*t9E#ek"">
                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                        <field name=""CONTEXT_SELECT"">products  inventory</field>
                                                                        <statement name=""CONTEXT_DO"">
                                                                          <block type=""sql_execute"" id=""2~4S;b8@%8,MOu*$Q6Yf"">
                                                                            <mutation bindsCount=""1""></mutation>
                                                                            <value name=""SQL_QUERY"">
                                                                              <block type=""sql_query"" id=""ivZ3YRJW|/j1g(-MQ-/}"">
                                                                                <field name=""SQL_QUERY"">select &amp;#10;sum(ir.""Ats"") as ""ats"",&amp;#10;ir.""Perpetual"" as ""perpetual"",&amp;#10;ir.""AllocationTime"" as ""allocationTimestamp"",&amp;#10;ir.""PreorderBackorderHandling"" as ""preorderBackorderHandling"",&amp;#10;sum(ir.""OnOrder"") as ""onOrder"",&amp;#10;sum(ir.""Allocation"") as ""allocation"",&amp;#10;sum(ir.""Turnover"") as ""turnover""&amp;#10;from &amp;#10;""ProductVariants"" pv, ""InventoryRecord"" ir&amp;#10;where&amp;#10;pv.""ProductID"" = '0001038341655'&amp;#10;and &amp;#10;pv.""variantID"" =ir.""ProductID"" &amp;#10;group by ir.""Perpetual"",ir.""AllocationTime"",ir.""PreorderBackorderHandling""</field>
                                                                              </block>
                                                                            </value>
                                                                            <statement name=""DO"">
                                                                              <block type=""targetcontext_automap"" id=""zXu-9]osfz_z/V].ihv;""></block>
                                                                            </statement>
                                                                            <value name=""SQLOPTION1"">
                                                                              <block type=""variables_get"" id=""na6__LD]*`hv3{8y?yY@"">
                                                                                <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                              </block>
                                                                            </value>
                                                                          </block>
                                                                        </statement>
                                                                        <next>
                                                                          <block type=""targetcontext_arraystruct"" id=""=~?Z+9%lAj-at;D3ae,G"">
                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                            <field name=""CONTEXT_SELECT"">products  imageGroups</field>
                                                                            <statement name=""CONTEXT_DO"">
                                                                              <block type=""sql_execute"" id=""bA]E;4$P}cNN8:4bv%gl"">
                                                                                <mutation bindsCount=""1""></mutation>
                                                                                <value name=""SQL_QUERY"">
                                                                                  <block type=""sql_query"" id=""O}FRn(m.zu-:W*o;aKJK"">
                                                                                    <field name=""SQL_QUERY"">select &amp;#10;pig.""variationValue"" as ""variationValue"",&amp;#10;pig.""viewType"" as ""viewType""&amp;#10;from &amp;#10;""ProductImageGroups"" pig &amp;#10;where&amp;#10;pig.""ProductId"" = %s</field>
                                                                                  </block>
                                                                                </value>
                                                                                <statement name=""DO"">
                                                                                  <block type=""targetcontext_append_row"" id=""g,D70fbP8W[ZD[ms-Jva"">
                                                                                    <next>
                                                                                      <block type=""targetcontext_automap"" id="",a`{F^C+MdqofJAD(}nU"">
                                                                                        <next>
                                                                                          <block type=""sql_execute"" id=""V)Q4$UX48As:y4qqab7$"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id="":DP;Zzv}I$*/RN-UYL9n"">
                                                                                                <field name=""SQL_QUERY"">select &amp;#10;pig.""ImageGroupsId"" as ""imgId""&amp;#10;from &amp;#10;""ProductImageGroups"" pig&amp;#10;where&amp;#10;pig.""ProductId"" = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""variables_set"" id=""/BBr?ogSIPD,FnH[cdoW"">
                                                                                                <field name=""VAR"" id=""4#U|Tc|J48A$FMGsnsK:"">imgID</field>
                                                                                                <value name=""VALUE"">
                                                                                                  <block type=""targetcontext_refer_columns"" id=""VIY}JIhg)g2L(_Y=5Da7"">
                                                                                                    <field name=""COLUMN"">imgId</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""targetcontext_arraystruct"" id=""#x%Q#ly=|(1;O~PM)EK0"">
                                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  imageGroups""></mutation>
                                                                                                    <field name=""CONTEXT_SELECT"">products  imageGroups  images</field>
                                                                                                    <statement name=""CONTEXT_DO"">
                                                                                                      <block type=""sql_execute"" id=""Os!RzHCw%9%dD/I+rSCe"">
                                                                                                        <mutation bindsCount=""2""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""?n8y[#JOsog_p?E9-I/O"">
                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pigpi.""Path"" as ""path""&amp;#10;from &amp;#10;""ProductImageGroupsProductImage"" pigpi&amp;#10;inner join ""ProductImageGroups"" pig on pig.""ImageGroupsId"" = pigpi.""ImageGroupsId"" &amp;#10;where&amp;#10;pigpi.""ImageGroupsId"" = %s&amp;#10;and &amp;#10;pig.""ProductId"" = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""targetcontext_append_row"" id=""FTK4fNNSX,FoRqT+E.Bs"">
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_automap"" id=""$Oa+Zs6iBvoemTjH]QNb""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""huFt,zi@a=S6{=t~z+Fy"">
                                                                                                            <field name=""VAR"" id=""4#U|Tc|J48A$FMGsnsK:"">imgID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <value name=""SQLOPTION2"">
                                                                                                          <block type=""variables_get"" id=""2}PzIQu|dCdj;3Q:.JUs"">
                                                                                                            <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""bq45buWIt64tNwb6hSt^"">
                                                                                                <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                                              </block>
                                                                                            </value>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </statement>
                                                                                <value name=""SQLOPTION1"">
                                                                                  <block type=""variables_get"" id=""t_x_Ko5G6pyA]DkTbAUs"">
                                                                                    <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                                  </block>
                                                                                </value>
                                                                              </block>
                                                                            </statement>
                                                                            <next>
                                                                              <block type=""targetcontext_arraystruct"" id=""W7p4l6pSvE3[f%2w*cHT"">
                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products""></mutation>
                                                                                <field name=""CONTEXT_SELECT"">products  variants</field>
                                                                                <statement name=""CONTEXT_DO"">
                                                                                  <block type=""sql_execute"" id=""BD!`KLs9cm(OrddwdRO2"">
                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                    <value name=""SQL_QUERY"">
                                                                                      <block type=""sql_query"" id=""IP`4D[ZGcw=Fi4hIT[d9"">
                                                                                        <field name=""SQL_QUERY"">select&amp;#10;pv.""variantID"" as  ""variantID""&amp;#10;from (&amp;#10;""Products"" p &amp;#10;inner join ""ProductVariants"" pv &amp;#10;on pv.""ProductID"" = p.""ID""&amp;#10;and &amp;#10;pv.""variantID"" != p.""ID"")&amp;#10;where &amp;#10;p.""ID"" = %s</field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <statement name=""DO"">
                                                                                      <block type=""variables_set"" id=""R|K[tvIQ@S`qY_X=1FR;"">
                                                                                        <field name=""VAR"" id=""vO{b0Sh%LsExX~qhiE$h"">variantID</field>
                                                                                        <value name=""VALUE"">
                                                                                          <block type=""targetcontext_refer_columns"" id=""XFNl+}%qku],_hUJp|T="">
                                                                                            <field name=""COLUMN"">variantID</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type=""sql_execute"" id=""225@Is}BMkidpR[gK.1m"">
                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                            <value name=""SQL_QUERY"">
                                                                                              <block type=""sql_query"" id=""+t3|zs|U^EkQ:h{kP3Q?"">
                                                                                                <field name=""SQL_QUERY"">select&amp;#10;p2.""ID"" as ""id""&amp;#10;from&amp;#10;""Products"" p2 &amp;#10;where&amp;#10;p2.""ID"" = %s</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <statement name=""DO"">
                                                                                              <block type=""targetcontext_field"" id=""~*%clgJupqz[ewcm)r]f"">
                                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  variants""></mutation>
                                                                                                <field name=""CONTEXT_SELECT"">products  variants  id</field>
                                                                                                <value name=""FIELD"">
                                                                                                  <block type=""targetcontext_refer_columns"" id=""Jz/,0-g8ej}%erj.3S%J"">
                                                                                                    <field name=""COLUMN"">id</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""targetcontext_append_row"" id=""a~3zZBK9aBz-/3m2IqOT""></block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </statement>
                                                                                            <value name=""SQLOPTION1"">
                                                                                              <block type=""variables_get"" id=""RoVlTRdSYb8w2euA65(."">
                                                                                                <field name=""VAR"" id=""vO{b0Sh%LsExX~qhiE$h"">variantID</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <next>
                                                                                              <block type=""sql_execute"" id=""m5Wdz@F%L9nT8TH.l*F9"">
                                                                                                <mutation bindsCount=""1""></mutation>
                                                                                                <value name=""SQL_QUERY"">
                                                                                                  <block type=""sql_query"" id=""$Jfr~t;wT[~!bIr*X1$t"">
                                                                                                    <field name=""SQL_QUERY"">select &amp;#10;pca.""Value"" as ""color""&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca &amp;#10;where&amp;#10;pca.""AttributeID"" = 'color'&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <statement name=""DO"">
                                                                                                  <block type=""targetcontext_field"" id=""2mv9Ac3z#r}=o{iHsL)j"">
                                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  variants""></mutation>
                                                                                                    <field name=""CONTEXT_SELECT"">products  variants  color</field>
                                                                                                    <value name=""FIELD"">
                                                                                                      <block type=""targetcontext_refer_columns"" id=""m|nBSk^04]l}:F[U?8uD"">
                                                                                                        <field name=""COLUMN"">color</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <next>
                                                                                                      <block type=""targetcontext_append_row"" id=""z6w-E2:,9x7ghohI6~UK""></block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </statement>
                                                                                                <value name=""SQLOPTION1"">
                                                                                                  <block type=""variables_get"" id=""yRZ_iLx2f#zLkODO{j[x"">
                                                                                                    <field name=""VAR"" id=""vO{b0Sh%LsExX~qhiE$h"">variantID</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type=""sql_execute"" id=""l3-Ri!Pr;m]GQLHS6pm%"">
                                                                                                    <mutation bindsCount=""1""></mutation>
                                                                                                    <value name=""SQL_QUERY"">
                                                                                                      <block type=""sql_query"" id=""1bT{%ejMzzqPnvtv_*Gc"">
                                                                                                        <field name=""SQL_QUERY"">select &amp;#10;pca.""Value"" as ""mainColor""&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca &amp;#10;where&amp;#10;pca.""AttributeID"" = 'mainColor'&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <statement name=""DO"">
                                                                                                      <block type=""targetcontext_field"" id=""k-VtZ?)U._hid]GydzMk"">
                                                                                                        <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  variants""></mutation>
                                                                                                        <field name=""CONTEXT_SELECT"">products  variants  mainColor</field>
                                                                                                        <value name=""FIELD"">
                                                                                                          <block type=""targetcontext_refer_columns"" id=""Zk6D*Q}5.R;57G-~xU$9"">
                                                                                                            <field name=""COLUMN"">mainColor</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type=""targetcontext_append_row"" id=""|Ds49fFHh*wtvd[P~R.q""></block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </statement>
                                                                                                    <value name=""SQLOPTION1"">
                                                                                                      <block type=""variables_get"" id=""+=o5oG*w[c6oQ#/Cu2E0"">
                                                                                                        <field name=""VAR"" id=""vO{b0Sh%LsExX~qhiE$h"">variantID</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <next>
                                                                                                      <block type=""sql_execute"" id=""2[QxS-#7{cJ4hh;{WJ*~"">
                                                                                                        <mutation bindsCount=""1""></mutation>
                                                                                                        <value name=""SQL_QUERY"">
                                                                                                          <block type=""sql_query"" id=""O@`)k4Q)|CK!%#oz*B7j"">
                                                                                                            <field name=""SQL_QUERY"">select &amp;#10;pca.""Value"" as ""size""&amp;#10;from &amp;#10;""ProductCustomAttributes"" pca &amp;#10;where&amp;#10;pca.""AttributeID"" = 'size'&amp;#10;and &amp;#10;pca.""ProductId"" = %s</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <statement name=""DO"">
                                                                                                          <block type=""targetcontext_field"" id=""0AkI1GSx3^;6UkSa;(bv"">
                                                                                                            <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  variants""></mutation>
                                                                                                            <field name=""CONTEXT_SELECT"">products  variants  size</field>
                                                                                                            <value name=""FIELD"">
                                                                                                              <block type=""targetcontext_refer_columns"" id=""RyDpkQR~Z7S=fy:[]_++"">
                                                                                                                <field name=""COLUMN"">size</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <next>
                                                                                                              <block type=""targetcontext_append_row"" id=""bu2iQ,~Nf_PZf$BncW](""></block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </statement>
                                                                                                        <value name=""SQLOPTION1"">
                                                                                                          <block type=""variables_get"" id=""+`6lX_r;_k!{NwIy#3|}"">
                                                                                                            <field name=""VAR"" id=""vO{b0Sh%LsExX~qhiE$h"">variantID</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type=""sql_execute"" id=""=/A2J|;?lb/c`Yune?RS"">
                                                                                                            <mutation bindsCount=""1""></mutation>
                                                                                                            <value name=""SQL_QUERY"">
                                                                                                              <block type=""sql_query"" id="")hxI,bK4Y5QmEfb@pKFa"">
                                                                                                                <field name=""SQL_QUERY"">select&amp;#10;pra.""Quantity"" as ""ats"",&amp;#10;pra.""Value"" as ""price""&amp;#10;from &amp;#10;""PricebookRecordAmount"" pra&amp;#10;where&amp;#10;pra.""PricebookRecordID"" = (select &amp;#10;coalesce(pro.""PricebookRecordID"" , prd.""PricebookRecordID"") as ""PricebookRecordID""&amp;#10;from ""PricebookRecord"" prd &amp;#10;full outer join ""PricebookRecord"" pro&amp;#10;on prd.""ProductID"" = pro.""ProductID""&amp;#10;and &amp;#10;pro.""PriceBookType"" = 'OverRidePriceBook' &amp;#10;and&amp;#10;prd.""PriceBookType"" = 'DefaultPriceBook'&amp;#10;where&amp;#10;prd.""ProductID"" = %s&amp;#10;)</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <statement name=""DO"">
                                                                                                              <block type=""targetcontext_field"" id=""|p^4!85axhRn?jTl3F_`"">
                                                                                                                <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  variants""></mutation>
                                                                                                                <field name=""CONTEXT_SELECT"">products  variants  ats</field>
                                                                                                                <value name=""FIELD"">
                                                                                                                  <block type=""targetcontext_refer_columns"" id=""R(_jGzm@yWJS4L27{dcD"">
                                                                                                                    <field name=""COLUMN"">ats</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type=""targetcontext_field"" id=""[8@.,lF/CO$-3Y1N%d.5"">
                                                                                                                    <mutation xmlns=""http://www.w3.org/1999/xhtml"" parentcontext=""products  variants""></mutation>
                                                                                                                    <field name=""CONTEXT_SELECT"">products  variants  price</field>
                                                                                                                    <value name=""FIELD"">
                                                                                                                      <block type=""targetcontext_refer_columns"" id=""l]|4$iz:`-)Gm6Wv;|o{"">
                                                                                                                        <field name=""COLUMN"">price</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <next>
                                                                                                                      <block type=""targetcontext_append_row"" id=""hG9ZC:|iiiJ.T78(5k=[""></block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </statement>
                                                                                                            <value name=""SQLOPTION1"">
                                                                                                              <block type=""variables_get"" id=""0u_sSR=|]la/S9omRN,L"">
                                                                                                                <field name=""VAR"" id=""vO{b0Sh%LsExX~qhiE$h"">variantID</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </statement>
                                                                                    <value name=""SQLOPTION1"">
                                                                                      <block type=""variables_get"" id="":meOW*e_KzVr9?W!hQ0n"">
                                                                                        <field name=""VAR"" id=""W;e`[)?%83ZmOVjCT))!"">productID</field>
                                                                                      </block>
                                                                                    </value>
                                                                                  </block>
                                                                                </statement>
                                                                                <next>
                                                                                  <block type=""targetcontext_save_row"" id=""B2Vb,MO;yL0*4sVMmf9U""></block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type=""targetcontext_automap"" id=""GBh)x:a{a-%[ZKl~y1;U"" disabled=""true"" x=""-1230"" y=""3195""></block>
</xml>",1,2020-12-30 10:36:00
